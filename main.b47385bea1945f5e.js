"use strict";(self.webpackChunkworkout_app=self.webpackChunkworkout_app||[]).push([[179],{55:()=>{function Ne(t){return"function"==typeof t}function Fu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Od=Fu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function $o(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Ln{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Ne(r))try{r()}catch(s){e=s instanceof Od?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{$T(s)}catch(o){e=e??[],o instanceof Od?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Od(e)}}add(e){var n;if(e&&e!==this)if(this.closed)$T(e);else{if(e instanceof Ln){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$o(n,e)}remove(e){const{_finalizers:n}=this;n&&$o(n,e),e instanceof Ln&&e._removeParent(this)}}Ln.EMPTY=(()=>{const t=new Ln;return t.closed=!0,t})();const UT=Ln.EMPTY;function BT(t){return t instanceof Ln||t&&"closed"in t&&Ne(t.remove)&&Ne(t.add)&&Ne(t.unsubscribe)}function $T(t){Ne(t)?t():t.unsubscribe()}const bs={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Fd={setTimeout(t,e,...n){const{delegate:r}=Fd;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Fd;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function jT(t){Fd.setTimeout(()=>{const{onUnhandledError:e}=bs;if(!e)throw t;e(t)})}function HT(){}const aj=rm("C",void 0,void 0);function rm(t,e,n){return{kind:t,value:e,error:n}}let Ds=null;function Ld(t){if(bs.useDeprecatedSynchronousErrorHandling){const e=!Ds;if(e&&(Ds={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Ds;if(Ds=null,n)throw r}}else t()}class im extends Ln{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,BT(e)&&e.add(this)):this.destination=pj}static create(e,n,r){return new Lu(e,n,r)}next(e){this.isStopped?om(function cj(t){return rm("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?om(function uj(t){return rm("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?om(aj,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dj=Function.prototype.bind;function sm(t,e){return dj.call(t,e)}class hj{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Vd(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Vd(r)}else Vd(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Vd(n)}}}class Lu extends im{constructor(e,n,r){let i;if(super(),Ne(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&bs.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&sm(e.next,s),error:e.error&&sm(e.error,s),complete:e.complete&&sm(e.complete,s)}):i=e}this.destination=new hj(i)}}function Vd(t){bs.useDeprecatedSynchronousErrorHandling?function lj(t){bs.useDeprecatedSynchronousErrorHandling&&Ds&&(Ds.errorThrown=!0,Ds.error=t)}(t):jT(t)}function om(t,e){const{onStoppedNotification:n}=bs;n&&Fd.setTimeout(()=>n(t,e))}const pj={closed:!0,next:HT,error:function fj(t){throw t},complete:HT},am="function"==typeof Symbol&&Symbol.observable||"@@observable";function Cs(t){return t}function GT(t){return 0===t.length?Cs:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Je=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function yj(t){return t&&t instanceof im||function mj(t){return t&&Ne(t.next)&&Ne(t.error)&&Ne(t.complete)}(t)&&BT(t)}(n)?n:new Lu(n,r,i);return Ld(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=qT(r))((i,s)=>{const o=new Lu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[am](){return this}pipe(...n){return GT(n)(this)}toPromise(n){return new(n=qT(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function qT(t){var e;return null!==(e=t??bs.Promise)&&void 0!==e?e:Promise}const _j=Fu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Jr=(()=>{class t extends Je{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new zT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new _j}next(n){Ld(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Ld(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ld(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?UT:(this.currentObservers=null,s.push(n),new Ln(()=>{this.currentObservers=null,$o(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Je;return n.source=this,n}}return t.create=(e,n)=>new zT(e,n),t})();class zT extends Jr{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:UT}}function WT(t){return Ne(t?.lift)}function At(t){return e=>{if(WT(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function vt(t,e,n,r,i){return new vj(t,e,n,r,i)}class vj extends im{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function he(t,e){return At((n,r)=>{let i=0;n.subscribe(vt(r,s=>{r.next(t.call(e,s,i++))}))})}function cm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ts(t){return this instanceof Ts?(this.v=t,this):new Ts(t)}function Ej(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ts?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function bj(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function YT(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const XT=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function ZT(t){return Ne(t?.then)}function JT(t){return Ne(t[am])}function eS(t){return Symbol.asyncIterator&&Ne(t?.[Symbol.asyncIterator])}function tS(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const nS=function Cj(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function rS(t){return Ne(t?.[nS])}function iS(t){return Ej(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ts(n.read());if(i)return yield Ts(void 0);yield yield Ts(r)}}finally{n.releaseLock()}})}function sS(t){return Ne(t?.getReader)}function fr(t){if(t instanceof Je)return t;if(null!=t){if(JT(t))return function Tj(t){return new Je(e=>{const n=t[am]();if(Ne(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(XT(t))return function Sj(t){return new Je(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(ZT(t))return function Aj(t){return new Je(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,jT)})}(t);if(eS(t))return oS(t);if(rS(t))return function xj(t){return new Je(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(sS(t))return function Mj(t){return oS(iS(t))}(t)}throw tS(t)}function oS(t){return new Je(e=>{(function kj(t,e){var n,r,i,s;return function wj(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=bj(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ei(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ft(t,e,n=1/0){return Ne(e)?Ft((r,i)=>he((s,o)=>e(r,s,i,o))(fr(t(r,i))),n):("number"==typeof e&&(n=e),At((r,i)=>function Rj(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;fr(n(m,l++)).subscribe(vt(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?ei(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(vt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function jo(t=1/0){return Ft(Cs,t)}const ti=new Je(t=>t.complete());function lm(t){return t[t.length-1]}function aS(t){return Ne(lm(t))?t.pop():void 0}function Vu(t){return function Pj(t){return t&&Ne(t.schedule)}(lm(t))?t.pop():void 0}function Ud(t,e=0){return At((n,r)=>{n.subscribe(vt(r,i=>ei(r,t,()=>r.next(i),e),()=>ei(r,t,()=>r.complete(),e),i=>ei(r,t,()=>r.error(i),e)))})}function Bd(t,e=0){return At((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function uS(t,e){if(!t)throw new Error("Iterable cannot be null");return new Je(n=>{ei(n,e,()=>{const r=t[Symbol.asyncIterator]();ei(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function dt(t,e){return e?function $j(t,e){if(null!=t){if(JT(t))return function Fj(t,e){return fr(t).pipe(Bd(e),Ud(e))}(t,e);if(XT(t))return function Vj(t,e){return new Je(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(ZT(t))return function Lj(t,e){return fr(t).pipe(Bd(e),Ud(e))}(t,e);if(eS(t))return uS(t,e);if(rS(t))return function Uj(t,e){return new Je(n=>{let r;return ei(n,e,()=>{r=t[nS](),ei(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Ne(r?.return)&&r.return()})}(t,e);if(sS(t))return function Bj(t,e){return uS(iS(t),e)}(t,e)}throw tS(t)}(t,e):fr(t)}function dm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Lu({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function ke(t){for(let e in t)if(t[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function hm(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Re(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Re).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function fm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Gj=ke({__forward_ref__:ke});function Pe(t){return t.__forward_ref__=Pe,t.toString=function(){return Re(this())},t}function Q(t){return pm(t)?t():t}function pm(t){return"function"==typeof t&&t.hasOwnProperty(Gj)&&t.__forward_ref__===Pe}function gm(t){return t&&!!t.\u0275providers}const cS="https://g.co/ng/security#xss";class x extends Error{constructor(e,n){super(function $d(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function ne(t){return"string"==typeof t?t:null==t?"":String(t)}function jd(t,e){throw new x(-201,!1)}function nr(t,e){null==t&&function Ce(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ln(t){return{providers:t.providers||[],imports:t.imports||[]}}function Hd(t){return lS(t,Gd)||lS(t,hS)}function lS(t,e){return t.hasOwnProperty(e)?t[e]:null}function dS(t){return t&&(t.hasOwnProperty(mm)||t.hasOwnProperty(Jj))?t[mm]:null}const Gd=ke({\u0275prov:ke}),mm=ke({\u0275inj:ke}),hS=ke({ngInjectableDef:ke}),Jj=ke({ngInjectorDef:ke});var Y=(()=>((Y=Y||{})[Y.Default=0]="Default",Y[Y.Host=1]="Host",Y[Y.Self=2]="Self",Y[Y.SkipSelf=4]="SkipSelf",Y[Y.Optional=8]="Optional",Y))();let ym;function rr(t){const e=ym;return ym=t,e}function fS(t,e,n){const r=Hd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Y.Optional?null:void 0!==e?e:void jd(Re(t))}const Oe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Uu={},_m="__NG_DI_FLAG__",qd="ngTempTokenPath",nH=/\n/gm,pS="__source";let Bu;function Ho(t){const e=Bu;return Bu=t,e}function iH(t,e=Y.Default){if(void 0===Bu)throw new x(-203,!1);return null===Bu?fS(t,void 0,e):Bu.get(t,e&Y.Optional?null:void 0,e)}function $(t,e=Y.Default){return(function eH(){return ym}()||iH)(Q(t),e)}function me(t,e=Y.Default){return $(t,zd(e))}function zd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function vm(t){const e=[];for(let n=0;n<t.length;n++){const r=Q(t[n]);if(Array.isArray(r)){if(0===r.length)throw new x(900,!1);let i,s=Y.Default;for(let o=0;o<r.length;o++){const a=r[o],u=sH(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push($(i,s))}else e.push($(r))}return e}function $u(t,e){return t[_m]=e,t.prototype[_m]=e,t}function sH(t){return t[_m]}function Hi(t){return{toString:t}.toString()}var pr=(()=>((pr=pr||{})[pr.OnPush=0]="OnPush",pr[pr.Default=1]="Default",pr))(),Ar=(()=>{return(t=Ar||(Ar={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Ar;var t})();const ni={},be=[],Wd=ke({\u0275cmp:ke}),wm=ke({\u0275dir:ke}),Im=ke({\u0275pipe:ke}),mS=ke({\u0275mod:ke}),ri=ke({\u0275fac:ke}),ju=ke({__NG_ELEMENT_ID__:ke});let uH=0;function Lt(t){return Hi(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===pr.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||be,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ar.Emulated,id:"c"+uH++,styles:t.styles||be,_:null,setInput:null,schemas:t.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=t.dependencies,o=t.features;return i.inputs=vS(t.inputs,r),i.outputs=vS(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(yS).filter(_S):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(dn).filter(_S):null,i})}function yS(t){return Te(t)||Jt(t)}function _S(t){return null!==t}function Cn(t){return Hi(()=>({type:t.type,bootstrap:t.bootstrap||be,declarations:t.declarations||be,imports:t.imports||be,exports:t.exports||be,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function vS(t,e){if(null==t)return ni;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Z=Lt;function Te(t){return t[Wd]||null}function Jt(t){return t[wm]||null}function dn(t){return t[Im]||null}function Un(t,e){const n=t[mS]||null;if(!n&&!0===e)throw new Error(`Type ${Re(t)} does not have '\u0275mod' property.`);return n}function Bn(t){return Array.isArray(t)&&"object"==typeof t[1]}function mr(t){return Array.isArray(t)&&!0===t[1]}function Dm(t){return 0!=(4&t.flags)}function zu(t){return t.componentOffset>-1}function Zd(t){return 1==(1&t.flags)}function yr(t){return null!==t.template}function dH(t){return 0!=(256&t[2])}function As(t,e){return t.hasOwnProperty(ri)?t[ri]:null}class pH{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function ir(){return CS}function CS(t){return t.type.prototype.ngOnChanges&&(t.setInput=mH),gH}function gH(){const t=SS(this),e=t?.current;if(e){const n=t.previous;if(n===ni)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function mH(t,e,n,r){const i=this.declaredInputs[n],s=SS(t)||function yH(t,e){return t[TS]=e}(t,{previous:ni,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new pH(u&&u.currentValue,e,a===ni),t[r]=e}ir.ngInherit=!0;const TS="__ngSimpleChanges__";function SS(t){return t[TS]||null}function Vt(t){for(;Array.isArray(t);)t=t[0];return t}function Jd(t,e){return Vt(e[t])}function $n(t,e){return Vt(e[t.index])}function MS(t,e){return t.data[e]}function jn(t,e){const n=e[t];return Bn(n)?n:n[0]}function eh(t){return 64==(64&t[2])}function Gi(t,e){return null==e?null:t[e]}function kS(t){t[18]=0}function Tm(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const re={lFrame:$S(null),bindingsEnabled:!0};function NS(){return re.bindingsEnabled}function b(){return re.lFrame.lView}function ye(){return re.lFrame.tView}function We(t){return re.lFrame.contextLView=t,t[8]}function Ke(t){return re.lFrame.contextLView=null,t}function Ut(){let t=PS();for(;null!==t&&64===t.type;)t=t.parent;return t}function PS(){return re.lFrame.currentTNode}function Mr(t,e){const n=re.lFrame;n.currentTNode=t,n.isParent=e}function Sm(){return re.lFrame.isParent}function Yo(){return re.lFrame.bindingIndex++}function oi(t){const e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function MH(t,e){const n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,xm(e)}function xm(t){re.lFrame.currentDirectiveIndex=t}function VS(){return re.lFrame.currentQueryIndex}function km(t){re.lFrame.currentQueryIndex=t}function RH(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function US(t,e,n){if(n&Y.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Y.Host||(i=RH(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=re.lFrame=BS();return r.currentTNode=e,r.lView=t,!0}function Rm(t){const e=BS(),n=t[1];re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function BS(){const t=re.lFrame,e=null===t?null:t.child;return null===e?$S(t):e}function $S(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function jS(){const t=re.lFrame;return re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const HS=jS;function Nm(){const t=jS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pn(){return re.lFrame.selectedIndex}function xs(t){re.lFrame.selectedIndex=t}function Qe(){const t=re.lFrame;return MS(t.tView,t.selectedIndex)}function Hn(){re.lFrame.currentNamespace="svg"}function ai(){!function FH(){re.lFrame.currentNamespace=null}()}function th(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function nh(t,e,n){GS(t,e,3,n)}function rh(t,e,n,r){(3&t[2])===n&&GS(t,e,n,r)}function Pm(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function GS(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&(UH(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function UH(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Ku{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Fm(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];zS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function qS(t){return 3===t||4===t||6===t}function zS(t){return 64===t.charCodeAt(0)}function Qu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||WS(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function WS(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function KS(t){return-1!==t}function ih(t){return 32767&t}function sh(t,e){let n=function HH(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Lm=!0;function oh(t){const e=Lm;return Lm=t,e}let GH=0;const kr={};function ah(t,e){const n=XS(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Vm(r.data,t),Vm(e,null),Vm(r.blueprint,null));const i=Um(t,e),s=t.injectorIndex;if(KS(i)){const o=ih(i),a=sh(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function Vm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function XS(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Um(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=iA(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Bm(t,e,n){!function qH(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(ju)&&(r=n[ju]),null==r&&(r=n[ju]=GH++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function ZS(t,e,n){if(n&Y.Optional||void 0!==t)return t;jd()}function JS(t,e,n,r){if(n&Y.Optional&&void 0===r&&(r=null),0==(n&(Y.Self|Y.Host))){const i=t[9],s=rr(void 0);try{return i?i.get(e,r,n&Y.Optional):fS(e,r,n&Y.Optional)}finally{rr(s)}}return ZS(r,0,n)}function eA(t,e,n,r=Y.Default,i){if(null!==t){if(1024&e[2]){const o=function YH(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=tA(s,o,n,r|Y.Self,kr);if(a!==kr)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(n,kr,r);if(l!==kr)return l}u=iA(o),o=o[15]}s=u}return i}(t,e,n,r,kr);if(o!==kr)return o}const s=tA(t,e,n,r,kr);if(s!==kr)return s}return JS(e,n,r,i)}function tA(t,e,n,r,i){const s=function KH(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(ju)?t[ju]:void 0;return"number"==typeof e?e>=0?255&e:QH:e}(n);if("function"==typeof s){if(!US(e,t,r))return r&Y.Host?ZS(i,0,r):JS(e,n,r,i);try{const o=s(r);if(null!=o||r&Y.Optional)return o;jd()}finally{HS()}}else if("number"==typeof s){let o=null,a=XS(t,e),u=-1,c=r&Y.Host?e[16][6]:null;for((-1===a||r&Y.SkipSelf)&&(u=-1===a?Um(t,e):e[a+8],-1!==u&&rA(r,!1)?(o=e[1],a=ih(u),e=sh(u,e)):a=-1);-1!==a;){const l=e[1];if(nA(s,a,l.data)){const d=WH(a,e,n,o,r,c);if(d!==kr)return d}u=e[a+8],-1!==u&&rA(r,e[1].data[a+8]===c)&&nA(s,a,e)?(o=l,a=ih(u),e=sh(u,e)):a=-1}}return i}function WH(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=uh(a,o,n,null==r?zu(a)&&Lm:r!=o&&0!=(3&a.type),i&Y.Host&&s===a);return null!==l?Ms(e,o,l,a):kr}function uh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&yr(f)&&f.type===n)return u}return null}function Ms(t,e,n,r){let i=t[n];const s=e.data;if(function BH(t){return t instanceof Ku}(i)){const o=i;o.resolving&&function qj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new x(-200,`Circular dependency in DI detected for ${t}${n}`)}(function De(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ne(t)}(s[n]));const a=oh(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?rr(o.injectImpl):null;US(t,r,Y.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function VH(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=CS(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&rr(u),oh(a),o.resolving=!1,HS()}}return i}function nA(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function rA(t,e){return!(t&Y.Self||t&Y.Host&&e)}class Zo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return eA(this._tNode,this._lView,e,zd(r),n)}}function QH(){return new Zo(Ut(),b())}function Bt(t){return Hi(()=>{const e=t.prototype.constructor,n=e[ri]||$m(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ri]||$m(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function $m(t){return pm(t)?()=>{const e=$m(Q(t));return e&&e()}:As(t)}function iA(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const ea="__parameters__";function na(t,e,n){return Hi(()=>{const r=function jm(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ea)?u[ea]:Object.defineProperty(u,ea,{value:[]})[ea];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class j{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ks(t,e){t.forEach(n=>Array.isArray(n)?ks(n,e):e(n))}function oA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function lh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Gn(t,e,n){let r=ra(t,e);return r>=0?t[1|r]=n:(r=~r,function e3(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Gm(t,e){const n=ra(t,e);if(n>=0)return t[1|n]}function ra(t,e){return function aA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const ht=$u(na("Optional"),8),Ju=$u(na("SkipSelf"),4);var Sn=(()=>((Sn=Sn||{})[Sn.Important=1]="Important",Sn[Sn.DashCase=2]="DashCase",Sn))();const Ym=new Map;let E3=0;const Zm="__ngContext__";function nn(t,e){Bn(e)?(t[Zm]=e[20],function D3(t){Ym.set(t[20],t)}(e)):t[Zm]=e}function ey(t,e){return undefined(t,e)}function rc(t){const e=t[3];return mr(e)?e[3]:e}function ty(t){return SA(t[13])}function ny(t){return SA(t[4])}function SA(t){for(;null!==t&&!mr(t);)t=t[4];return t}function sa(t,e,n,r,i){if(null!=r){let s,o=!1;mr(r)?s=r:Bn(r)&&(o=!0,r=r[0]);const a=Vt(r);0===t&&null!==n?null==i?NA(e,n,a):Rs(e,n,a,i||null,!0):1===t&&null!==n?Rs(e,n,a,i||null,!0):2===t?function cy(t,e,n){const r=ph(t,e);r&&function G3(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function W3(t,e,n,r,i){const s=n[7];s!==Vt(n)&&sa(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];ic(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function iy(t,e,n){return t.createElement(e,n)}function xA(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,Tm(i,-1)),n.splice(r,1)}function sy(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&xA(i,r),e>0&&(t[n-1][4]=r[4]);const s=lh(t,10+e);!function F3(t,e){ic(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function MA(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&ic(t,e,n,3,null,null),function U3(t){let e=t[13];if(!e)return oy(t[1],t);for(;e;){let n=null;if(Bn(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Bn(e)&&oy(e[1],e),e=e[3];null===e&&(e=t),Bn(e)&&oy(e[1],e),n=e&&e[4]}e=n}}(e)}}function oy(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function H3(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Ku)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function j3(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&mr(e[3])){n!==e[3]&&xA(n,e);const r=e[19];null!==r&&r.detachView(t)}!function C3(t){Ym.delete(t[20])}(e)}}function kA(t,e,n){return function RA(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Ar.None||s===Ar.Emulated)return null}return $n(r,n)}}(t,e.parent,n)}function Rs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function NA(t,e,n){t.appendChild(e,n)}function PA(t,e,n,r,i){null!==r?Rs(t,e,n,r,i):NA(t,e,n)}function ph(t,e){return t.parentNode(e)}let hy,_h,LA=function FA(t,e,n){return 40&t.type?$n(t,n):null};function gh(t,e,n,r){const i=kA(t,r,e),s=e[11],a=function OA(t,e,n){return LA(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)PA(s,i,n[u],a,!1);else PA(s,i,n,a,!1)}function mh(t,e){if(null!==e){const n=e.type;if(3&n)return $n(e,t);if(4&n)return uy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return mh(t,r);{const i=t[e.index];return mr(i)?uy(-1,i):Vt(i)}}if(32&n)return ey(e,t)()||Vt(t[e.index]);{const r=UA(t,e);return null!==r?Array.isArray(r)?r[0]:mh(rc(t[16]),r):mh(t,e.next)}}return null}function UA(t,e){return null!==e?t[16][6].projection[e.projection]:null}function uy(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return mh(r,i)}return e[7]}function ly(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&nn(Vt(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)ly(t,e,n.child,r,i,s,!1),sa(e,t,i,a,s);else if(32&u){const c=ey(n,r);let l;for(;l=c();)sa(e,t,i,l,s);sa(e,t,i,a,s)}else 16&u?BA(t,e,r,n,i,s):sa(e,t,i,a,s);n=o?n.projectionNext:n.next}}function ic(t,e,n,r,i,s){ly(n,r,t.firstChild,e,i,s,!1)}function BA(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)sa(e,t,i,u[c],s);else ly(t,e,u,o[3],i,s,!0)}function $A(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function jA(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Fm(t,e,r),null!==i&&$A(t,e,i),null!==s&&function Q3(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function zA(t){return function fy(){if(void 0===_h&&(_h=null,Oe.trustedTypes))try{_h=Oe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return _h}()?.createScriptURL(t)||t}class WA{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cS})`}}function qi(t){return t instanceof WA?t.changingThisBreaksApplicationSecurity:t}function sc(t,e){const n=function sG(t){return t instanceof WA&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${cS})`)}return n===e}const cG=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var ft=(()=>((ft=ft||{})[ft.NONE=0]="NONE",ft[ft.HTML=1]="HTML",ft[ft.STYLE=2]="STYLE",ft[ft.SCRIPT=3]="SCRIPT",ft[ft.URL=4]="URL",ft[ft.RESOURCE_URL=5]="RESOURCE_URL",ft))();function ac(t){const e=uc();return e?e.sanitize(ft.URL,t)||"":sc(t,"URL")?qi(t):function py(t){return(t=String(t)).match(cG)?t:"unsafe:"+t}(ne(t))}function ex(t){const e=uc();if(e)return zA(e.sanitize(ft.RESOURCE_URL,t)||"");if(sc(t,"ResourceURL"))return zA(qi(t));throw new x(904,!1)}function uc(){const t=b();return t&&t[12]}const wh=new j("ENVIRONMENT_INITIALIZER"),nx=new j("INJECTOR",-1),rx=new j("INJECTOR_DEF_TYPES");class ix{get(e,n=Uu){if(n===Uu){const r=new Error(`NullInjectorError: No provider for ${Re(e)}!`);throw r.name="NullInjectorError",r}return n}}function EG(...t){return{\u0275providers:sx(0,t),\u0275fromNgModule:!0}}function sx(t,...e){const n=[],r=new Set;let i;return ks(e,s=>{const o=s;_y(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&ox(i,n),n}function ox(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];vy(i,s=>{e.push(s)})}}function _y(t,e,n,r){if(!(t=Q(t)))return!1;let i=null,s=dS(t);const o=!s&&Te(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=dS(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)_y(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{ks(s.imports,l=>{_y(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&ox(c,e)}if(!a){const c=As(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:be},{provide:rx,useValue:i,multi:!0},{provide:wh,useValue:()=>$(i),multi:!0})}const u=s.providers;null==u||a||vy(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function vy(t,e){for(let n of t)gm(n)&&(n=n.\u0275providers),Array.isArray(n)?vy(n,e):e(n)}const bG=ke({provide:String,useValue:ke});function wy(t){return null!==t&&"object"==typeof t&&bG in t}function Ps(t){return"function"==typeof t}const Iy=new j("Set Injector scope."),Ih={},CG={};let Ey;function Eh(){return void 0===Ey&&(Ey=new ix),Ey}class ci{}class cx extends ci{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Dy(e,o=>this.processProvider(o)),this.records.set(nx,oa(void 0,this)),i.has("environment")&&this.records.set(ci,oa(void 0,this));const s=this.records.get(Iy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(rx.multi,be,Y.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=Ho(this),r=rr(void 0);try{return e()}finally{Ho(n),rr(r)}}get(e,n=Uu,r=Y.Default){this.assertNotDestroyed(),r=zd(r);const i=Ho(this),s=rr(void 0);try{if(!(r&Y.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function MG(t){return"function"==typeof t||"object"==typeof t&&t instanceof j}(e)&&Hd(e);a=u&&this.injectableDefInScope(u)?oa(by(e),Ih):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&Y.Self?Eh():this.parent).get(e,n=r&Y.Optional&&n===Uu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[qd]=o[qd]||[]).unshift(Re(e)),i)throw o;return function oH(t,e,n,r){const i=t[qd];throw e[pS]&&i.unshift(e[pS]),t.message=function aH(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Re(e);if(Array.isArray(e))i=e.map(Re).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Re(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nH,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[qd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{rr(s),Ho(i)}}resolveInjectorInitializers(){const e=Ho(this),n=rr(void 0);try{const r=this.get(wh.multi,be,Y.Self);for(const i of r)i()}finally{Ho(e),rr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Re(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){let n=Ps(e=Q(e))?e:Q(e&&e.provide);const r=function SG(t){return wy(t)?oa(void 0,t.useValue):oa(lx(t),Ih)}(e);if(Ps(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=oa(void 0,Ih,!0),i.factory=()=>vm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Ih&&(n.value=CG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function xG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Q(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function by(t){const e=Hd(t),n=null!==e?e.factory:As(t);if(null!==n)return n;if(t instanceof j)throw new x(204,!1);if(t instanceof Function)return function TG(t){const e=t.length;if(e>0)throw function Zu(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new x(204,!1);const n=function Xj(t){const e=t&&(t[Gd]||t[hS]);if(e){const n=function Zj(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new x(204,!1)}function lx(t,e,n){let r;if(Ps(t)){const i=Q(t);return As(i)||by(i)}if(wy(t))r=()=>Q(t.useValue);else if(function ux(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...vm(t.deps||[]));else if(function ax(t){return!(!t||!t.useExisting)}(t))r=()=>$(Q(t.useExisting));else{const i=Q(t&&(t.useClass||t.provide));if(!function AG(t){return!!t.deps}(t))return As(i)||by(i);r=()=>new i(...vm(t.deps))}return r}function oa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Dy(t,e){for(const n of t)Array.isArray(n)?Dy(n,e):n&&gm(n)?Dy(n.\u0275providers,e):e(n)}class kG{}class dx{}class NG{resolveComponentFactory(e){throw function RG(t){const e=Error(`No component factory found for ${Re(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let cc=(()=>{class t{}return t.NULL=new NG,t})();function PG(){return aa(Ut(),b())}function aa(t,e){return new qn($n(t,e))}let qn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=PG,t})();function OG(t){return t instanceof qn?t.nativeElement:t}class fx{}let li=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function FG(){const t=b(),n=jn(Ut().index,t);return(Bn(n)?n:t)[11]}(),t})(),LG=(()=>{class t{}return t.\u0275prov=z({token:t,providedIn:"root",factory:()=>null}),t})();class ua{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const px=new ua("15.0.4"),Cy={};function Sy(t){return t.ngOriginalError}class ca{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Sy(e);for(;n&&Sy(n);)n=Sy(n);return n||null}}function gx(t){return t.ownerDocument.defaultView}function di(t){return t instanceof Function?t():t}function yx(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const _x="ng-template";function WG(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==yx(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function vx(t){return 4===t.type&&t.value!==_x}function KG(t,e,n){return e===(4!==t.type||n?t.value:_x)}function QG(t,e,n){let r=4;const i=t.attrs||[],s=function ZG(t){for(let e=0;e<t.length;e++)if(qS(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!KG(t,u,n)||""===u&&1===e.length){if(_r(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!WG(t.attrs,c,n)){if(_r(r))return!1;o=!0}continue}const d=YG(8&r?"class":u,i,vx(t),n);if(-1===d){if(_r(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==yx(f,c,0)||2&r&&c!==h){if(_r(r))return!1;o=!0}}}}else{if(!o&&!_r(r)&&!_r(u))return!1;if(o&&_r(u))continue;o=!1,r=u|1&r}}return _r(r)||o}function _r(t){return 0==(1&t)}function YG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function JG(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function wx(t,e,n=!1){for(let r=0;r<e.length;r++)if(QG(t,e[r],n))return!0;return!1}function Ix(t,e){return t?":not("+e.trim()+")":e}function tq(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!_r(o)&&(e+=Ix(s,i),i=""),r=o,s=s||!_r(r);n++}return""!==i&&(e+=Ix(s,i)),e}const ie={};function G(t){Ex(ye(),b(),pn()+t,!1)}function Ex(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&nh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&rh(e,s,0,n)}xs(n)}function Tx(t,e=null,n=null,r){const i=Sx(t,e,n,r);return i.resolveInjectorInitializers(),i}function Sx(t,e=null,n=null,r,i=new Set){const s=[n||be,EG(t)];return r=r||("object"==typeof t?void 0:Re(t)),new cx(s,e||Eh(),r||null,i)}let gn=(()=>{class t{static create(n,r){if(Array.isArray(n))return Tx({name:""},r,n,"");{const i=n.name??"";return Tx({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Uu,t.NULL=new ix,t.\u0275prov=z({token:t,providedIn:"any",factory:()=>$(nx)}),t.__NG_ELEMENT_ID__=-1,t})();function D(t,e=Y.Default){const n=b();return null===n?$(t,e):eA(Ut(),n,Q(t),e)}function Ox(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];km(i),o.contentQueries(2,e[s],s)}}}function Dh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||t&&1024&t[2])&&(d[2]|=1024),kS(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=u||t&&t[12]||null,d[9]=c||t&&t[9]||null,d[6]=s,d[20]=function b3(){return E3++}(),d[21]=l,d[16]=2==e.type?t[16]:d,d}function ha(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Ry(t,e,n,r,i){const s=PS(),o=Sm(),u=t.data[e]=function Sq(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function xH(){return re.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Wu(){const t=re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Mr(s,!0),s}function lc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ny(t,e,n){Rm(e);try{const r=t.viewQuery;null!==r&&Hy(1,r,n);const i=t.template;null!==i&&Fx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ox(t,e),t.staticViewQueries&&Hy(2,t.viewQuery,n);const s=t.components;null!==s&&function Dq(t,e){for(let n=0;n<e.length;n++)zq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Nm()}}function Ch(t,e,n,r){const i=e[2];if(128!=(128&i)){Rm(e);try{kS(e),function FS(t){return re.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Fx(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&nh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&rh(e,c,0,null),Pm(e,0)}if(function Gq(t){for(let e=ty(t);null!==e;e=ny(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&Tm(s,1),i[2]|=512}}}(e),function Hq(t){for(let e=ty(t);null!==e;e=ny(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];eh(r)&&Ch(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Ox(t,e),o){const c=t.contentCheckHooks;null!==c&&nh(e,c)}else{const c=t.contentHooks;null!==c&&rh(e,c,1),Pm(e,1)}!function Eq(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)xs(~i);else{const s=i,o=n[++r],a=n[++r];MH(o,s),a(2,e[s])}}}finally{xs(-1)}}(t,e);const a=t.components;null!==a&&function bq(t,e){for(let n=0;n<e.length;n++)qq(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Hy(2,u,r),o){const c=t.viewCheckHooks;null!==c&&nh(e,c)}else{const c=t.viewHooks;null!==c&&rh(e,c,2),Pm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,Tm(e[3],-1))}finally{Nm()}}}function Fx(t,e,n,r,i){const s=pn(),o=2&r;try{xs(-1),o&&e.length>22&&Ex(t,e,22,!1),n(r,i)}finally{xs(s)}}function Py(t,e,n){if(Dm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function Oy(t,e,n){!NS()||(function Nq(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;zu(n)&&function Bq(t,e,n){const r=$n(e,t),i=Lx(n),s=t[10],o=Th(t,Dh(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ah(n,e),nn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=Ms(e,t,a,n);nn(c,e),null!==o&&$q(0,a-i,c,u,0,o),yr(u)&&(jn(n.index,e)[8]=Ms(e,t,a,n))}}(t,e,n,$n(n,e)),64==(64&n.flags)&&Hx(t,e,n))}function Fy(t,e,n=$n){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Lx(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ly(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ly(t,e,n,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function Cq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ie);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Vx(t,e,n,r){const i=qx(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&zx(t).push(r,i.length-1))}function Ux(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?Bx(n,e,i,s):r.hasOwnProperty(i)&&Bx(n,e,r[i],s)}return n}function Bx(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function zn(t,e,n,r,i,s,o,a){const u=$n(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Gy(t,n,l,r,i),zu(e)&&$x(n,e.index)):3&e.type&&(r=function xq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function $x(t,e){const n=jn(e,t);16&n[2]||(n[2]|=32)}function Vy(t,e,n,r){let i=!1;if(NS()){const s=null===r?null:{"":-1},o=function Oq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(wx(e,o.selectors,!1))if(r||(r=[]),yr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),Uy(t,e,a.length)}else r.unshift(o),Uy(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let a,u;null===o?a=u=null:[a,u]=o,null!==a&&(i=!0,jx(t,e,n,a,s,u)),s&&function Fq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new x(-301,!1);r.push(e[i],s)}}}(n,r,s)}return n.mergedAttrs=Qu(n.mergedAttrs,n.attrs),i}function jx(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Bm(ah(n,e),t,r[c].type);!function Vq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=lc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Qu(n.mergedAttrs,l.hostAttrs),Uq(t,n,e,u,l),Lq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function Aq(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=Ux(d.inputs,l,u,h?h.inputs:null),c=Ux(d.outputs,l,c,p);const m=null===u||null===o||vx(e)?null:jq(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function Hx(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function kH(){return re.lFrame.currentDirectiveIndex}();try{xs(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];xm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Pq(u,c)}}finally{xs(-1),xm(o)}}function Pq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Uy(t,e,n){e.componentOffset=n,(t.components||(t.components=[])).push(e.index)}function Lq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yr(e)&&(n[""]=t)}}function Uq(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=As(i.type)),o=new Ku(s,yr(i),D);t.blueprint[r]=o,n[r]=o,function kq(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function Rq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,lc(t,n,i.hostVars,ie),i)}function Rr(t,e,n,r,i,s){const o=$n(t,e);!function By(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?ne(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[11],o,s,t.value,n,r,i)}function $q(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function jq(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Gx(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function qq(t,e){const n=jn(e,t);if(eh(n)){const r=n[1];48&n[2]?Ch(r,n,r.template,n[8]):n[5]>0&&$y(n)}}function $y(t){for(let r=ty(t);null!==r;r=ny(r))for(let i=10;i<r.length;i++){const s=r[i];if(eh(s))if(512&s[2]){const o=s[1];Ch(o,s,o.template,s[8])}else s[5]>0&&$y(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=jn(n[r],t);eh(i)&&i[5]>0&&$y(i)}}function zq(t,e){const n=jn(e,t),r=n[1];(function Wq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Ny(r,n,n[8])}function Th(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function jy(t){for(;t;){t[2]|=32;const e=rc(t);if(dH(t)&&!e)return t;t=e}return null}function Sh(t,e,n,r=!0){const i=e[10];i.begin&&i.begin();try{Ch(t,e,t.template,n)}catch(o){throw r&&Kx(e,o),o}finally{i.end&&i.end()}}function Hy(t,e,n){km(0),e(t,n)}function qx(t){return t[7]||(t[7]=[])}function zx(t){return t.cleanup||(t.cleanup=[])}function Kx(t,e){const n=t[9],r=n?n.get(ca,null):null;r&&r.handleError(e)}function Gy(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ah(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=fm(i,a):2==s&&(r=fm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function xh(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Vt(s)),mr(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&xh(u[1],u,c,r)}const o=n.type;if(8&o)xh(t,e,n.child,r);else if(32&o){const a=ey(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=UA(e,n);if(Array.isArray(a))r.push(...a);else{const u=rc(e[16]);xh(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class dc{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return xh(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(mr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(sy(e,r),lh(n,r))}this._attachedToViewContainer=!1}MA(this._lView[1],this._lView)}onDestroy(e){Vx(this._lView[1],this._lView,null,e)}markForCheck(){jy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Sh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function V3(t,e){ic(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}}class Kq extends dc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Sh(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Qx extends cc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Te(e);return new hc(n,this.ngModule)}}function Yx(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Yq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=zd(r);const i=this.injector.get(e,Cy,r);return i!==Cy||n===Cy?i:this.parentInjector.get(e,n,r)}}class hc extends dx{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function nq(t){return t.map(tq).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return Yx(this.componentDef.inputs)}get outputs(){return Yx(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof ci?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Yq(e,s):e,a=o.get(fx,null);if(null===a)throw new x(407,!1);const u=o.get(LG,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function Tq(t,e,n){return t.selectRootElement(e,n===Ar.ShadowDom)}(c,r,this.componentDef.encapsulation):iy(c,l,function Qq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=Ly(0,null,null,1,0,null,null,null,null,null),p=Dh(null,f,null,h,null,null,a,c,u,o,null);let m,y;Rm(p);try{const I=this.componentDef;let E,_=null;I.findHostDirectiveDefs?(E=[],_=new Map,I.findHostDirectiveDefs(I,E,_),E.push(I)):E=[I];const M=function Zq(t,e){const n=t[1];return t[22]=e,ha(n,22,2,"#host",null)}(p,d),L=function Jq(t,e,n,r,i,s,o,a){const u=i[1];!function ez(t,e,n,r){for(const i of t)e.mergedAttrs=Qu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Ah(e,e.mergedAttrs,!0),null!==n&&jA(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=Dh(i,Lx(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&Uy(u,t,r.length-1),Th(i,l),i[t.index]=l}(M,d,I,E,p,a,c);y=MS(f,22),d&&function nz(t,e,n,r){if(r)Fm(t,n,["ng-version",px.full]);else{const{attrs:i,classes:s}=function rq(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!_r(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Fm(t,n,i),s&&s.length>0&&$A(t,n,s.join(" "))}}(c,I,d,r),void 0!==n&&function rz(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,n),m=function tz(t,e,n,r,i,s){const o=Ut(),a=i[1],u=$n(o,i);jx(a,i,o,n,null,r);for(let l=0;l<n.length;l++)nn(Ms(i,a,o.directiveStart+l,o),i);Hx(a,i,o),u&&nn(u,i);const c=Ms(i,a,o.directiveStart+o.componentOffset,o);if(t[8]=i[8]=c,null!==s)for(const l of s)l(c,e);return Py(a,o,t),c}(L,I,E,_,p,[iz]),Ny(f,p,null)}finally{Nm()}return new Xq(this.componentType,m,aa(y,p),p,y)}}class Xq extends kG{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new Kq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Gy(s[1],s,i,e,n),$x(s,this._tNode.index)}}get injector(){return new Zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function iz(){const t=Ut();th(b()[1],t)}function Se(t){let e=function Xx(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(yr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=qy(t.inputs),o.declaredInputs=qy(t.declaredInputs),o.outputs=qy(t.outputs);const a=i.hostBindings;a&&uz(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&oz(t,u),c&&az(t,c),hm(t.inputs,i.inputs),hm(t.declaredInputs,i.declaredInputs),hm(t.outputs,i.outputs),yr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Se&&(n=!1)}}e=Object.getPrototypeOf(e)}!function sz(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qu(i.hostAttrs,n=Qu(n,i.hostAttrs))}}(r)}function qy(t){return t===ni?{}:t===be?[]:t}function oz(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function az(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function uz(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Mh=null;function Os(){if(!Mh){const t=Oe.Symbol;if(t&&t.iterator)Mh=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Mh=r)}}}return Mh}function fc(t){return!!function zy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Os()in t)}function rn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Pr(t,e,n,r){const i=b();return rn(i,Yo(),e)&&(ye(),Rr(Qe(),i,t,e,n,r)),Pr}function pa(t,e,n,r){return rn(t,Yo(),n)?e+ne(n)+r:ie}function Ae(t,e,n,r,i,s,o,a){const u=b(),c=ye(),l=t+22,d=c.firstCreatePass?function _z(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ha(e,t,4,o||null,Gi(c,a));Vy(e,n,l,Gi(c,u)),th(e,l);const d=l.tViews=Ly(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Mr(d,!1);const h=u[11].createComment("");gh(c,u,h,d),nn(h,u),Th(u,u[l]=Gx(h,u,h,d)),Zd(d)&&Oy(c,u,d),null!=o&&Fy(u,d,a)}function Ee(t,e,n){const r=b();return rn(r,Yo(),e)&&zn(ye(),Qe(),r,t,e,r[11],n,!1),Ee}function Wy(t,e,n,r,i){const o=i?"class":"style";Gy(t,n,e.inputs[o],o,r)}function C(t,e,n,r){const i=b(),s=ye(),o=22+t,a=i[11],u=i[o]=iy(a,e,function LH(){return re.lFrame.currentNamespace}()),c=s.firstCreatePass?function Iz(t,e,n,r,i,s,o){const a=e.consts,c=ha(e,t,2,i,Gi(a,s));return Vy(e,n,c,Gi(a,o)),null!==c.attrs&&Ah(c,c.attrs,!1),null!==c.mergedAttrs&&Ah(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];return Mr(c,!0),jA(a,u,c),32!=(32&c.flags)&&gh(s,i,u,c),0===function bH(){return re.lFrame.elementDepthCount}()&&nn(u,i),function DH(){re.lFrame.elementDepthCount++}(),Zd(c)&&(Oy(s,i,c),Py(s,c,i)),null!==r&&Fy(i,c),C}function A(){let t=Ut();Sm()?function Am(){re.lFrame.isParent=!1}():(t=t.parent,Mr(t,!1));const e=t;!function CH(){re.lFrame.elementDepthCount--}();const n=ye();return n.firstCreatePass&&(th(n,t),Dm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function $H(t){return 0!=(8&t.flags)}(e)&&Wy(n,e,b(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function jH(t){return 0!=(16&t.flags)}(e)&&Wy(n,e,b(),e.stylesWithoutHost,!1),A}function _e(t,e,n,r){return C(t,e,n,r),A(),_e}function Or(){return b()}function gc(t){return!!t&&"function"==typeof t.then}const Yy=function d1(t){return!!t&&"function"==typeof t.subscribe};function J(t,e,n,r){const i=b(),s=ye(),o=Ut();return function f1(t,e,n,r,i,s,o){const a=Zd(r),c=t.firstCreatePass&&zx(t),l=e[8],d=qx(e);let h=!0;if(3&r.type||o){const m=$n(r,e),y=o?o(m):m,I=d.length,E=o?M=>o(Vt(M[r.index])):r.index;let _=null;if(!o&&a&&(_=function bz(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=s,_.__ngLastListenerFn__=s,h=!1;else{s=g1(r,e,l,s,!1);const M=n.listen(y,i,s);d.push(s,M),c&&c.push(i,E,I,I+1)}}else s=g1(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const L=e[p[y]][p[y+1]].subscribe(s),V=d.length;d.push(s,L),c&&c.push(i,r.index,V,-(V+1))}}}(s,i,i[11],o,t,e,r),J}function p1(t,e,n,r){try{return!1!==n(r)}catch(i){return Kx(t,i),!1}}function g1(t,e,n,r,i){return function s(o){if(o===Function)return r;jy(t.componentOffset>-1?jn(t.index,e):e);let u=p1(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=p1(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function pe(t=1){return function NH(t){return(re.lFrame.contextLView=function PH(t,e){for(;t>0;)e=e[15],t--;return e}(t,re.lFrame.contextLView))[8]}(t)}function Rh(t,e,n){return Xy(t,"",e,"",n),Rh}function Xy(t,e,n,r,i){const s=b(),o=pa(s,e,n,r);return o!==ie&&zn(ye(),Qe(),s,t,o,s[11],i,!1),Xy}function Nh(t,e){return t<<17|e<<2}function zi(t){return t>>17&32767}function Zy(t){return 2|t}function Ls(t){return(131068&t)>>2}function Jy(t,e){return-131069&t|e<<2}function e_(t){return 1|t}function D1(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?zi(s):Ls(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];Rz(t[a],e)&&(u=!0,t[a+1]=r?e_(l):Zy(l)),a=r?zi(l):Ls(l)}u&&(t[n+1]=r?Zy(s):e_(s))}function Rz(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ra(t,e)>=0}const It={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function C1(t){return t.substring(It.key,It.keyEnd)}function T1(t,e){const n=It.textEnd;return n===e?-1:(e=It.keyEnd=function Fz(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,It.key=e,n),Ea(t,e,n))}function Ea(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ph(t,e){return function vr(t,e,n,r){const i=b(),s=ye(),o=oi(2);s.firstUpdatePass&&N1(s,t,o,r),e!==ie&&rn(i,o,e)&&O1(s,s.data[pn()],i,i[11],t,i[o+1]=function Wz(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Re(qi(t)))),t}(e,n),r,o)}(t,e,null,!0),Ph}function Lr(t,e){for(let n=function Pz(t){return function A1(t){It.key=0,It.keyEnd=0,It.value=0,It.valueEnd=0,It.textEnd=t.length}(t),T1(t,Ea(t,0,It.textEnd))}(e);n>=0;n=T1(e,n))Gn(t,C1(e),!0)}function R1(t,e){return e>=t.expandoStartIndex}function N1(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[pn()],o=R1(t,n);L1(s,r)&&null===e&&!o&&(e=!1),e=function $z(t,e,n,r){const i=function Mm(t){const e=re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=mc(n=t_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=t_(i,t,e,n,r),null===s){let u=function jz(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ls(r))return t[zi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=t_(null,t,e,u[1],r),u=mc(u,e.attrs,r),function Hz(t,e,n,r){t[zi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function Gz(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=mc(r,t[s].hostAttrs,n);return mc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function Mz(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=zi(o),u=Ls(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||ra(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=zi(t[a+1]);t[r+1]=Nh(h,a),0!==h&&(t[h+1]=Jy(t[h+1],r)),t[a+1]=function Az(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Nh(a,0),0!==a&&(t[a+1]=Jy(t[a+1],r)),a=r;else t[r+1]=Nh(u,0),0===a?a=r:t[u+1]=Jy(t[u+1],r),u=r;c&&(t[r+1]=Zy(t[r+1])),D1(t,l,r,!0),D1(t,l,r,!1),function kz(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ra(s,e)>=0&&(n[r+1]=e_(n[r+1]))}(e,l,t,r,s),o=Nh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function t_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=mc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function mc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Gn(t,o,!!n||e[++s]))}return void 0===t?null:t}function O1(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function xz(t){return 1==(1&t)}(c)?F1(u,e,n,i,Ls(c),o):void 0;Oh(l)||(Oh(s)||function Sz(t){return 2==(2&t)}(c)&&(s=F1(u,null,n,i,a,o)),function K3(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:Sn.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Sn.Important),t.setStyle(n,r,i,s))}}(r,o,Jd(pn(),n),i,s))}function F1(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ie&&(h=d?be:void 0);let f=d?Gm(h,r):l===r?h:void 0;if(c&&!Oh(f)&&(f=Gm(u,r)),Oh(f)&&(a=f,o))return a;const p=t[i+1];i=o?zi(p):Ls(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Gm(u,r))}return a}function Oh(t){return void 0!==t}function L1(t,e){return 0!=(t.flags&(e?8:16))}function H(t,e=""){const n=b(),r=ye(),i=t+22,s=r.firstCreatePass?ha(r,i,1,e,null):r.data[i],o=n[i]=function ry(t,e){return t.createText(e)}(n[11],e);gh(r,n,o,s),Mr(s,!1)}function Vr(t){return Vs("",t,""),Vr}function Vs(t,e,n){const r=b(),i=pa(r,t,e,n);return i!==ie&&function hi(t,e,n){const r=Jd(e,t);!function AA(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,pn(),i),Vs}function xt(t,e,n){!function wr(t,e,n,r){const i=ye(),s=oi(2);i.firstUpdatePass&&N1(i,null,s,r);const o=b();if(n!==ie&&rn(o,s,n)){const a=i.data[pn()];if(L1(a,r)&&!R1(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=fm(u,n||"")),Wy(i,a,o,n,r)}else!function zz(t,e,n,r,i,s,o,a){i===ie&&(i=be);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,m=f),null!==p&&O1(t,e,n,r,p,m,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function qz(t,e,n){if(null==n||""===n)return be;const r=[],i=qi(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(Gn,Lr,pa(b(),t,e,n),!0)}const Da="en-US";let sM=Da;function i_(t,e,n,r,i){if(t=Q(t),Array.isArray(t))for(let s=0;s<t.length;s++)i_(t[s],e,n,r,i);else{const s=ye(),o=b();let a=Ps(t)?t:Q(t.provide),u=lx(t);const c=Ut(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Ps(t)||!t.multi){const f=new Ku(u,i,D),p=o_(a,e,i?l:l+h,d);-1===p?(Bm(ah(c,o),s,a),s_(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=o_(a,e,l+h,d),p=o_(a,e,l,l+h),m=f>=0&&n[f],y=p>=0&&n[p];if(i&&!y||!i&&!m){Bm(ah(c,o),s,a);const I=function l5(t,e,n,r,i){const s=new Ku(t,n,D);return s.multi=[],s.index=e,s.componentProviders=0,MM(s,i,r&&!n),s}(i?c5:u5,n.length,i,r,u);!i&&y&&(n[p].providerFactory=I),s_(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)}else s_(s,t,f>-1?f:p,MM(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function s_(t,e,n,r){const i=Ps(e),s=function DG(t){return!!t.useClass}(e);if(i||s){const u=(s?Q(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function MM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function o_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function u5(t,e,n,r){return a_(this.multi,[])}function c5(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ms(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),a_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],a_(i,s);return s}function a_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ge(t,e=[]){return n=>{n.providersResolver=(r,i)=>function a5(t,e,n){const r=ye();if(r.firstCreatePass){const i=yr(t);i_(n,r.data,r.blueprint,i,!0),i_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ca{}class kM{}class RM extends Ca{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Qx(this);const r=Un(e);this._bootstrapComponents=di(r.bootstrap),this._r3Injector=Sx(e,n,[{provide:Ca,useValue:this},{provide:cc,useValue:this.componentFactoryResolver}],Re(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class u_ extends kM{constructor(e){super(),this.moduleType=e}create(e){return new RM(this.moduleType,e)}}class h5 extends Ca{constructor(e,n,r){super(),this.componentFactoryResolver=new Qx(this),this.instance=null;const i=new cx([...e,{provide:Ca,useValue:this},{provide:cc,useValue:this.componentFactoryResolver}],n||Eh(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Bh(t,e,n=null){return new h5(t,e,n).injector}let f5=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=sx(0,n.type),i=r.length>0?Bh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=z({token:t,providedIn:"environment",factory:()=>new t($(ci))}),t})();function NM(t){t.getStandaloneInjector=e=>e.get(f5).getOrCreateStandaloneInjector(t)}function l_(t){return e=>{setTimeout(t,void 0,e)}}const Fe=class U5 extends Jr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=l_(s),i&&(i=l_(i)),o&&(o=l_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Ln&&e.add(a),a}};function B5(){return this._results[Os()]()}class d_{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Os(),r=d_.prototype;r[n]||(r[n]=B5)}get changes(){return this._changes||(this._changes=new Fe)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function or(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function ZH(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let fi=(()=>{class t{}return t.__NG_ELEMENT_ID__=H5,t})();const $5=fi,j5=class extends $5{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=Dh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),Ny(r,i,e),new dc(i)}};function H5(){return $h(Ut(),b())}function $h(t,e){return 4&t.type?new j5(e,t,aa(t,e)):null}let Ir=(()=>{class t{}return t.__NG_ELEMENT_ID__=G5,t})();function G5(){return WM(Ut(),b())}const q5=Ir,qM=class extends q5{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return aa(this._hostTNode,this._hostLView)}get injector(){return new Zo(this._hostTNode,this._hostLView)}get parentInjector(){const e=Um(this._hostTNode,this._hostLView);if(KS(e)){const n=sh(e,this._hostLView),r=ih(e);return new Zo(n[1].data[r+8],n)}return new Zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=zM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function Xu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new hc(Te(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(ci,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function EH(t){return mr(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new qM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function B3(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],oA(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function $3(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=uy(s,o),u=r[11],c=ph(u,o[7]);return null!==c&&function L3(t,e,n,r,i,s){r[0]=i,r[6]=e,ic(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),oA(h_(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=zM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=sy(this._lContainer,n);r&&(lh(h_(this._lContainer),n),MA(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=sy(this._lContainer,n);return r&&null!=lh(h_(this._lContainer),n)?new dc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function zM(t){return t[8]}function h_(t){return t[8]||(t[8]=[])}function WM(t,e){let n;const r=e[t.index];if(mr(r))n=r;else{let i;if(8&t.type)i=Vt(r);else{const s=e[11];i=s.createComment("");const o=$n(t,e);Rs(s,ph(s,o),i,function q3(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=Gx(r,e,i,t),Th(e,n)}return new qM(n,t,e)}class f_{constructor(e){this.queryList=e,this.matches=null}clone(){return new f_(this.queryList)}setDirty(){this.queryList.setDirty()}}class p_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new p_(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==ek(e,n).matches&&this.queries[n].setDirty()}}class KM{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class g_{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new g_(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class m_{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new m_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,z5(n,s)),this.matchTNodeWithReadOption(e,n,uh(n,e,s,!1,!1))}else r===fi?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,uh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===qn||i===Ir||i===fi&&4&n.type)this.addMatch(n.index,-2);else{const s=uh(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function z5(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function K5(t,e,n,r){return-1===n?function W5(t,e){return 11&t.type?aa(t,e):4&t.type?$h(t,e):null}(e,t):-2===n?function Q5(t,e,n){return n===qn?aa(e,t):n===fi?$h(e,t):n===Ir?WM(e,t):void 0}(t,e,r):Ms(t,t[1],n,e)}function QM(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:K5(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function y_(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=QM(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=10;d<l.length;d++){const h=l[d];h[17]===h[3]&&y_(h[1],h,c,r)}if(null!==l[9]){const d=l[9];for(let h=0;h<d.length;h++){const f=d[h];y_(f[1],f,c,r)}}}}}return r}function __(t){const e=b(),n=ye(),r=VS();km(r+1);const i=ek(n,r);if(t.dirty&&function IH(t){return 4==(4&t[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?y_(n,e,r,[]):QM(n,e,i,r);t.reset(s,OG),t.notifyOnChanges()}return!0}return!1}function v_(){return function Y5(t,e){return t[19].queries[e].queryList}(b(),VS())}function ZM(t,e,n){const r=new d_(4==(4&n));Vx(t,e,r,r.destroy),null===e[19]&&(e[19]=new p_),e[19].queries.push(new f_(r))}function JM(t,e,n){null===t.queries&&(t.queries=new g_),t.queries.track(new m_(e,n))}function ek(t,e){return t.queries.getByIndex(e)}function Hh(...t){}const Gh=new j("Application Initializer");let qh=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Hh,this.reject=Hh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(gc(s))n.push(s);else if(Yy(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)($(Gh,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Cc=new j("AppId",{providedIn:"root",factory:function vk(){return`${D_()}${D_()}${D_()}`}});function D_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wk=new j("Platform Initializer"),zh=new j("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ik=new j("appBootstrapListener");let _W=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const pi=new j("LocaleId",{providedIn:"root",factory:()=>me(pi,Y.Optional|Y.SkipSelf)||function vW(){return typeof $localize<"u"&&$localize.locale||Da}()});class IW{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Ek=(()=>{class t{compileModuleSync(n){return new u_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=di(Un(n).declarations).reduce((o,a)=>{const u=Te(a);return u&&o.push(new hc(u)),o},[]);return new IW(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const DW=(()=>Promise.resolve(0))();function C_(t){typeof Zone>"u"?DW.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ue{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Fe(!1),this.onMicrotaskEmpty=new Fe(!1),this.onStable=new Fe(!1),this.onError=new Fe(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function CW(){let t=Oe.requestAnimationFrame,e=Oe.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function AW(t){const e=()=>{!function SW(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Oe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,S_(t),t.isCheckStableRunning=!0,T_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),S_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Ck(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Tk(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Ck(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Tk(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,S_(t),T_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ue.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(Ue.isInAngularZone())throw new x(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,TW,Hh,Hh);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const TW={};function T_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function S_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Ck(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Tk(t){t._nesting--,T_(t)}class xW{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Fe,this.onMicrotaskEmpty=new Fe,this.onStable=new Fe,this.onError=new Fe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const Sk=new j(""),Wh=new j("");let M_,A_=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,M_||(function MW(t){M_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ue.assertNotInAngularZone(),C_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())C_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)($(Ue),$(x_),$(Wh))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),x_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return M_?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Wi=null;const Ak=new j("AllowMultipleToken"),k_=new j("PlatformDestroyListeners");class xk{constructor(e,n){this.name=e,this.token=n}}function kk(t,e,n=[]){const r=`Platform: ${e}`,i=new j(r);return(s=[])=>{let o=R_();if(!o||o.injector.get(Ak,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function NW(t){if(Wi&&!Wi.get(Ak,!1))throw new x(400,!1);Wi=t;const e=t.get(Nk);(function Mk(t){const e=t.get(wk,null);e&&e.forEach(n=>n())})(t)}(function Rk(t=[],e){return gn.create({name:e,providers:[{provide:Iy,useValue:"platform"},{provide:k_,useValue:new Set([()=>Wi=null])},...t]})}(a,r))}return function OW(t){const e=R_();if(!e)throw new x(401,!1);return e}()}}function R_(){return Wi?.get(Nk)??null}let Nk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Ok(t,e){let n;return n="noop"===t?new xW:("zone.js"===t?void 0:t)||new Ue(e),n}(r?.ngZone,function Pk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ue,useValue:i}];return i.run(()=>{const o=gn.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(ca,null);if(!u)throw new x(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Qh(this._modules,a),c.unsubscribe()})}),function Fk(t,e,n){try{const r=n();return gc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(qh);return c.runInitializers(),c.donePromise.then(()=>(function oM(t){nr(t,"Expected localeId to be defined"),"string"==typeof t&&(sM=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(pi,Da)||Da),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=Lk({},r);return function kW(t,e,n){const r=new u_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Kh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new x(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(k_,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)($(gn))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function Lk(t,e){return Array.isArray(e)?e.reduce(Lk,t):{...t,...e}}let Kh=(()=>{class t{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Je(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Je(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),C_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function jj(...t){const e=Vu(t),n=function Oj(t,e){return"number"==typeof lm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?fr(r[0]):jo(n)(dt(r,e)):ti}(s,o.pipe(function Hj(t={}){const{connector:e=(()=>new Jr),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return At((m,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=dm(p,i))}),I.subscribe(y),!o&&c>0&&(o=new Lu({next:E=>I.next(E),error:E=>{d=!0,h(),a=dm(f,n,E),I.error(E)},complete:()=>{l=!0,h(),a=dm(f,r),I.complete()}}),fr(m).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof dx;if(!this._injector.get(qh).done)throw!i&&function Go(t){const e=Te(t)||Jt(t)||dn(t);return null!==e&&e.standalone}(n),new x(405,false);let o;o=i?n:this._injector.get(cc).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function RW(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Ca),c=o.create(gn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(Sk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Qh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Qh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Ik,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Qh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new x(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)($(Ue),$(ci),$(ca))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Qh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Yh=(()=>{class t{}return t.__NG_ELEMENT_ID__=LW,t})();function LW(t){return function VW(t,e,n){if(zu(t)&&!n){const r=jn(t.index,e);return new dc(r,r)}return 47&t.type?new dc(e[16],e):null}(Ut(),b(),16==(16&t))}class jk{constructor(){}supports(e){return fc(e)}create(e){return new GW(e)}}const HW=(t,e)=>e;class GW{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||HW}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Gk(r,i,s)?n:r,a=Gk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!fc(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function gz(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Os()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new qW(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Hk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class qW{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zW{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Hk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new zW,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function zk(){return new Jh([new jk])}let Jh=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||zk()),deps:[[t,new Ju,new ht]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new x(901,!1)}}return t.\u0275prov=z({token:t,providedIn:"root",factory:zk}),t})();const XW=kk(null,"core",[]);let ZW=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)($(Kh))},t.\u0275mod=Cn({type:t}),t.\u0275inj=ln({}),t})();function Aa(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let L_=null;function Ur(){return L_}class t8{}const xn=new j("DocumentToken");let V_=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return function n8(){return $(Kk)}()},providedIn:"platform"}),t})();const r8=new j("Location Initialized");let Kk=(()=>{class t extends V_{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ur().getBaseHref(this._doc)}onPopState(n){const r=Ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){Qk()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){Qk()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)($(xn))},t.\u0275prov=z({token:t,factory:function(){return function i8(){return new Kk($(xn))}()},providedIn:"platform"}),t})();function Qk(){return!!window.history.pushState}function U_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Yk(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function mi(t){return t&&"?"!==t[0]?"?"+t:t}let $s=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return me(Zk)},providedIn:"root"}),t})();const Xk=new j("appBaseHref");let Zk=(()=>{class t extends $s{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??me(xn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return U_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+mi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+mi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+mi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(V_),$(Xk,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),s8=(()=>{class t extends $s{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=U_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+mi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+mi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)($(V_),$(Xk,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),B_=(()=>{class t{constructor(n){this._subject=new Fe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function u8(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(Yk(Jk(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+mi(r))}normalize(n){return t.stripTrailingSlash(function a8(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._basePath,Jk(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+mi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=mi,t.joinWithSlash=U_,t.stripTrailingSlash=Yk,t.\u0275fac=function(n){return new(n||t)($($s))},t.\u0275prov=z({token:t,factory:function(){return function o8(){return new B_($($s))}()},providedIn:"root"}),t})();function Jk(t){return t.replace(/\/index.html$/,"")}class K8{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xc=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new K8(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),lR(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{lR(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(Ir),D(fi),D(Jh))},t.\u0275dir=Z({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function lR(t,e){t.context.$implicit=e.item}let Ki=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new Y8,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){dR("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){dR("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(Ir),D(fi))},t.\u0275dir=Z({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class Y8{constructor(){this.$implicit=null,this.ngIf=null}}function dR(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Re(e)}'.`)}let C6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Cn({type:t}),t.\u0275inj=ln({}),t})();let x6=(()=>{class t{}return t.\u0275prov=z({token:t,providedIn:"root",factory:()=>new M6($(xn),window)}),t})();class M6{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function k6(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=gR(this.window.history)||gR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function gR(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class s7 extends t8{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class nv extends s7{static makeCurrent(){!function e8(t){L_||(L_=t)}(new nv)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function o7(){return kc=kc||document.querySelector("base"),kc?kc.getAttribute("href"):null}();return null==n?null:function a7(t){hf=hf||document.createElement("a"),hf.setAttribute("href",t);const e=hf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){kc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function q8(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let hf,kc=null;const IR=new j("TRANSITION_ID"),c7=[{provide:Gh,useFactory:function u7(t,e,n){return()=>{n.get(qh).donePromise.then(()=>{const r=Ur(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[IR,xn,gn],multi:!0}];let d7=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();const ff=new j("EventManagerPlugins");let pf=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)($(ff),$(Ue))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class ER{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Ur().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let bR=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),Rc=(()=>{class t extends bR{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(DR),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(DR))}}return t.\u0275fac=function(n){return new(n||t)($(xn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();function DR(t){Ur().remove(t)}const rv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},iv=/%COMP%/g;function sv(t,e){return e.flat(100).map(n=>n.replace(iv,t))}function SR(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ov=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new av(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case Ar.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new y7(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case Ar.ShadowDom:return new _7(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=sv(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)($(pf),$(Rc),$(Cc))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class av{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(rv[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(xR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(xR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=rv[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=rv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Sn.DashCase|Sn.Important)?e.style.setProperty(n,r,i&Sn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Sn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,SR(r)):this.eventManager.addEventListener(e,n,SR(r))}}function xR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class y7 extends av{constructor(e,n,r,i){super(e),this.component=r;const s=sv(i+"-"+r.id,r.styles);n.addStyles(s),this.contentAttr=function p7(t){return"_ngcontent-%COMP%".replace(iv,t)}(i+"-"+r.id),this.hostAttr=function g7(t){return"_nghost-%COMP%".replace(iv,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class _7 extends av{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=sv(i.id,i.styles);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let v7=(()=>{class t extends ER{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)($(xn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();const MR=["alt","control","meta","shift"],w7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I7={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let E7=(()=>{class t extends ER{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ur().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),MR.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=w7[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),MR.forEach(o=>{o!==i&&(0,I7[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)($(xn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();const RR=[{provide:zh,useValue:"browser"},{provide:wk,useValue:function b7(){nv.makeCurrent()},multi:!0},{provide:xn,useFactory:function C7(){return function J3(t){hy=t}(document),document},deps:[]}],T7=kk(XW,"browser",RR),NR=new j(""),PR=[{provide:Wh,useClass:class l7{addToWindow(e){Oe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Oe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Oe.getAllAngularRootElements=()=>e.getAllRootElements(),Oe.frameworkStabilizers||(Oe.frameworkStabilizers=[]),Oe.frameworkStabilizers.push(r=>{const i=Oe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?Ur().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:Sk,useClass:A_,deps:[Ue,x_,Wh]},{provide:A_,useClass:A_,deps:[Ue,x_,Wh]}],OR=[{provide:Iy,useValue:"root"},{provide:ca,useFactory:function D7(){return new ca},deps:[]},{provide:ff,useClass:v7,multi:!0,deps:[xn,Ue,zh]},{provide:ff,useClass:E7,multi:!0,deps:[xn]},{provide:ov,useClass:ov,deps:[pf,Rc,Cc]},{provide:fx,useExisting:ov},{provide:bR,useExisting:Rc},{provide:Rc,useClass:Rc,deps:[xn]},{provide:pf,useClass:pf,deps:[ff,Ue]},{provide:class R6{},useClass:d7,deps:[]},[]];let S7=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Cc,useValue:n.appId},{provide:IR,useExisting:Cc},c7]}}}return t.\u0275fac=function(n){return new(n||t)($(NR,12))},t.\u0275mod=Cn({type:t}),t.\u0275inj=ln({providers:[...OR,...PR],imports:[C6,ZW]}),t})(),FR=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)($(xn))},t.\u0275prov=z({token:t,factory:function(n){let r=null;return r=n?new n:function x7(){return new FR($(xn))}(),r},providedIn:"root"}),t})();function K(...t){return dt(t,Vu(t))}typeof window<"u"&&window;class lr extends Jr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const gf=Fu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:L7}=Array,{getPrototypeOf:V7,prototype:U7,keys:B7}=Object;function UR(t){if(1===t.length){const e=t[0];if(L7(e))return{args:e,keys:null};if(function $7(t){return t&&"object"==typeof t&&V7(t)===U7}(e)){const n=B7(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:j7}=Array;function BR(t){return he(e=>function H7(t,e){return j7(e)?t(...e):t(e)}(t,e))}function $R(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function jR(...t){const e=Vu(t),n=aS(t),{args:r,keys:i}=UR(t);if(0===r.length)return dt([],e);const s=new Je(function G7(t,e,n=Cs){return r=>{HR(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)HR(e,()=>{const c=dt(t[u],e);let l=!1;c.subscribe(vt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>$R(i,o):Cs));return n?s.pipe(BR(n)):s}function HR(t,e,n){t?ei(n,t,e):e()}function lv(...t){return function q7(){return jo(1)}()(dt(t,Vu(t)))}function GR(t){return new Je(e=>{fr(t()).subscribe(e)})}function Nc(t,e){const n=Ne(t)?t:()=>t,r=i=>i.error(n());return new Je(e?i=>e.schedule(r,0,i):r)}function dv(){return At((t,e)=>{let n=null;t._refCount++;const r=vt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class qR extends Je{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,WT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ln;const n=this.getSubject();e.add(this.source.subscribe(vt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ln.EMPTY)}return e}refCount(){return dv()(this)}}function Br(t,e){return At((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(vt(r,u=>{i?.unsubscribe();let c=0;const l=s++;fr(t(u,l)).subscribe(i=vt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Pc(t){return t<=0?()=>ti:At((e,n)=>{let r=0;e.subscribe(vt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Yi(t,e){return At((n,r)=>{let i=0;n.subscribe(vt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function mf(t){return At((e,n)=>{let r=!1;e.subscribe(vt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function zR(t=W7){return At((e,n)=>{let r=!1;e.subscribe(vt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function W7(){return new gf}function Xi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yi((i,s)=>t(i,s,r)):Cs,Pc(1),n?mf(e):zR(()=>new gf))}function js(t,e){return Ne(e)?Ft(t,e,1):Ft(t,1)}function $t(t,e,n){const r=Ne(t)||e||n?{next:t,error:e,complete:n}:t;return r?At((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(vt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Cs}function Zi(t){return At((e,n)=>{let s,r=null,i=!1;r=e.subscribe(vt(n,void 0,void 0,o=>{s=fr(t(o,Zi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function K7(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(vt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function WR(t,e){return At(K7(t,e,arguments.length>=2,!0))}function hv(t){return t<=0?()=>ti:At((e,n)=>{let r=[];e.subscribe(vt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function KR(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yi((i,s)=>t(i,s,r)):Cs,hv(1),n?mf(e):zR(()=>new gf))}function fv(t){return At((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const ce="primary",Oc=Symbol("RouteTitle");class X7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function xa(t){return new X7(t)}function Z7(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function $r(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!QR(t[i],e[i]))return!1;return!0}function QR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function YR(t){return Array.prototype.concat.apply([],t)}function XR(t){return t.length>0?t[t.length-1]:null}function jt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ji(t){return Yy(t)?t:gc(t)?dt(Promise.resolve(t)):K(t)}const yf=!1,eK={exact:function eN(t,e,n){if(!Gs(t.segments,e.segments)||!_f(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!eN(t.children[r],e.children[r],n))return!1;return!0},subset:tN},ZR={exact:function tK(t,e){return $r(t,e)},subset:function nK(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>QR(t[n],e[n]))},ignored:()=>!0};function JR(t,e,n){return eK[n.paths](t.root,e.root,n.matrixParams)&&ZR[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function tN(t,e,n){return nN(t,e,e.segments,n)}function nN(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Gs(i,n)||e.hasChildren()||!_f(i,n,r))}if(t.segments.length===n.length){if(!Gs(t.segments,n)||!_f(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!tN(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Gs(t.segments,i)&&_f(t.segments,i,r)&&t.children[ce])&&nN(t.children[ce],e,s,r)}}function _f(t,e,n){return e.every((r,i)=>ZR[n](t[i].parameters,r.parameters))}class Hs{constructor(e=new le([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xa(this.queryParams)),this._queryParamMap}toString(){return sK.serialize(this)}}class le{constructor(e,n){this.segments=e,this.children=n,this.parent=null,jt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return vf(this)}}class Fc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=xa(this.parameters)),this._parameterMap}toString(){return sN(this)}}function Gs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Lc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return new pv},providedIn:"root"}),t})();class pv{parse(e){const n=new pK(e);return new Hs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Vc(e.root,!0)}`,r=function uK(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${wf(n)}=${wf(i)}`).join("&"):`${wf(n)}=${wf(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function oK(t){return encodeURI(t)}(e.fragment)}`:""}`}}const sK=new pv;function vf(t){return t.segments.map(e=>sN(e)).join("/")}function Vc(t,e){if(!t.hasChildren())return vf(t);if(e){const n=t.children[ce]?Vc(t.children[ce],!1):"",r=[];return jt(t.children,(i,s)=>{s!==ce&&r.push(`${s}:${Vc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function iK(t,e){let n=[];return jt(t.children,(r,i)=>{i===ce&&(n=n.concat(e(r,i)))}),jt(t.children,(r,i)=>{i!==ce&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===ce?[Vc(t.children[ce],!1)]:[`${i}:${Vc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[ce]?`${vf(t)}/${n[0]}`:`${vf(t)}/(${n.join("//")})`}}function rN(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wf(t){return rN(t).replace(/%3B/gi,";")}function gv(t){return rN(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function If(t){return decodeURIComponent(t)}function iN(t){return If(t.replace(/\+/g,"%20"))}function sN(t){return`${gv(t.path)}${function aK(t){return Object.keys(t).map(e=>`;${gv(e)}=${gv(t[e])}`).join("")}(t.parameters)}`}const cK=/^[^\/()?;=#]+/;function Ef(t){const e=t.match(cK);return e?e[0]:""}const lK=/^[^=?&#]+/,hK=/^[^&#]+/;class pK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new le([],{}):new le([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new le(e,n)),r}parseSegment(){const e=Ef(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new x(4009,yf);return this.capture(e),new Fc(If(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Ef(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Ef(this.remaining);i&&(r=i,this.capture(r))}e[If(n)]=If(r)}parseQueryParam(e){const n=function dK(t){const e=t.match(lK);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function fK(t){const e=t.match(hK);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=iN(n),s=iN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Ef(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new x(4010,yf);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[ce]:new le([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new x(4011,yf)}}function mv(t){return t.segments.length>0?new le([],{[ce]:t}):t}function bf(t){const e={};for(const r of Object.keys(t.children)){const s=bf(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function gK(t){if(1===t.numberOfChildren&&t.children[ce]){const e=t.children[ce];return new le(t.segments.concat(e.segments),e.children)}return t}(new le(t.segments,e))}function qs(t){return t instanceof Hs}function _K(t,e,n,r,i){if(0===n.length)return Ma(e.root,e.root,e.root,r,i);const s=function uN(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new aN(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return jt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new aN(n,e,r)}(n);return s.toRoot()?Ma(e.root,e.root,new le([],{}),r,i):function o(u){const c=function wK(t,e,n,r){if(t.isAbsolute)return new ka(e.root,!0,0);if(-1===r)return new ka(n,n===e.root,0);return function cN(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new ka(r,!1,i-s)}(n,r+(Uc(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?$c(c.segmentGroup,c.index,s.commands):_v(c.segmentGroup,c.index,s.commands);return Ma(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function Uc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Bc(t){return"object"==typeof t&&null!=t&&t.outlets}function Ma(t,e,n,r,i){let o,s={};r&&jt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:oN(t,e,n);const a=mv(bf(o));return new Hs(a,s,i)}function oN(t,e,n){const r={};return jt(t.children,(i,s)=>{r[s]=i===e?n:oN(i,e,n)}),new le(t.segments,r)}class aN{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Uc(r[0]))throw new x(4003,!1);const i=r.find(Bc);if(i&&i!==XR(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ka{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function _v(t,e,n){if(t||(t=new le([],{})),0===t.segments.length&&t.hasChildren())return $c(t,e,n);const r=function EK(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Bc(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!dN(u,c,o))return s;r+=2}else{if(!dN(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new le(t.segments.slice(0,r.pathIndex),{});return s.children[ce]=new le(t.segments.slice(r.pathIndex),t.children),$c(s,0,i)}return r.match&&0===i.length?new le(t.segments,{}):r.match&&!t.hasChildren()?vv(t,e,n):r.match?$c(t,0,i):vv(t,e,n)}function $c(t,e,n){if(0===n.length)return new le(t.segments,{});{const r=function IK(t){return Bc(t[0])?t[0].outlets:{[ce]:t}}(n),i={};return jt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=_v(t.children[o],e,s))}),jt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new le(t.segments,i)}}function vv(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Bc(s)){const u=bK(s.outlets);return new le(r,u)}if(0===i&&Uc(n[0])){r.push(new Fc(t.segments[e].path,lN(n[0]))),i++;continue}const o=Bc(s)?s.outlets[ce]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Uc(a)?(r.push(new Fc(o,lN(a))),i+=2):(r.push(new Fc(o,{})),i++)}return new le(r,{})}function bK(t){const e={};return jt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=vv(new le([],{}),0,n))}),e}function lN(t){const e={};return jt(t,(n,r)=>e[r]=`${n}`),e}function dN(t,e,n){return t==n.path&&$r(e,n.parameters)}class _i{constructor(e,n){this.id=e,this.url=n}}class wv extends _i{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zs extends _i{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Df extends _i{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hN extends _i{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class DK extends _i{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CK extends _i{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TK extends _i{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class SK extends _i{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AK extends _i{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xK{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class MK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class kK{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class RK{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fN{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let FK=(()=>{class t{createUrlTree(n,r,i,s,o,a){return _K(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),LK=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(e){return FK.\u0275fac(e)},providedIn:"root"}),t})();class pN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Iv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Iv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Ev(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ev(e,this._root).map(n=>n.value)}}function Iv(t,e){if(t===e.value)return e;for(const n of e.children){const r=Iv(t,n);if(r)return r}return null}function Ev(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ev(t,n);if(r.length)return r.unshift(e),r}return[]}class vi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ra(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class gN extends pN{constructor(e,n){super(e),this.snapshot=n,bv(this,e)}toString(){return this.snapshot.toString()}}function mN(t,e){const n=function VK(t,e){const o=new Cf([],{},{},"",{},ce,e,null,t.root,-1,{});return new _N("",new vi(o,[]))}(t,e),r=new lr([new Fc("",{})]),i=new lr({}),s=new lr({}),o=new lr({}),a=new lr(""),u=new Na(r,i,o,a,s,ce,e,n.root);return u.snapshot=n.root,new gN(new vi(u,[]),n)}class Na{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(he(c=>c[Oc]))??K(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(he(e=>xa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(he(e=>xa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function yN(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function UK(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Cf{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get title(){return this.data?.[Oc]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _N extends pN{constructor(e,n){super(n),this.url=e,bv(this,n)}toString(){return vN(this._root)}}function bv(t,e){e.value._routerState=t,e.children.forEach(n=>bv(t,n))}function vN(t){const e=t.children.length>0?` { ${t.children.map(vN).join(", ")} } `:"";return`${t.value}${e}`}function Dv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,$r(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),$r(e.params,n.params)||t.params.next(n.params),function J7(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!$r(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),$r(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Cv(t,e){const n=$r(t.params,e.params)&&function rK(t,e){return Gs(t,e)&&t.every((n,r)=>$r(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Cv(t.parent,e.parent))}function jc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function $K(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return jc(t,r,i);return jc(t,r)})}(t,e,n);return new vi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>jc(t,a)),o}}const r=function jK(t){return new Na(new lr(t.url),new lr(t.params),new lr(t.queryParams),new lr(t.fragment),new lr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>jc(t,s));return new vi(r,i)}}const Tv="ngNavigationCancelingError";function wN(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=qs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=IN(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function IN(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[Tv]=!0,r.cancellationCode=e,n&&(r.url=n),r}function EN(t){return bN(t)&&qs(t.url)}function bN(t){return t&&t[Tv]}class HK{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hc,this.attachRef=null}}let Hc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new HK,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Tf=!1;let Sv=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new Fe,this.deactivateEvents=new Fe,this.attachEvents=new Fe,this.detachEvents=new Fe,this.parentContexts=me(Hc),this.location=me(Ir),this.changeDetector=me(Yh),this.environmentInjector=me(ci)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,Tf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,Tf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,Tf);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new x(4013,Tf);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new GK(n,a,i.injector);if(r&&function qK(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Z({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ir]}),t})();class GK{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Na?this.route:e===Hc?this.childContexts:this.parent.get(e,n)}}let Av=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=Lt({type:t,selectors:[["ng-component"]],standalone:!0,features:[NM],decls:1,vars:0,template:function(n,r){1&n&&_e(0,"router-outlet")},dependencies:[Sv],encapsulation:2}),t})();function DN(t,e){return t.providers&&!t._injector&&(t._injector=Bh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Mv(t){const e=t.children&&t.children.map(Mv),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=Av),n}function dr(t){return t.outlet||ce}function CN(t,e){const n=t.filter(r=>dr(r)===e);return n.push(...t.filter(r=>dr(r)!==e)),n}function Gc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class YK{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Dv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ra(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),jt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ra(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ra(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ra(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new PK(s.value.snapshot))}),e.children.length&&this.forwardEvent(new RK(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Dv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Dv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=Gc(i.snapshot),u=a?.get(cc)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class TN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Sf{constructor(e,n){this.component=e,this.route=n}}function XK(t,e,n){const r=t._root;return qc(r,e?e._root:null,n,[r.value])}function Pa(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Yj(t){return null!==Hd(t)}(t)?e.get(t):t:r}function qc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ra(e);return t.children.forEach(o=>{(function JK(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function e9(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Gs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Gs(t.url,e.url)||!$r(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Cv(t,e)||!$r(t.queryParams,e.queryParams);default:return!Cv(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new TN(r)):(s.data=o.data,s._resolvedData=o._resolvedData),qc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Sf(a.outlet.component,o))}else o&&zc(e,a,i),i.canActivateChecks.push(new TN(r)),qc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),jt(s,(o,a)=>zc(o,n.getContext(a),i)),i}function zc(t,e,n){const r=Ra(t),i=t.value;jt(r,(s,o)=>{zc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Sf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Wc(t){return"function"==typeof t}function kv(t){return t instanceof gf||"EmptyError"===t?.name}const Af=Symbol("INITIAL_VALUE");function Oa(){return Br(t=>jR(t.map(e=>e.pipe(Pc(1),function z7(...t){const e=Vu(t);return At((n,r)=>{(e?lv(t,n,e):lv(t,n)).subscribe(r)})}(Af)))).pipe(he(e=>{for(const n of e)if(!0!==n){if(n===Af)return Af;if(!1===n||n instanceof Hs)return n}return!0}),Yi(e=>e!==Af),Pc(1)))}function SN(t){return function gj(...t){return GT(t)}($t(e=>{if(qs(e))throw wN(0,e)}),he(e=>!0===e))}const Rv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function AN(t,e,n,r,i){const s=Nv(t,e,n);return s.matched?function y9(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?K(i.map(o=>{const a=Pa(o,t);return Ji(function o9(t){return t&&Wc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Oa(),SN()):K(!0)}(r=DN(e,r),e,n).pipe(he(o=>!0===o?s:{...Rv})):K(s)}function Nv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Rv}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Z7)(n,t,e);if(!i)return{...Rv};const s={};jt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function xf(t,e,n,r){if(n.length>0&&function w9(t,e,n){return n.some(r=>Mf(t,e,r)&&dr(r)!==ce)}(t,n,r)){const s=new le(e,function v9(t,e,n,r){const i={};i[ce]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&dr(s)!==ce){const o=new le([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[dr(s)]=o}return i}(t,e,r,new le(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function I9(t,e,n){return n.some(r=>Mf(t,e,r))}(t,n,r)){const s=new le(t.segments,function _9(t,e,n,r,i){const s={};for(const o of r)if(Mf(t,n,o)&&!i[dr(o)]){const a=new le([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[dr(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new le(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function Mf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function xN(t,e,n,r){return!!(dr(t)===r||r!==ce&&Mf(e,n,t))&&("**"===t.path||Nv(e,t,n).matched)}function MN(t,e,n){return 0===e.length&&!t.children[n]}const kf=!1;class Rf{constructor(e){this.segmentGroup=e||null}}class kN{constructor(e){this.urlTree=e}}function Kc(t){return Nc(new Rf(t))}function RN(t){return Nc(new kN(t))}class C9{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=xf(this.urlTree.root,[],[],this.config).segmentGroup,n=new le(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,ce).pipe(he(s=>this.createUrlTree(bf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zi(s=>{if(s instanceof kN)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Rf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ce).pipe(he(i=>this.createUrlTree(bf(i),e.queryParams,e.fragment))).pipe(Zi(i=>{throw i instanceof Rf?this.noMatchError(i):i}))}noMatchError(e){return new x(4002,kf)}createUrlTree(e,n,r){const i=mv(e);return new Hs(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(he(s=>new le([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return dt(i).pipe(js(s=>{const o=r.children[s],a=CN(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(he(u=>({segment:u,outlet:s})))}),WR((s,o)=>(s[o.outlet]=o.segment,s),{}),KR())}expandSegment(e,n,r,i,s,o){return dt(r).pipe(js(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Zi(c=>{if(c instanceof Rf)return K(null);throw c}))),Xi(a=>!!a),Zi((a,u)=>{if(kv(a))return MN(n,i,s)?K(new le([],{})):Kc(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return xN(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Kc(n):Kc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?RN(s):this.lineralizeSegments(r,s).pipe(Ft(o=>{const a=new le(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Nv(n,i,s);if(!a)return Kc(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?RN(d):this.lineralizeSegments(i,d).pipe(Ft(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=DN(r,e),r.loadChildren?(r._loadedRoutes?K({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(he(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new le(i,{})))):K(new le(i,{}))):AN(n,r,i,e).pipe(Br(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Ft(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=xf(n,a,u,h),m=new le(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(he(_=>new le(a,_)));if(0===h.length&&0===p.length)return K(new le(a,{}));const y=dr(r)===s;return this.expandSegment(d,m,h,p,y?ce:s,!0).pipe(he(E=>new le(a.concat(E.segments),E.children)))})):Kc(n)))}getChildConfig(e,n,r){return n.children?K({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?K({routes:n._loadedRoutes,injector:n._loadedInjector}):function m9(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?K(!0):K(i.map(o=>{const a=Pa(o,t);return Ji(function n9(t){return t&&Wc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Oa(),SN())}(e,n,r).pipe(Ft(i=>i?this.configLoader.loadChildren(e,n).pipe($t(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function b9(t){return Nc(IN(kf,3))}())):K({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return K(r);if(i.numberOfChildren>1||!i.children[ce])return Nc(new x(4e3,kf));i=i.children[ce]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Hs(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return jt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return jt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new le(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new x(4001,kf);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class S9{}class M9{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=xf(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ce).pipe(he(n=>{if(null===n)return null;const r=new Cf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ce,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new vi(r,n),s=new _N(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=yN(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return dt(Object.keys(r.children)).pipe(js(i=>{const s=r.children[i],o=CN(n,i);return this.processSegmentGroup(e,o,s,i)}),WR((i,s)=>i&&s?(i.push(...s),i):null),function Q7(t,e=!1){return At((n,r)=>{let i=0;n.subscribe(vt(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),mf(null),KR(),he(i=>{if(null===i)return null;const s=PN(i);return function k9(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return dt(n).pipe(js(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Xi(o=>!!o),Zi(o=>{if(kv(o))return MN(r,i,s)?K([]):K(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!xN(n,r,i,s))return K(null);let o;if("**"===n.path){const a=i.length>0?XR(i).parameters:{},u=FN(r)+i.length;o=K({snapshot:new Cf(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LN(n),dr(n),n.component??n._loadedComponent??null,n,ON(r),u,VN(n)),consumedSegments:[],remainingSegments:[]})}else o=AN(r,n,i,e).pipe(he(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=FN(r)+u.length;return{snapshot:new Cf(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LN(n),dr(n),n.component??n._loadedComponent??null,n,ON(r),d,VN(n)),consumedSegments:u,remainingSegments:c}}));return o.pipe(Br(a=>{if(null===a)return K(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function R9(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=xf(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(he(y=>null===y?null:[new vi(u,y)]));if(0===h.length&&0===p.length)return K([new vi(u,[])]);const m=dr(n)===s;return this.processSegment(d,h,f,p,m?ce:s).pipe(he(y=>null===y?null:[new vi(u,y)]))}))}}function N9(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function PN(t){const e=[],n=new Set;for(const r of t){if(!N9(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=PN(r.children);e.push(new vi(r.value,i))}return e.filter(r=>!n.has(r))}function ON(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function FN(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function LN(t){return t.data||{}}function VN(t){return t.resolve||{}}function UN(t){return"string"==typeof t.title||null===t.title}function Pv(t){return Br(e=>{const n=t(e);return n?dt(n).pipe(he(()=>e)):K(e)})}const Fa=new j("ROUTES");let Ov=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return K(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ji(n.loadComponent()).pipe(he($N),$t(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),fv(()=>{this.componentLoaders.delete(n)})),i=new qR(r,()=>new Jr).pipe(dv());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return K({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(he(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=YR(u.get(Fa,[],Y.Self|Y.Optional)));return{routes:c.map(Mv),injector:u}}),fv(()=>{this.childrenLoaders.delete(r)})),o=new qR(s,()=>new Jr).pipe(dv());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Ji(n()).pipe(he($N),Ft(i=>i instanceof kM||Array.isArray(i)?K(i):dt(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(n){return new(n||t)($(gn),$(Ek))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $N(t){return function j9(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Fv=(()=>{class t{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Jr,this.configLoader=me(Ov),this.environmentInjector=me(ci),this.urlSerializer=me(Lc),this.rootContexts=me(Hc),this.navigationId=0,this.configLoader.onLoadEndListener=i=>this.events.next(new MK(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new xK(i))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new lr({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yi(r=>0!==r.id),he(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Br(r=>{let i=!1,s=!1;return K(r).pipe($t(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Br(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(("reload"===n.onSameUrlNavigation||u)&&n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return HN(o.source)&&(n.browserUrlTree=o.extractedUrl),K(o).pipe(Br(l=>{const d=this.transitions?.getValue();return this.events.next(new wv(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?ti:Promise.resolve(l)}),function T9(t,e,n,r){return Br(i=>function D9(t,e,n,r,i){return new C9(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(he(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),$t(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function O9(t,e,n,r,i){return Ft(s=>function x9(t,e,n,r,i,s,o="emptyOnly"){return new M9(t,e,n,r,i,o,s).recognize().pipe(Br(a=>null===a?function A9(t){return new Je(e=>e.error(t))}(new S9):K(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(he(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,n.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),$t(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new DK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.rawUrlTree&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:d,extractedUrl:h,source:f,restoredState:p,extras:m}=o,y=new wv(d,this.urlSerializer.serialize(h),f,p);this.events.next(y);const I=mN(h,n.rootComponentType).snapshot;return K(r={...o,targetSnapshot:I,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return n.rawUrlTree=o.rawUrl,o.resolve(null),ti}),$t(o=>{const a=new CK(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),he(o=>r={...o,guards:XK(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function u9(t,e){return Ft(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?K({...n,guardsResult:!0}):function c9(t,e,n,r){return dt(t).pipe(Ft(i=>function g9(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?K(s.map(a=>{const u=Gc(e)??i,c=Pa(a,u);return Ji(function s9(t){return t&&Wc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Xi())})).pipe(Oa()):K(!0)}(i.component,i.route,n,e,r)),Xi(i=>!0!==i,!0))}(o,r,i,t).pipe(Ft(a=>a&&function t9(t){return"boolean"==typeof t}(a)?function l9(t,e,n,r){return dt(e).pipe(js(i=>lv(function h9(t,e){return null!==t&&e&&e(new kK(t)),K(!0)}(i.route.parent,r),function d9(t,e){return null!==t&&e&&e(new NK(t)),K(!0)}(i.route,r),function p9(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function ZK(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>GR(()=>K(o.guards.map(u=>{const c=Gc(o.node)??n,l=Pa(u,c);return Ji(function i9(t){return t&&Wc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Xi())})).pipe(Oa())));return K(s).pipe(Oa())}(t,i.path,n),function f9(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return K(!0);const i=r.map(s=>GR(()=>{const o=Gc(e)??n,a=Pa(s,o);return Ji(function r9(t){return t&&Wc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Xi())}));return K(i).pipe(Oa())}(t,i.route,n))),Xi(i=>!0!==i,!0))}(r,s,t,e):K(a)),he(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),$t(o=>{if(r.guardsResult=o.guardsResult,qs(o.guardsResult))throw wN(0,o.guardsResult);const a=new TK(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Yi(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3,n),!1)),Pv(o=>{if(o.guards.canActivateChecks.length)return K(o).pipe($t(a=>{const u=new SK(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Br(a=>{let u=!1;return K(a).pipe(function F9(t,e){return Ft(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return K(n);let s=0;return dt(i).pipe(js(o=>function L9(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!UN(i)&&(s[Oc]=i.title),function V9(t,e,n,r){const i=function U9(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return K({});const s={};return dt(i).pipe(Ft(o=>function B9(t,e,n,r){const i=Gc(e)??r,s=Pa(t,i);return Ji(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Xi(),$t(a=>{s[o]=a}))),hv(1),function Y7(t){return he(()=>t)}(s),Zi(o=>kv(o)?ti:Nc(o)))}(s,t,e,r).pipe(he(o=>(t._resolvedData=o,t.data=yN(t,n).resolve,i&&UN(i)&&(t.data[Oc]=i.title),null)))}(o.route,r,t,e)),$t(()=>s++),hv(1),Ft(o=>s===i.length?K(n):ti))})}(n.paramsInheritanceStrategy,this.environmentInjector),$t({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2,n))}}))}),$t(a=>{const u=new AK(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Pv(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe($t(l=>{u.component=l}),he(()=>{})));for(const l of u.children)c.push(...a(l));return c};return jR(a(o.targetSnapshot.root)).pipe(mf(),Pc(1))}),Pv(()=>n.afterPreactivation()),he(o=>{const a=function BK(t,e,n){const r=jc(t,e._root,n?n._root:void 0);return new gN(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),$t(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>he(r=>(new YK(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),$t({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new zs(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),fv(()=>{i||s||this.cancelNavigationTransition(r,"",1,n),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Zi(o=>{if(s=!0,bN(o)){EN(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Df(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),EN(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||HN(r.source)};n.scheduleNavigation(u,"imperative",null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new hN(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return ti}))}))}cancelNavigationTransition(n,r,i,s){const o=new Df(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function HN(t){return"imperative"!==t}let GN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ce);return r}getResolvedTitleForRoute(n){return n.data[Oc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return me(H9)},providedIn:"root"}),t})(),H9=(()=>{class t extends GN{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)($(FR))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),G9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return me(z9)},providedIn:"root"}),t})();class q9{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let z9=(()=>{class t extends q9{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(t)))(r||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Nf=new j("",{providedIn:"root",factory:()=>({})});let K9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return me(Q9)},providedIn:"root"}),t})(),Q9=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Y9(t){throw t}function X9(t,e,n){return e.parse("/")}const Z9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},J9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let sn=(()=>{class t{constructor(){this.disposed=!1,this.currentPageId=0,this.console=me(_W),this.isNgZoneEnabled=!1,this.options=me(Nf,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Y9,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||X9,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>K(void 0),this.urlHandlingStrategy=me(K9),this.routeReuseStrategy=me(G9),this.urlCreationStrategy=me(LK),this.titleStrategy=me(GN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=YR(me(Fa,{optional:!0})??[]),this.navigationTransitions=me(Fv),this.urlSerializer=me(Lc),this.location=me(B_),this.rootComponentType=null,this.isNgZoneEnabled=me(Ue)instanceof Ue&&Ue.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Hs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mN(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(n.state){const a={...n.state};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(Mv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=qs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function eQ(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new x(4008,!1)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...Z9}:!1===r?{...J9}:r,qs(n))return JR(this.currentUrlTree,n,i);const s=this.parseUrl(n);return JR(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),l=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):l=0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),La=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Jr;const u=o.nativeElement.tagName;this.isAnchorElement="A"===u||"AREA"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof zs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=Aa(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=Aa(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=Aa(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function tx(t,e,n){return function IG(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?ex:ac}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(D(sn),D(Na),function ch(t){return function zH(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(qS(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Ut(),t)}("tabindex"),D(li),D(qn),D($s))},t.\u0275dir=Z({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&J("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Pr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[ir]}),t})(),zN=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Fe,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof zs&&this.update()})}ngAfterContentInit(){K(this.links.changes,K(null)).pipe(jo()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=dt(n).pipe(jo()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const n=this.hasActiveLinks();this.isActive!==n&&(this.isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function tQ(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}}return t.\u0275fac=function(n){return new(n||t)(D(sn),D(qn),D(li),D(Yh),D(La,8))},t.\u0275dir=Z({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,i){if(1&n&&function XM(t,e,n,r){const i=ye();if(i.firstCreatePass){const s=Ut();JM(i,new KM(e,n,r),s.index),function X5(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}ZM(i,b(),n)}(i,La,5),2&n){let s;__(s=v_())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[ir]}),t})();class WN{}let nQ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Yi(n=>n instanceof zs),js(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Bh(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return dt(i).pipe(jo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):K(null);const s=i.pipe(Ft(o=>null===o?K(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?dt([s,this.loader.loadComponent(r)]).pipe(jo()):s})}}return t.\u0275fac=function(n){return new(n||t)($(sn),$(Ek),$(ci),$(WN),$(Ov))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Lv=new j("");let KN=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof wv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof zs&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof fN&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new fN(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function Px(){throw new Error("invalid")}()},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();function Ua(t,e){return{\u0275kind:t,\u0275providers:e}}function YN(){const t=me(gn);return e=>{const n=t.get(Kh);if(e!==n.components[0])return;const r=t.get(sn),i=t.get(XN);1===t.get(Uv)&&r.initialNavigation(),t.get(ZN,null,Y.Optional)?.setUpPreloading(),t.get(Lv,null,Y.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const XN=new j("",{factory:()=>new Jr}),Uv=new j("",{providedIn:"root",factory:()=>1});const ZN=new j("");function aQ(t){return Ua(0,[{provide:ZN,useExisting:nQ},{provide:WN,useExisting:t}])}const JN=new j("ROUTER_FORROOT_GUARD"),uQ=[B_,{provide:Lc,useClass:pv},sn,Hc,{provide:Na,useFactory:function QN(t){return t.routerState.root},deps:[sn]},Ov,[]];function cQ(){return new xk("Router",sn)}let eP=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[uQ,[],{provide:Fa,multi:!0,useValue:n},{provide:JN,useFactory:fQ,deps:[[sn,new ht,new Ju]]},{provide:Nf,useValue:r||{}},r?.useHash?{provide:$s,useClass:s8}:{provide:$s,useClass:Zk},{provide:Lv,useFactory:()=>{const t=me(x6),e=me(Ue),n=me(Nf),r=me(Fv),i=me(Lc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new KN(i,r,t,e,n)}},r?.preloadingStrategy?aQ(r.preloadingStrategy).\u0275providers:[],{provide:xk,multi:!0,useFactory:cQ},r?.initialNavigation?pQ(r):[],[{provide:tP,useFactory:YN},{provide:Ik,multi:!0,useExisting:tP}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Fa,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)($(JN,8))},t.\u0275mod=Cn({type:t}),t.\u0275inj=ln({imports:[Av]}),t})();function fQ(t){return"guarded"}function pQ(t){return["disabled"===t.initialNavigation?Ua(3,[{provide:Gh,multi:!0,useFactory:()=>{const e=me(sn);return()=>{e.setUpLocationChangeListener()}}},{provide:Uv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ua(2,[{provide:Uv,useValue:0},{provide:Gh,multi:!0,deps:[gn],useFactory:e=>{const n=e.get(r8,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const s=e.get(sn),o=e.get(XN);(function r(i){e.get(sn).events.pipe(Yi(o=>o instanceof zs||o instanceof Df||o instanceof hN),he(o=>o instanceof zs||o instanceof Df&&(0===o.code||1===o.code)&&null),Yi(o=>null!==o),Pc(1)).subscribe(()=>{i()})})(()=>{i(!0)}),s.afterPreactivation=()=>(i(!0),o.closed?K(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const tP=new j("");class Ws{}function nP(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){nP(s,r,i,o,a,"next",u)}function a(u){nP(s,r,i,o,a,"throw",u)}o(void 0)})}}Ws.\u0275fac=function(e){return new(e||Ws)},Ws.\u0275cmp=Lt({type:Ws,selectors:[["app-navbar"]],decls:16,vars:0,consts:[[1,"grid","grid-cols-3","gap-2","sticky","min-width-full","top-0","bg-black/90","drop-shadow-lg","text-slate-300","backdrop-blur-sm","border-b","border-b-neutral-500","z-50","2xl:px-[25%]"],["routerLink","/home","routerLinkActive","active","ariaCurrentWhenActive","page",1,"flex","mx-auto","p-4","hover:text-white","transition-colors","max-w-fit"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-lungs-fill","my-auto"],["d","M8 1a.5.5 0 0 1 .5.5v5.243L9 7.1V4.72C9 3.77 9.77 3 10.72 3c.524 0 1.023.27 1.443.592.431.332.847.773 1.216 1.229.736.908 1.347 1.946 1.58 2.48.176.405.393 1.16.556 2.011.165.857.283 1.857.24 2.759-.04.867-.232 1.79-.837 2.33-.67.6-1.622.556-2.741-.004l-1.795-.897A2.5 2.5 0 0 1 9 11.264V8.329l-1-.715-1 .715V7.214c-.1 0-.202.03-.29.093l-2.5 1.786a.5.5 0 1 0 .58.814L7 8.329v2.935A2.5 2.5 0 0 1 5.618 13.5l-1.795.897c-1.12.56-2.07.603-2.741.004-.605-.54-.798-1.463-.838-2.33-.042-.902.076-1.902.24-2.759.164-.852.38-1.606.558-2.012.232-.533.843-1.571 1.579-2.479.37-.456.785-.897 1.216-1.229C4.257 3.27 4.756 3 5.28 3 6.23 3 7 3.77 7 4.72V7.1l.5-.357V1.5A.5.5 0 0 1 8 1Zm3.21 8.907a.5.5 0 1 0 .58-.814l-2.5-1.786A.498.498 0 0 0 9 7.214V8.33l2.21 1.578Z"],[1,"hidden","md:inline","md:ml-1.5","text-lg","font-light"],["routerLink","/you","routerLinkActive","active","ariaCurrentWhenActive","page",1,"flex","mx-auto","p-4","hover:text-white","transition-colors"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-fill","my-auto"],["d","M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"],["routerLink","/settings","routerLinkActive","active","ariaCurrentWhenActive","page",1,"flex","mx-auto","p-4","hover:text-white","transition-colors"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-gear-fill","my-auto"],["d","M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"]],template:function(e,n){1&e&&(C(0,"header",0)(1,"a",1),Hn(),C(2,"svg",2),_e(3,"path",3),A(),ai(),C(4,"p",4),H(5,"Exercises"),A()(),C(6,"a",5),Hn(),C(7,"svg",6),_e(8,"path",7),A(),ai(),C(9,"p",4),H(10,"You"),A()(),C(11,"a",8),Hn(),C(12,"svg",9),_e(13,"path",10),A(),ai(),C(14,"p",4),H(15,"Settings"),A()()())},dependencies:[La,zN]});const rP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},$v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Pf=function(t){return function(t){const e=rP(t);return $v.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Of=function(t){try{return $v.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Mt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function jv(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ks(){try{return"object"==typeof indexedDB}catch{return!1}}function Yc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function Hv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Gv=()=>{try{return function CQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Of(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},sP=t=>{var e,n;return null===(n=null===(e=Gv())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},oP=t=>{const e=sP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aP=t=>{var e;return null===(e=Gv())||void 0===e?void 0:e[`_${t}`]};class Ff{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function uP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pf(JSON.stringify({alg:"none",type:"JWT"})),Pf(JSON.stringify(o)),""].join(".")}class Wn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jr.prototype.create)}}class jr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function kQ(t,e){return t.replace(RQ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Wn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const RQ=/\{\$([^}]+)}/g;function Vf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(lP(s)&&lP(o)){if(!Vf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function lP(t){return null!==t&&"object"==typeof t}function Xc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class OQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function FQ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=qv),void 0===i.error&&(i.error=qv),void 0===i.complete&&(i.complete=qv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qv(){}function Wv(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function mt(t){return t&&t._delegate?t._delegate:t}class Ht{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qs="[DEFAULT]";class jQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ff;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function GQ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Qs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class qQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new jQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Kv=[];var ve=(()=>{return(t=ve||(ve={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ve;var t})();const dP={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},zQ=ve.INFO,WQ={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},KQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=WQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ba{constructor(e){this.name=e,this._logLevel=zQ,this._logHandler=KQ,this._userLogHandler=null,Kv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?dP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}let hP,fP;const pP=new WeakMap,Qv=new WeakMap,gP=new WeakMap,Yv=new WeakMap,Xv=new WeakMap;let Zv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Qv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||gP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wi(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function nY(t){return"function"==typeof t?function tY(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function XQ(){return fP||(fP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Jv(this),e),wi(pP.get(this))}:function(...e){return wi(t.apply(Jv(this),e))}:function(e,...n){const r=t.call(Jv(this),e,...n);return gP.set(r,e.sort?e.sort():[e]),wi(r)}}(t):(t instanceof IDBTransaction&&function JQ(t){if(Qv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Qv.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function YQ(){return hP||(hP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Zv):t)}function wi(t){if(t instanceof IDBRequest)return function ZQ(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(wi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pP.set(n,t)}).catch(()=>{}),Xv.set(e,t),e}(t);if(Yv.has(t))return Yv.get(t);const e=nY(t);return e!==t&&(Yv.set(t,e),Xv.set(e,t)),e}const Jv=t=>Xv.get(t);function Uf(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=wi(o);return r&&o.addEventListener("upgradeneeded",u=>{r(wi(o.result),u.oldVersion,u.newVersion,wi(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function ew(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),wi(n).then(()=>{})}const rY=["get","getKey","getAll","getAllKeys","count"],iY=["put","add","delete","clear"],tw=new Map;function mP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(tw.get(e))return tw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=iY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!rY.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return tw.set(e,s),s}!function eY(t){Zv=t(Zv)}(t=>({...t,get:(e,n,r)=>mP(e,n)||t.get(e,n,r),has:(e,n)=>!!mP(e,n)||t.has(e,n)}));class sY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function oY(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const nw="@firebase/app",Ys=new Ba("@firebase/app"),Bf="[DEFAULT]",RY={[nw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xs=new Map,$f=new Map;function NY(t,e){try{t.container.addComponent(e)}catch(n){Ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function on(t){const e=t.name;if($f.has(e))return Ys.debug(`There were multiple attempts to register component ${e}.`),!1;$f.set(e,t);for(const n of Xs.values())NY(n,t);return!0}function Zs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ii=new jr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class OY{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ht("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}const Js="9.15.0";function _P(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ii.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=Gv())||void 0===t?void 0:t.config})()),!n)throw Ii.create("no-options");const s=Xs.get(i);if(s){if(Vf(n,s.options)&&Vf(r,s.config))return s;throw Ii.create("duplicate-app",{appName:i})}const o=new qQ(i);for(const u of $f.values())o.addComponent(u);const a=new OY(n,r,o);return Xs.set(i,a),a}function jf(t=Bf){const e=Xs.get(t);if(!e&&t===Bf)return _P();if(!e)throw Ii.create("no-app",{appName:t});return e}function vP(){return Array.from(Xs.values())}function Be(t,e,n){var r;let i=null!==(r=RY[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ys.warn(a.join(" "))}on(new Ht(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Zc="firebase-heartbeat-store";let iw=null;function wP(){return iw||(iw=Uf("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Zc)}}).catch(t=>{throw Ii.create("idb-open",{originalErrorMessage:t.message})})),iw}function sw(){return(sw=g(function*(t){try{return(yield wP()).transaction(Zc).objectStore(Zc).get(EP(t))}catch(e){if(e instanceof Wn)Ys.warn(e.message);else{const n=Ii.create("idb-get",{originalErrorMessage:e?.message});Ys.warn(n.message)}}})).apply(this,arguments)}function IP(t,e){return ow.apply(this,arguments)}function ow(){return(ow=g(function*(t,e){try{const r=(yield wP()).transaction(Zc,"readwrite");return yield r.objectStore(Zc).put(e,EP(t)),r.done}catch(n){if(n instanceof Wn)Ys.warn(n.message);else{const r=Ii.create("idb-set",{originalErrorMessage:n?.message});Ys.warn(r.message)}}})).apply(this,arguments)}function EP(t){return`${t.name}!${t.options.appId}`}class $Y{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=bP();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=bP(),{heartbeatsToSend:r,unsentEntries:i}=function jY(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),DP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),DP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Pf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function bP(){return(new Date).toISOString().substring(0,10)}class HY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Ks()&&Yc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function VY(t){return sw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return IP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return IP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function DP(t){return Pf(JSON.stringify({version:2,heartbeats:t})).length}!function GY(t){on(new Ht("platform-logger",e=>new sY(e),"PRIVATE")),on(new Ht("heartbeat",e=>new $Y(e),"PRIVATE")),Be(nw,"0.9.0",t),Be(nw,"0.9.0","esm2017"),Be("fire-js","")}(""),Be("firebase","9.15.0","app");const CP="@firebase/installations",SP="w:0.6.0",AP="FIS_v2",Ei=new jr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xP(t){return t instanceof Wn&&t.code.includes("request-failed")}function uw({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function MP(t){return{token:t.token,requestStatus:2,expiresIn:ZY(t.expiresIn),creationTime:Date.now()}}function cw(t,e){return lw.apply(this,arguments)}function lw(){return(lw=g(function*(t,e){const r=(yield e.json()).error;return Ei.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function kP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function RP(t,{refreshToken:e}){const n=kP(t);return n.append("Authorization",function JY(t){return`${AP} ${t}`}(e)),n}function dw(t){return hw.apply(this,arguments)}function hw(){return(hw=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function ZY(t){return Number(t.replace("s","000"))}function eX(t,e){return fw.apply(this,arguments)}function fw(){return(fw=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=uw(t),i=kP(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:AP,appId:t.appId,sdkVersion:SP})},u=yield dw(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:MP(c.authToken)}}throw yield cw("Create Installation",u)})).apply(this,arguments)}function NP(t){return new Promise(e=>{setTimeout(e,t)})}const nX=/^[cdef][\w-]{21}$/;function rX(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function iX(t){return function tX(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return nX.test(n)?n:""}catch{return""}}function $a(t){return`${t.appName}!${t.appId}`}const ja=new Map;function PP(t,e){const n=$a(t);OP(n,e),function aX(t,e){const n=function FP(){return!eo&&"BroadcastChannel"in self&&(eo=new BroadcastChannel("[Firebase] FID Change"),eo.onmessage=t=>{OP(t.data.key,t.data.fid)}),eo}();n&&n.postMessage({key:t,fid:e}),function LP(){0===ja.size&&eo&&(eo.close(),eo=null)}()}(n,e)}function OP(t,e){const n=ja.get(t);if(n)for(const r of n)r(e)}let eo=null;const to="firebase-installations-store";let gw=null;function mw(){return gw||(gw=Uf("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(to)}})),gw}function Hf(t,e){return yw.apply(this,arguments)}function yw(){return(yw=g(function*(t,e){const n=$a(t),i=(yield mw()).transaction(to,"readwrite"),s=i.objectStore(to),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&PP(t,e.fid),e})).apply(this,arguments)}function _w(t){return vw.apply(this,arguments)}function vw(){return(vw=g(function*(t){const e=$a(t),r=(yield mw()).transaction(to,"readwrite");yield r.objectStore(to).delete(e),yield r.done})).apply(this,arguments)}function Jc(t,e){return ww.apply(this,arguments)}function ww(){return(ww=g(function*(t,e){const n=$a(t),i=(yield mw()).transaction(to,"readwrite"),s=i.objectStore(to),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&PP(t,a.fid),a})).apply(this,arguments)}function Iw(t){return Ew.apply(this,arguments)}function Ew(){return(Ew=g(function*(t){let e;const n=yield Jc(t.appConfig,r=>{const i=lX(r),s=dX(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function lX(t){return UP(t||{fid:rX(),registrationStatus:0})}function dX(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ei.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function hX(t,e){return bw.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:fX(t)}:{installationEntry:e}}function bw(){return(bw=g(function*(t,e){try{const n=yield eX(t,e);return Hf(t.appConfig,n)}catch(n){throw xP(n)&&409===n.customData.serverCode?yield _w(t.appConfig):yield Hf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function fX(t){return Dw.apply(this,arguments)}function Dw(){return(Dw=g(function*(t){let e=yield VP(t.appConfig);for(;1===e.registrationStatus;)yield NP(100),e=yield VP(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Iw(t);return r||n}return e})).apply(this,arguments)}function VP(t){return Jc(t,e=>{if(!e)throw Ei.create("installation-not-found");return UP(e)})}function UP(t){return function pX(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function gX(t,e){return Cw.apply(this,arguments)}function Cw(){return(Cw=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=mX(t,n),i=RP(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:SP,appId:t.appId}})},u=yield dw(()=>fetch(r,a));if(u.ok)return MP(yield u.json());throw yield cw("Generate Auth Token",u)})).apply(this,arguments)}function mX(t,{fid:e}){return`${uw(t)}/${e}/authTokens:generate`}function Tw(t){return Sw.apply(this,arguments)}function Sw(){return(Sw=g(function*(t,e=!1){let n;const r=yield Jc(t.appConfig,s=>{if(!$P(s))throw Ei.create("not-registered");const o=s.authToken;if(!e&&vX(o))return s;if(1===o.requestStatus)return n=yX(t,e),s;{if(!navigator.onLine)throw Ei.create("app-offline");const a=IX(s);return n=_X(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function yX(t,e){return Aw.apply(this,arguments)}function Aw(){return(Aw=g(function*(t,e){let n=yield BP(t.appConfig);for(;1===n.authToken.requestStatus;)yield NP(100),n=yield BP(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Tw(t,e):r})).apply(this,arguments)}function BP(t){return Jc(t,e=>{if(!$P(e))throw Ei.create("not-registered");return function EX(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function _X(t,e){return xw.apply(this,arguments)}function xw(){return(xw=g(function*(t,e){try{const n=yield gX(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Hf(t.appConfig,r),n}catch(n){if(!xP(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Hf(t.appConfig,r)}else yield _w(t.appConfig);throw n}})).apply(this,arguments)}function $P(t){return void 0!==t&&2===t.registrationStatus}function vX(t){return 2===t.requestStatus&&!function wX(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function IX(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Mw(){return(Mw=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Iw(e);return r?r.catch(console.error):Tw(e).catch(console.error),n.fid})).apply(this,arguments)}function kw(){return(kw=g(function*(t,e=!1){const n=t;return yield CX(n),(yield Tw(n,e)).token})).apply(this,arguments)}function CX(t){return Rw.apply(this,arguments)}function Rw(){return(Rw=g(function*(t){const{registrationPromise:e}=yield Iw(t);e&&(yield e)})).apply(this,arguments)}function Ow(t){return Ei.create("missing-app-config-values",{valueName:t})}const jP="installations",MX=t=>{const e=t.getProvider("app").getImmediate(),n=function AX(t){if(!t||!t.options)throw Ow("App Configuration");if(!t.name)throw Ow("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ow(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Zs(e,"heartbeat"),_delete:()=>Promise.resolve()}},kX=t=>{const n=Zs(t.getProvider("app").getImmediate(),jP).getImmediate();return{getId:()=>function bX(t){return Mw.apply(this,arguments)}(n),getToken:i=>function DX(t){return kw.apply(this,arguments)}(n,i)}};(function RX(){on(new Ht(jP,MX,"PUBLIC")),on(new Ht("installations-internal",kX,"PRIVATE"))})(),Be(CP,"0.6.0"),Be(CP,"0.6.0","esm2017");const Fw="@firebase/remote-config",kn=new jr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class HX{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function GX(t=navigator){return t.languages&&t.languages[0]||t.language}class qX{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:GX()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((I,E)=>{e.signal.addEventListener(()=>{const _=new Error("The operation was aborted.");_.name="AbortError",E(_)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let E="fetch-client-network";throw"AbortError"===I?.name&&(E="fetch-timeout"),kn.create(E,{originalErrorMessage:I?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let I;try{I=yield h.json()}catch(E){throw kn.create("fetch-client-parse",{originalErrorMessage:E?.message})}m=I.entries,y=I.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw kn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class KX{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function zX(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function WX(t){if(!(t instanceof Wn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Wv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class XX{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function qf(t,e){const n=t.target.error||void 0;return kn.create(e,{originalErrorMessage:n&&n?.message})}const no="app_namespace_store";class tZ{constructor(e,n,r,i=function eZ(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(qf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(no,{keyPath:"compositeKey"})}}catch(n){e(kn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([no],"readonly").objectStore(no),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(qf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(kn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([no],"readwrite").objectStore(no),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(qf(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(kn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([no],"readwrite").objectStore(no),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(qf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(kn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class nZ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function iZ(){return $w.apply(this,arguments)}function $w(){return($w=g(function*(){if(!Ks())return!1;try{return yield Yc()}catch{return!1}})).apply(this,arguments)}!function rZ(){on(new Ht("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw kn.create("registration-window");if(!Ks())throw kn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw kn.create("registration-project-id");if(!o)throw kn.create("registration-api-key");if(!a)throw kn.create("registration-app-id");const u=new tZ(a,r.name,n=n||"firebase"),c=new nZ(u),l=new Ba(Fw);l.logLevel=ve.ERROR;const d=new qX(i,Js,n,s,o,a),h=new KX(d,u),f=new HX(h,u,c,l),p=new XX(r,f,c,u,l);return function BX(t){const e=mt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Be(Fw,"0.4.0"),Be(Fw,"0.4.0","esm2017")}();const sZ="/firebase-messaging-sw.js",oZ="/firebase-cloud-messaging-push-scope",zP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",WP="google.c.a.c_id",uZ="google.c.a.c_l",cZ="google.c.a.ts",lZ="google.c.a.e";var Ha=(()=>{return(t=Ha||(Ha={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Ha;var t})();function bi(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function dZ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const jw="fcm_token_details_db",KP="fcm_token_object_Store";function fZ(t){return Hw.apply(this,arguments)}function Hw(){return Hw=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(jw))return null;let e=null;return(yield Uf(jw,5,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(KP))return;const c=a.objectStore(KP),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:bi(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:bi(d.auth),p256dh:bi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:bi(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:bi(d.auth),p256dh:bi(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:bi(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield ew(jw),yield ew("fcm_vapid_details_db"),yield ew("undefined"),pZ(e)?e:null;var r}),Hw.apply(this,arguments)}function pZ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const ro="firebase-messaging-store";let Gw=null;function qw(){return Gw||(Gw=Uf("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ro)}})),Gw}function QP(t){return zw.apply(this,arguments)}function zw(){return(zw=g(function*(t){const e=Yw(t),r=yield(yield qw()).transaction(ro).objectStore(ro).get(e);if(r)return r;{const i=yield fZ(t.appConfig.senderId);if(i)return yield Ww(t,i),i}})).apply(this,arguments)}function Ww(t,e){return Kw.apply(this,arguments)}function Kw(){return(Kw=g(function*(t,e){const n=Yw(t),i=(yield qw()).transaction(ro,"readwrite");return yield i.objectStore(ro).put(e,n),yield i.done,e})).apply(this,arguments)}function yZ(t){return Qw.apply(this,arguments)}function Qw(){return(Qw=g(function*(t){const e=Yw(t),r=(yield qw()).transaction(ro,"readwrite");yield r.objectStore(ro).delete(e),yield r.done})).apply(this,arguments)}function Yw({appConfig:t}){return t.appId}const Gt=new jr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function vZ(t,e){return Xw.apply(this,arguments)}function Xw(){return(Xw=g(function*(t,e){const n=yield tI(t),r=XP(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(eI(t.appConfig),i)).json()}catch(o){throw Gt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Gt.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Gt.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function wZ(t,e){return Zw.apply(this,arguments)}function Zw(){return(Zw=g(function*(t,e){const n=yield tI(t),r=XP(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${eI(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Gt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Gt.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Gt.create("token-update-no-token");return s.token})).apply(this,arguments)}function YP(t,e){return Jw.apply(this,arguments)}function Jw(){return(Jw=g(function*(t,e){const r={method:"DELETE",headers:yield tI(t)};try{const s=yield(yield fetch(`${eI(t.appConfig)}/${e}`,r)).json();if(s.error)throw Gt.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Gt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function eI({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function tI(t){return nI.apply(this,arguments)}function nI(){return(nI=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function XP({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==zP&&(i.web.applicationPubKey=r),i}const IZ=6048e5;function EZ(t){return rI.apply(this,arguments)}function rI(){return(rI=g(function*(t){const e=yield DZ(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:bi(e.getKey("auth")),p256dh:bi(e.getKey("p256dh"))},r=yield QP(t.firebaseDependencies);if(r){if(CZ(r.subscriptionOptions,n))return Date.now()>=r.createTime+IZ?bZ(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield YP(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return JP(t.firebaseDependencies,n)}return JP(t.firebaseDependencies,n)})).apply(this,arguments)}function ZP(t){return iI.apply(this,arguments)}function iI(){return(iI=g(function*(t){const e=yield QP(t.firebaseDependencies);e&&(yield YP(t.firebaseDependencies,e.token),yield yZ(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function bZ(t,e){return sI.apply(this,arguments)}function sI(){return(sI=g(function*(t,e){try{const n=yield wZ(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Ww(t.firebaseDependencies,r),n}catch(n){throw yield ZP(t),n}})).apply(this,arguments)}function JP(t,e){return oI.apply(this,arguments)}function oI(){return(oI=g(function*(t,e){const r={token:yield vZ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Ww(t,r),r.token})).apply(this,arguments)}function DZ(t,e){return aI.apply(this,arguments)}function aI(){return(aI=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:dZ(e)})})).apply(this,arguments)}function CZ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function eO(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function TZ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function SZ(t,e){!e.data||(t.data=e.data)}(e,t),function AZ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function xZ(t){return"object"==typeof t&&!!t&&WP in t}function tO(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function uI(t){return Gt.create("missing-app-config-values",{valueName:t})}tO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),tO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class kZ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function MZ(t){if(!t||!t.options)throw uI("App Configuration Object");if(!t.name)throw uI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw uI(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function nO(t){return cI.apply(this,arguments)}function cI(){return(cI=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(sZ,{scope:oZ}),t.swRegistration.update().catch(()=>{})}catch(e){throw Gt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function RZ(t,e){return lI.apply(this,arguments)}function lI(){return(lI=g(function*(t,e){if(!e&&!t.swRegistration&&(yield nO(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Gt.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function NZ(t,e){return dI.apply(this,arguments)}function dI(){return(dI=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=zP)})).apply(this,arguments)}function hI(){return(hI=g(function*(t,e){if(!navigator)throw Gt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Gt.create("permission-blocked");return yield NZ(t,e?.vapidKey),yield RZ(t,e?.serviceWorkerRegistration),EZ(t)})).apply(this,arguments)}function PZ(t,e,n){return fI.apply(this,arguments)}function fI(){return(fI=g(function*(t,e,n){const r=OZ(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[WP],message_name:n[uZ],message_time:n[cZ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function OZ(t){switch(t){case Ha.NOTIFICATION_CLICKED:return"notification_open";case Ha.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function pI(){return(pI=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Ha.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(eO(n)):t.onMessageHandler.next(eO(n)));const r=n.data;xZ(r)&&"1"===r[lZ]&&(yield PZ(t,n.messageType,r))})).apply(this,arguments)}const iO="@firebase/messaging",LZ=t=>{const e=new kZ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function FZ(t,e){return pI.apply(this,arguments)}(e,n)),e},VZ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function rO(t,e){return hI.apply(this,arguments)}(e,r)}};function oO(){return gI.apply(this,arguments)}function gI(){return(gI=g(function*(){try{yield Yc()}catch{return!1}return typeof window<"u"&&Ks()&&Hv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function UZ(){on(new Ht("messaging",LZ,"PUBLIC")),on(new Ht("messaging-internal",VZ,"PRIVATE")),Be(iO,"0.12.0"),Be(iO,"0.12.0","esm2017")}();const zf="analytics",jZ="firebase_id",qZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",aO="https://www.googletagmanager.com/gtag/js",qt=new Ba("@firebase/analytics");function uO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function zZ(t,e){const n=document.createElement("script");n.src=`${aO}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function KZ(t,e,n,r,i,s){return _I.apply(this,arguments)}function _I(){return(_I=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield uO(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){qt.error(a)}t("config",i,s)})).apply(this,arguments)}function QZ(t,e,n,r,i){return vI.apply(this,arguments)}function vI(){return(vI=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield uO(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){qt.error(s)}})).apply(this,arguments)}function ZZ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(aO)&&n.src.includes(t))return n;return null}const Kn=new jr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),cO=new class nJ{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function rJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function iJ(t){return wI.apply(this,arguments)}function wI(){return(wI=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:rJ(r)},s=qZ.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Kn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function sJ(t){return II.apply(this,arguments)}function II(){return(II=g(function*(t,e=cO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Kn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Kn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new uJ;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),lO({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function lO(t,e,n){return EI.apply(this,arguments)}function EI(){return(EI=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=cO){var s;const{appId:o,measurementId:a}=t;try{yield oJ(r,e)}catch(u){if(a)return qt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield iJ(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!aJ(c)){if(i.deleteThrottleMetadata(o),a)return qt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Wv(n,i.intervalMillis,30):Wv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),qt.debug(`Calling attemptFetch again in ${l} millis`),lO(t,d,r,i)}})).apply(this,arguments)}function oJ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function aJ(t){if(!(t instanceof Wn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class uJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let bI,xI;function DI(){return(DI=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function dO(t){xI=t}function hO(t){bI=t}function pJ(){return MI.apply(this,arguments)}function MI(){return(MI=g(function*(){if(!Ks())return qt.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Yc()}catch(t){return qt.warn(Kn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function kI(){return(kI=g(function*(t,e,n,r,i,s,o){var a;const u=sJ(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&qt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>qt.error(f)),e.push(u);const c=pJ().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);ZZ(s)||zZ(s,l.measurementId),xI&&(i("consent","default",xI),dO(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[jZ]=d),i("config",l.measurementId,h),bI&&(i("set",bI),hO(void 0)),l.measurementId})).apply(this,arguments)}class mJ{constructor(e){this.app=e}_delete(){return delete Di[this.app.options.appId],Promise.resolve()}}let Di={},fO=[];const pO={};let mO,Ci,Wf="dataLayer",RI=!1;function _J(t,e,n){!function yJ(){const t=[];if(jv()&&t.push("This is a browser extension environment."),Hv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Kn.create("invalid-analytics-context",{errorInfo:e});qt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Kn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Kn.create("no-api-key");qt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Di[r])throw Kn.create("already-exists",{id:r});if(!RI){!function WZ(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Wf);const{wrappedGtag:s,gtagCore:o}=function XZ(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function YZ(t,e,n,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield QZ(t,e,n,a,u):"config"===o?yield KZ(t,e,n,r,a,u):"consent"===o?t("consent","update",u):t("set",a)}catch(c){qt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Di,fO,pO,Wf,"gtag");Ci=s,mO=o,RI=!0}return Di[r]=function gJ(t,e,n,r,i,s,o){return kI.apply(this,arguments)}(t,fO,pO,e,mO,Wf,n),new mJ(t)}function wJ(){return NI.apply(this,arguments)}function NI(){return(NI=g(function*(){if(jv()||!Hv()||!Ks())return!1;try{return yield Yc()}catch{return!1}})).apply(this,arguments)}const yO="@firebase/analytics";!function EJ(){on(new Ht(zf,(e,{options:n})=>_J(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),on(new Ht("analytics-internal",function t(e){try{const n=e.getProvider(zf).getImmediate();return{logEvent:(r,i,s)=>function IJ(t,e,n,r){t=mt(t),function cJ(t,e,n,r,i){return DI.apply(this,arguments)}(Ci,Di[t.app.options.appId],e,n,r).catch(i=>qt.error(i))}(n,r,i,s)}}catch(n){throw Kn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Be(yO,"0.9.0"),Be(yO,"0.9.0","esm2017")}();class bJ extends Ln{constructor(e,n){super()}schedule(e,n=0){return this}}const Kf={setInterval(t,e,...n){const{delegate:r}=Kf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Kf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class vO extends bJ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Kf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Kf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$o(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const wO={now:()=>(wO.delegate||Date).now(),delegate:void 0};class el{constructor(e,n=el.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}el.now=wO.now;class IO extends el{constructor(e,n=el.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const TJ=new class CJ extends IO{}(class DJ extends vO{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),SJ=new IO(vO),tl=new ua("7.5.0"),PI="__angularfire_symbol__analyticsIsSupportedValue",OI="__angularfire_symbol__analyticsIsSupported",FI="__angularfire_symbol__remoteConfigIsSupportedValue",LI="__angularfire_symbol__remoteConfigIsSupported",VI="__angularfire_symbol__messagingIsSupportedValue",UI="__angularfire_symbol__messagingIsSupported";function Qf(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[OI]||(globalThis[OI]=wJ().then(t=>globalThis[PI]=t).catch(()=>globalThis[PI]=!1)),globalThis[UI]||(globalThis[UI]=oO().then(t=>globalThis[VI]=t).catch(()=>globalThis[VI]=!1)),globalThis[LI]||(globalThis[LI]=iZ().then(t=>globalThis[FI]=t).catch(()=>globalThis[FI]=!1));const Yf=(t,e)=>{const n=e?[e]:vP(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ga(){}class EO{constructor(e,n=TJ){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class AJ{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ga,{},Ga,Ga)),n.pipe($t({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xf=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new EO(Zone.current)),this.insideAngular=n.run(()=>new EO(Zone.current,SJ)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)($(Ue))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function io(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function xJ(t){return io().ngZone.runOutsideAngular(()=>t())}function so(t){return io().ngZone.run(()=>t())}function MJ(t){return io(),function kJ(t){return function(n){return(n=n.lift(new AJ(t.ngZone))).pipe(Bd(t.outsideAngular),Ud(t.insideAngular))}}(io())(t)}const RJ=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),so(()=>t.apply(void 0,r))},zt=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=so(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ga,{},Ga,Ga)))),r[s]=RJ(r[s],n));const i=xJ(()=>t.apply(this,r));if(!e){if(i instanceof Je){const s=io();return i.pipe(Bd(s.outsideAngular),Ud(s.insideAngular))}return so(()=>i)}return i instanceof Je?i.pipe(MJ):i instanceof Promise?so(()=>new Promise((s,o)=>i.then(a=>so(()=>s(a)),a=>so(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:so(()=>i)};class oo{constructor(e){return e}}class Zf{constructor(){return vP()}}const $I=new j("angularfire2._apps"),PJ={provide:oo,useFactory:function NJ(t){return t&&1===t.length?t[0]:new oo(jf())},deps:[[new ht,$I]]},OJ={provide:Zf,deps:[[new ht,$I]]};function FJ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new oo(r)}}let LJ=(()=>{class t{constructor(n){Be("angularfire",tl.full,"core"),Be("angularfire",tl.full,"app"),Be("angular",px.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)($(zh))},t.\u0275mod=Cn({type:t}),t.\u0275inj=ln({providers:[PJ,OJ]}),t})();const UJ=zt(_P,!0),jI=new Map,bO={activated:!1,tokenObservers:[]},BJ={initialized:!1,enabled:!1};function Wt(t){return jI.get(t)||Object.assign({},bO)}function Jf(){return BJ}class zJ{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new Ff,yield function WJ(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Ff,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const _n=new jr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function CO(t){if(!Wt(t).activated)throw _n.create("use-before-activation",{appName:t.name})}function qI(t,e){return zI.apply(this,arguments)}function zI(){return(zI=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw _n.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw _n.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw _n.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw _n.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function XJ(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const nl="firebase-app-check-store";let np=null;function SO(){return np||(np=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(_n.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(nl,{keyPath:"compositeKey"})}}catch(n){e(_n.create("storage-open",{originalErrorMessage:n?.message}))}}),np)}function WI(){return(WI=g(function*(t,e){const r=(yield SO()).transaction(nl,"readwrite"),s=r.objectStore(nl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(_n.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const rl=new Ba("@firebase/app-check");function YI(t,e){return Ks()?function tee(t,e){return function AO(t,e){return WI.apply(this,arguments)}(function MO(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{rl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function kO(){return Jf().enabled}function RO(){return ZI.apply(this,arguments)}function ZI(){return(ZI=g(function*(){const t=Jf();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const aee={error:"UNKNOWN_ERROR"};function uee(t){return $v.encodeString(JSON.stringify(t),!1)}function rp(t){return JI.apply(this,arguments)}function JI(){return(JI=g(function*(t,e=!1){const n=t.app;CO(n);const r=Wt(n);let s,i=r.token;if(i&&!qa(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(qa(u)?i=u:yield YI(n,void 0))}if(!e&&i&&qa(i))return{token:i.token};let a,o=!1;if(kO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=qI(XJ(n,yield RO()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield YI(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Wt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?rl.warn(u.message):rl.error(u),s=u}return i?s?a=qa(i)?{token:i.token,internalError:s}:OO(s):(a={token:i.token},r.token=i,yield YI(n,i)):a=OO(s),o&&PO(n,a),a})).apply(this,arguments)}function tE(t,e){const n=Wt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function NO(t){const{app:e}=t,n=Wt(e);let r=n.tokenRefresher;r||(r=function cee(t){const{app:e}=t;return new zJ(g(function*(){let r;if(r=Wt(e).token?yield rp(t,!0):yield rp(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Wt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function PO(t,e){const n=Wt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function qa(t){return t.expireTimeMillis-Date.now()>0}function OO(t){return{token:uee(aee),error:t}}class lee{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Wt(this.app);for(const n of e)tE(this.app,n.next);return Promise.resolve()}}const HO="app-check-internal";!function Dee(){on(new Ht("app-check",t=>function dee(t,e){return new lee(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(HO).initialize()})),on(new Ht(HO,t=>function hee(t){return{getToken:e=>rp(t,e),addTokenListener:e=>function eE(t,e,n,r){const{app:i}=t,s=Wt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&qa(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),NO(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>NO(t))}(t,"INTERNAL",e),removeTokenListener:e=>tE(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Be("@firebase/app-check","0.6.0")}();class sp{constructor(){return Yf("app-check")}}typeof window<"u"&&window;const xee=function qO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},zO=new jr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),WO=new Ba("@firebase/auth");function op(t,...e){WO.logLevel<=ve.ERROR&&WO.error(`Auth (${Js}): ${t}`,...e)}function Rn(t,...e){throw oE(t,...e)}function Qn(t,...e){return oE(t,...e)}function KO(t,e,n){const r=Object.assign(Object.assign({},xee()),{[e]:n});return new jr("auth","Firebase",r).create(e,{appName:t.name})}function za(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Rn(t,"argument-error"),KO(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function oE(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zO.create(t,...e)}function k(t,e,...n){if(!t)throw oE(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw op(e),new Error(e)}function Ti(t,e){t||Hr(e)}const QO=new Map;function Si(t){Ti(t instanceof Function,"Expected a class definition");let e=QO.get(t);return e?(Ti(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QO.set(t,e),e)}function il(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function YO(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class sl{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ti(n>e,"Short delay should be less than long delay!"),this.isMobile=function IQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}()||function bQ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Ree(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function aE(){return"http:"===YO()||"https:"===YO()}()||jv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function uE(t,e){Ti(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class XO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Pee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Oee=new sl(3e4,6e4);function Dt(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function kt(t,e,n,r){return cE.apply(this,arguments)}function cE(){return(cE=g(function*(t,e,n,r,i={}){return ZO(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Xc(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),XO.fetch()(JO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function ZO(t,e,n){return lE.apply(this,arguments)}function lE(){return(lE=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Pee),e);try{const i=new Fee(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ol(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw ol(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw ol(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw ol(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw KO(t,l,c);Rn(t,l)}}catch(i){if(i instanceof Wn)throw i;Rn(t,"network-request-failed")}})).apply(this,arguments)}function Ai(t,e,n,r){return dE.apply(this,arguments)}function dE(){return(dE=g(function*(t,e,n,r,i={}){const s=yield kt(t,e,n,r,i);return"mfaPendingCredential"in s&&Rn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function JO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?uE(t.config,i):`${t.config.apiScheme}://${i}`}class Fee{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qn(this.auth,"network-request-failed")),Oee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ol(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Qn(t,e,r);return i.customData._tokenResponse=n,i}function hE(){return(hE=g(function*(t,e){return kt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Uee(t,e){return pE.apply(this,arguments)}function pE(){return(pE=g(function*(t,e){return kt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function al(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function gE(){return(gE=g(function*(t,e=!1){const n=mt(t),r=yield n.getIdToken(e),i=ap(r);k(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:al(mE(i.auth_time)),issuedAtTime:al(mE(i.iat)),expirationTime:al(mE(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function mE(t){return 1e3*Number(t)}function ap(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return op("JWT malformed, contained fewer than 3 sections"),null;try{const i=Of(n);return i?JSON.parse(i):(op("Failed to decode base64 JWT payload"),null)}catch(i){return op("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xi(t,e){return yE.apply(this,arguments)}function yE(){return(yE=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Wn&&jee(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function jee({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class Hee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class eF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=al(this.lastLoginAt),this.creationTime=al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ul(t){return _E.apply(this,arguments)}function _E(){return(_E=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield xi(t,Uee(n,{idToken:r}));k(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?zee(s.providerUserInfo):[],a=qee(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eF(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function vE(){return(vE=g(function*(t){const e=mt(t);yield ul(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function qee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zee(t){return t.map(e=>{var{providerId:n}=e,r=cm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function wE(){return(wE=g(function*(t,e){const n=yield ZO(t,{},g(function*(){const r=Xc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=JO(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",XO.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class cl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function $ee(t){const e=ap(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return k(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Wee(t,e){return wE.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new cl;return r&&(k("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(k("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cl,this.toJSON())}_performRefresh(){return Hr("not implemented")}}function es(t,e){k("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ao{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=cm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield xi(n,n.stsTokenManager.getToken(n.auth,e));return k(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Bee(t){return gE.apply(this,arguments)}(this,e)}reload(){return function Gee(t){return vE.apply(this,arguments)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ao(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield ul(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield xi(e,function Lee(t,e){return hE.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,E=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:_,emailVerified:M,isAnonymous:L,providerData:V,stsTokenManager:He}=n;k(_&&He,e,"internal-error");const tr=cl.fromJSON(this.name,He);k("string"==typeof _,e,"internal-error"),es(d,e.name),es(h,e.name),k("boolean"==typeof M,e,"internal-error"),k("boolean"==typeof L,e,"internal-error"),es(f,e.name),es(p,e.name),es(m,e.name),es(y,e.name),es(I,e.name),es(E,e.name);const Bo=new ao({uid:_,auth:e,email:h,emailVerified:M,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:tr,createdAt:I,lastLoginAt:E});return V&&Array.isArray(V)&&(Bo.providerData=V.map(Sde=>Object.assign({},Sde))),y&&(Bo._redirectEventId=y),Bo}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new cl;i.updateFromServerResponse(n);const s=new ao({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield ul(s),s})()}}const tF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function up(t,e,n){return`firebase:${t}:${e}:${n}`}class Wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=up(this.userKey,i.apiKey,s),this.fullPersistenceKey=up("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ao._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Wa(Si(tF),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Si(tF);const o=up(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=ao._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Wa(s,e,r)):new Wa(s,e,r)})()}}function nF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aF(e))return"Blackberry";if(uF(e))return"Webos";if(IE(e))return"Safari";if((e.includes("chrome/")||iF(e))&&!e.includes("edge/"))return"Chrome";if(oF(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function rF(t=Mt()){return/firefox\//i.test(t)}function IE(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iF(t=Mt()){return/crios\//i.test(t)}function sF(t=Mt()){return/iemobile/i.test(t)}function oF(t=Mt()){return/android/i.test(t)}function aF(t=Mt()){return/blackberry/i.test(t)}function uF(t=Mt()){return/webos/i.test(t)}function cp(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cF(t=Mt()){return cp(t)||oF(t)||uF(t)||aF(t)||/windows phone/i.test(t)||sF(t)}function lF(t,e=[]){let n;switch(t){case"Browser":n=nF(Mt());break;case"Worker":n=`${nF(Mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Js}/${r}`}class Xee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Zee{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dF(this),this.idTokenSubscription=new dF(this),this.beforeStateQueue=new Xee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zO,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Si(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Wa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return k(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield ul(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Nee(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?mt(e):null;return r&&k(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&k(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Si(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Si(e)||n._popupRedirectResolver;k(r,n,"argument-error"),n.redirectPersistenceManager=yield Wa.create(n,[Si(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return k(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function Nn(t){return mt(t)}class dF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function PQ(t,e){const n=new OQ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function hF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function fF(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class pF{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}function Mi(t,e){return PE.apply(this,arguments)}function PE(){return(PE=g(function*(t,e){return Ai(t,"POST","/v1/accounts:signInWithIdp",Dt(t,e))})).apply(this,arguments)}class Ka extends pF{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=cm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ka(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Mi(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mi(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mi(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xc(n)}return e}}class ts{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class _F extends ts{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let _te=(()=>{class t extends _F{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Ka._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class hr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield ao._fromIdTokenResponse(e,r,i),o=wF(r);return new hr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=wF(r);return new hr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function wF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class fp extends Wn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,fp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new fp(e,n,r,i)}}function IF(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?fp._fromErrorAndOperation(t,s,e,r):s})}function HE(t,e){return GE.apply(this,arguments)}function GE(){return(GE=g(function*(t,e,n=!1){const r=yield xi(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return hr._forOperation(t,"link",r)})).apply(this,arguments)}function zE(){return(zE=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield xi(t,IF(r,i,e,t),n);k(s.idToken,r,"internal-error");const o=ap(s.idToken);k(o,r,"internal-error");const{sub:a}=o;return k(t.uid===a,r,"user-mismatch"),hr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Rn(r,"user-mismatch"),s}})).apply(this,arguments)}function WE(){return(WE=g(function*(t,e,n=!1){const r="signIn",i=yield IF(t,r,e),s=yield hr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Pte(t,e,n,r){return mt(t).onAuthStateChanged(e,n,r)}function Ote(t){return mt(t).signOut()}const mp="__sak";class TF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mp,"1"),this.storage.removeItem(mp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const jte=(()=>{class t extends TF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Ute(){const t=Mt();return IE(t)||cp(t)}()&&function Yee(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=cF(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Qee(){return function DQ(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),SF=(()=>{class t extends TF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Gte=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function Hte(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function yp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class qte{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=yp("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Ct(){return window}function b0(){return typeof Ct().WorkerGlobalScope<"u"&&"function"==typeof Ct().importScripts}function D0(){return(D0=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const AF="firebaseLocalStorageDb",_p="firebaseLocalStorage",xF="fbase_key";class hl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vp(t,e){return t.transaction([_p],e?"readwrite":"readonly").objectStore(_p)}function C0(){const t=indexedDB.open(AF,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_p,{keyPath:xF})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(_p)?e(r):(r.close(),yield function Xte(){const t=indexedDB.deleteDatabase(AF);return new hl(t).toPromise()}(),e(yield C0()))}))})}function MF(t,e,n){return T0.apply(this,arguments)}function T0(){return(T0=g(function*(t,e,n){const r=vp(t,!0).put({[xF]:e,value:n});return new hl(r).toPromise()})).apply(this,arguments)}function S0(){return(S0=g(function*(t,e){const n=vp(t,!1).get(e),r=yield new hl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function kF(t,e){const n=vp(t,!0).delete(e);return new hl(n).toPromise()}const tne=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield C0()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return b0()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=Gte._getInstance(function Qte(){return b0()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function Wte(){return D0.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new qte(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Kte(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield C0();return yield MF(n,mp,"1"),yield kF(n,mp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>MF(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function Zte(t,e){return S0.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>kF(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=vp(o,!1).getAll();return new hl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function NF(t){return`__${t}${Math.floor(1e6*Math.random())}`}function co(t,e){return e?Si(e):(k(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}NF("rcb"),new sl(3e4,6e4);class L0 extends pF{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mi(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mi(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mi(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _ne(t){return function DF(t,e){return WE.apply(this,arguments)}(t.auth,new L0(t),t.bypassAuthState)}function vne(t){const{auth:e,user:n}=t;return k(n,e,"internal-error"),function bF(t,e){return zE.apply(this,arguments)}(n,new L0(t),t.bypassAuthState)}function wne(t){return V0.apply(this,arguments)}function V0(){return(V0=g(function*(t){const{auth:e,user:n}=t;return k(n,e,"internal-error"),HE(n,new L0(t),t.bypassAuthState)})).apply(this,arguments)}class OF{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _ne;case"linkViaPopup":case"linkViaRedirect":return wne;case"reauthViaPopup":case"reauthViaRedirect":return vne;default:Rn(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ine=new sl(2e3,1e4);function Ene(t,e,n){return U0.apply(this,arguments)}function U0(){return(U0=g(function*(t,e,n){const r=Nn(t);za(t,e,ts);const i=co(r,n);return new j0(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let j0=(()=>{class t extends OF{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return g(function*(){const r=yield n.execute();return k(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return g(function*(){Ti(1===n.filter.length,"Popup operations only handle one event");const r=yp();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(Qn(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(n,Ine.get())};n()}}return t.currentPopupAction=null,t})();const fl=new Map;class Dne extends OF{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=fl.get(n.auth._key());if(!r){try{const s=(yield function Cne(t,e){return H0.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}fl.set(n.auth._key(),r)}return n.bypassAuthState||fl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function H0(){return(H0=g(function*(t,e){const n=LF(e),r=FF(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Tne(t,e){fl.set(t._key(),e)}function FF(t){return Si(t._redirectPersistence)}function LF(t){return up("pendingRedirect",t.config.apiKey,t.name)}function VF(t,e){return Y0.apply(this,arguments)}function Y0(){return(Y0=g(function*(t,e,n=!1){const r=Nn(t),i=co(r,e),o=yield new Dne(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class kne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Rne(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $F(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!$F(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(BF(e))}saveEventToCache(e){this.cachedEventUids.add(BF(e)),this.lastProcessedEventTime=Date.now()}}function BF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function $F({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function Nne(t){return Z0.apply(this,arguments)}function Z0(){return(Z0=g(function*(t,e={}){return kt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Pne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,One=/^https?/;function J0(){return(J0=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield Nne(t);for(const n of e)try{if(Lne(n))return}catch{}Rn(t,"unauthorized-domain")})).apply(this,arguments)}function Lne(t){const e=il(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!One.test(n))return!1;if(Pne.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Vne=new sl(3e4,6e4);function jF(){const t=Ct().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Ip=null;function Bne(t){return Ip=Ip||function Une(t){return new Promise((e,n)=>{var r,i,s;function o(){jF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jF(),n(Qn(t,"network-request-failed"))},timeout:Vne.get()})}if(null!==(i=null===(r=Ct().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Ct().gapi)||void 0===s||!s.load){const a=NF("iframefcb");return Ct()[a]=()=>{gapi.load?o():n(Qn(t,"network-request-failed"))},function RF(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Qn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function sne(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Ip=null,e})}(t),Ip}const $ne=new sl(5e3,15e3),Gne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zne(t){const e=t.config;k(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?uE(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Js},i=qne.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Xc(r).slice(1)}`}function eb(){return eb=g(function*(t){const e=yield Bne(t),n=Ct().gapi;return k(n,t,"internal-error"),e.open({where:document.body,url:zne(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gne,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Qn(t,"network-request-failed"),u=Ct().setTimeout(()=>{o(a)},$ne.get());function c(){Ct().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),eb.apply(this,arguments)}const Kne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class HF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function GF(t,e,n,r,i,s){k(t.config.authDomain,t,"auth-domain-config-required"),k(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Js,eventId:i};if(e instanceof ts){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function NQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof _F){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function rre({config:t}){return t.emulator?uE(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${Xc(a).slice(1)}`}const tb="webStorageSupport",sre=class ire{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=SF,this._completeRedirectFn=VF,this._overrideRedirectResult=Tne}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;Ti(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=GF(e,n,r,il(),i);return function Jne(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Kne),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Mt().toLowerCase();n&&(a=iF(c)?"_blank":n),rF(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Kee(t=Mt()){var e;return cp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function ere(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new HF(null);const d=window.open(e||"",a,l);k(d,t,"popup-blocked");try{d.focus()}catch{}return new HF(d)}(e,a,yp())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function zte(t){Ct().location.href=t}(GF(e,n,r,il(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ti(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function Wne(t){return eb.apply(this,arguments)}(e),i=new kne(e);return r.register("authEvent",s=>(k(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tb,{type:tb},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[tb];void 0!==o&&n(!!o),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Fne(t){return J0.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cF()||IE()||cp()}};var zF="@firebase/auth";class ore{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const lre=aP("authIdTokenMaxAge")||300;let KF=null;const dre=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>lre)return;const s=r?.token;KF!==s&&(KF=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function hre(t=jf()){const e=Zs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Mee(t,e){const n=Zs(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(Vf(n.getOptions(),e??{}))return i;Rn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:sre,persistence:[tne,jte,SF]}),r=aP("authTokenSyncURL");if(r){const s=dre(r);(function Nte(t,e,n){mt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Rte(t,e,n,r){mt(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=sP("auth");return i&&function Jee(t,e,n){const r=Nn(t);k(r._canInitEmulator,r,"emulator-config-failed"),k(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=hF(e),{host:o,port:a}=function ete(t){const e=hF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:fF(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:fF(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function tte(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function ure(t){on(new Ht("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{k(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),k(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lF(t)},l=new Zee(a,u,c);return function kee(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Si);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),on(new Ht("auth-internal",e=>{const n=Nn(e.getProvider("auth").getImmediate());return new ore(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Be(zF,"0.21.0",function are(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Be(zF,"0.21.0","esm2017")}("Browser");class Ep{constructor(e){return e}}class nb{constructor(){return Yf("auth")}}const rb=new j("angularfire2.auth-instances");function pre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ep(r)}}const gre={provide:nb,deps:[[new ht,rb]]},mre={provide:Ep,useFactory:function fre(t,e){const n=Qf("auth",t,e);return n&&new Ep(n)},deps:[[new ht,rb],oo]};let yre=(()=>{class t{constructor(){Be("angularfire",tl.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Cn({type:t}),t.\u0275inj=ln({providers:[mre,gre]}),t})();const vre=zt(hre,!0),wre=zt(Pte,!0),Ire=zt(Ene,!0),Ere=zt(Ote,!0);var B,bre=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ki={},ib=ib||{},ee=bre||self;function bp(){}function Dp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function pl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var sb="closure_uid_"+(1e9*Math.random()>>>0),Cre=0;function Tre(t,e,n){return t.call.apply(t.bind,arguments)}function Sre(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function an(t,e,n){return(an=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tre:Sre).apply(null,arguments)}function Cp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Kt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ns(){this.s=this.s,this.o=this.o}ns.prototype.s=!1,ns.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Dre(t){Object.prototype.hasOwnProperty.call(t,sb)&&t[sb]||(t[sb]=++Cre)}(this)},ns.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const YF=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function ob(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function XF(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Dp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function un(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}un.prototype.h=function(){this.defaultPrevented=!0};var xre=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ee.addEventListener("test",bp,e),ee.removeEventListener("test",bp,e)}catch{}return t}();function Tp(t){return/^[\s\xa0]*$/.test(t)}var ZF=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ab(t,e){return t<e?-1:t>e?1:0}function Sp(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function Gr(t){return-1!=Sp().indexOf(t)}function ub(t){return ub[" "](t),t}ub[" "]=bp;var Ap,t,kre=Gr("Opera"),Qa=Gr("Trident")||Gr("MSIE"),JF=Gr("Edge"),cb=JF||Qa,eL=Gr("Gecko")&&!(-1!=Sp().toLowerCase().indexOf("webkit")&&!Gr("Edge"))&&!(Gr("Trident")||Gr("MSIE"))&&!Gr("Edge"),Rre=-1!=Sp().toLowerCase().indexOf("webkit")&&!Gr("Edge");function tL(){var t=ee.document;return t?t.documentMode:void 0}e:{var lb="",db=(t=Sp(),eL?/rv:([^\);]+)(\)|;)/.exec(t):JF?/Edge\/([\d\.]+)/.exec(t):Qa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Rre?/WebKit\/(\S+)/.exec(t):kre?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(db&&(lb=db?db[1]:""),Qa){var hb=tL();if(null!=hb&&hb>parseFloat(lb)){Ap=String(hb);break e}}Ap=lb}var Nre={};var Ore=ee.document&&Qa&&(tL()||parseInt(Ap,10))||void 0;function gl(t,e){if(un.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(eL){e:{try{ub(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Fre[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&gl.X.h.call(this)}}Kt(gl,un);var Fre={2:"touch",3:"pen",4:"mouse"};gl.prototype.h=function(){gl.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var ml="closure_listenable_"+(1e6*Math.random()|0),Lre=0;function Vre(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++Lre,this.ba=this.ea=!1}function xp(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function pb(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function rL(t){const e={};for(const n in t)e[n]=t[n];return e}const iL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function sL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<iL.length;s++)n=iL[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Mp(t){this.src=t,this.g={},this.h=0}function gb(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=YF(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(xp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function mb(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}Mp.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=mb(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new Vre(e,this.src,s,!!r,i)).ea=n,t.push(e)),e};var yb="closure_lm_"+(1e6*Math.random()|0),_b={};function oL(t,e,n,r,i){if(r&&r.once)return uL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)oL(t,e[s],n,r,i);return null}return n=Eb(n),t&&t[ml]?t.N(e,n,pl(r)?!!r.capture:!!r,i):aL(t,e,n,!1,r,i)}function aL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=pl(i)?!!i.capture:!!i,a=wb(t);if(a||(t[yb]=a=new Mp(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function Ure(){const e=Bre;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)xre||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(lL(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function uL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)uL(t,e[s],n,r,i);return null}return n=Eb(n),t&&t[ml]?t.O(e,n,pl(r)?!!r.capture:!!r,i):aL(t,e,n,!0,r,i)}function cL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)cL(t,e[s],n,r,i);else r=pl(r)?!!r.capture:!!r,n=Eb(n),t&&t[ml]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=mb(s=t.g[e],n,r,i))&&(xp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=wb(t))&&(e=t.g[e.toString()],t=-1,e&&(t=mb(e,n,r,i)),(n=-1<t?e[t]:null)&&vb(n))}function vb(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[ml])gb(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(lL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wb(e))?(gb(n,t),0==n.h&&(n.src=null,e[yb]=null)):xp(t)}}}function lL(t){return t in _b?_b[t]:_b[t]="on"+t}function Bre(t,e){if(t.ba)t=!0;else{e=new gl(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&vb(t),t=n.call(r,e)}return t}function wb(t){return(t=t[yb])instanceof Mp?t:null}var Ib="__closure_events_fn_"+(1e9*Math.random()>>>0);function Eb(t){return"function"==typeof t?t:(t[Ib]||(t[Ib]=function(e){return t.handleEvent(e)}),t[Ib])}function Rt(){ns.call(this),this.i=new Mp(this),this.P=this,this.I=null}function Qt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new un(e,t);else if(e instanceof un)e.target=e.target||t;else{var i=e;sL(e=new un(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=kp(o,r,!0,e)&&i}if(i=kp(o=e.g=t,r,!0,e)&&i,i=kp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=kp(o=e.g=n[s],r,!1,e)&&i}function kp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&gb(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Kt(Rt,ns),Rt.prototype[ml]=!0,Rt.prototype.removeEventListener=function(t,e,n,r){cL(this,t,e,n,r)},Rt.prototype.M=function(){if(Rt.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)xp(n[r]);delete t.g[e],t.h--}}this.I=null},Rt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Rt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var bb=ee.JSON.stringify;function $re(){var t=fL;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Db,dL=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Hre,t=>t.reset());class Hre{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Gre(t){ee.setTimeout(()=>{throw t},0)}function hL(t,e){Db||function qre(){var t=ee.Promise.resolve(void 0);Db=function(){t.then(zre)}}(),Cb||(Db(),Cb=!0),fL.add(t,e)}var Cb=!1,fL=new class jre{constructor(){this.h=this.g=null}add(e,n){const r=dL.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function zre(){for(var t;t=$re();){try{t.h.call(t.g)}catch(n){Gre(n)}var e=dL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Cb=!1}function Rp(t,e){Rt.call(this),this.h=t||1,this.g=e||ee,this.j=an(this.lb,this),this.l=Date.now()}function Tb(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function Sb(t,e,n){if("function"==typeof t)n&&(t=an(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=an(t.handleEvent,t)}return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function pL(t){t.g=Sb(()=>{t.g=null,t.i&&(t.i=!1,pL(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Kt(Rp,Rt),(B=Rp.prototype).ca=!1,B.R=null,B.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Qt(this,"tick"),this.ca&&(Tb(this),this.start()))}},B.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},B.M=function(){Rp.X.M.call(this),Tb(this),delete this.g};class Wre extends ns{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:pL(this)}M(){super.M(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yl(t){ns.call(this),this.h=t,this.g={}}Kt(yl,ns);var gL=[];function mL(t,e,n,r){Array.isArray(n)||(n&&(gL[0]=n.toString()),n=gL);for(var i=0;i<n.length;i++){var s=oL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function yL(t){pb(t.g,function(e,n){this.g.hasOwnProperty(n)&&vb(e)},t),t.g={}}function Np(){this.g=!0}function Ya(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Xre(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return bb(n)}catch{return e}}(t,n)+(r?" "+r:"")})}yl.prototype.M=function(){yl.X.M.call(this),yL(this)},yl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Np.prototype.Aa=function(){this.g=!1},Np.prototype.info=function(){};var lo={},_L=null;function Pp(){return _L=_L||new Rt}function vL(t){un.call(this,lo.Pa,t)}function _l(t){const e=Pp();Qt(e,new vL(e))}function wL(t,e){un.call(this,lo.STAT_EVENT,t),this.stat=e}function vn(t){const e=Pp();Qt(e,new wL(e,t))}function IL(t,e){un.call(this,lo.Qa,t),this.size=e}function vl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}lo.Pa="serverreachability",Kt(vL,un),lo.STAT_EVENT="statevent",Kt(wL,un),lo.Qa="timingevent",Kt(IL,un);var Op={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},EL={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ab(){}function DL(){}Ab.prototype.h=null;var kb,wl={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function xb(){un.call(this,"d")}function Mb(){un.call(this,"c")}function Fp(){}function Il(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new yl(this),this.O=Zre,this.T=new Rp(t=cb?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new CL}function CL(){this.i=null,this.g="",this.h=!1}Kt(xb,un),Kt(Mb,un),Kt(Fp,Ab),Fp.prototype.g=function(){return new XMLHttpRequest},Fp.prototype.i=function(){return{}},kb=new Fp;var Zre=45e3,Rb={},Lp={};function Nb(t,e,n){t.K=1,t.v=$p(Ri(e)),t.s=n,t.P=!0,TL(t,null)}function TL(t,e){t.F=Date.now(),El(t),t.A=Ri(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),FL(n.i,"t",r),t.C=0,n=t.l.H,t.h=new CL,t.g=oV(t.l,n?e:null,!t.s),0<t.N&&(t.L=new Wre(an(t.La,t,t.g),t.N)),mL(t.S,t.g,"readystatechange",t.ib),e=t.H?rL(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),_l(),function Kre(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.U,t.s)}function SL(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function AL(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=Jre(t,n),i==Lp){4==e&&(t.o=4,vn(14),r=!1),Ya(t.j,t.m,null,"[Incomplete Response]");break}if(i==Rb){t.o=4,vn(15),Ya(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ya(t.j,t.m,i,null),Pb(t,i)}SL(t)&&i!=Lp&&i!=Rb&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,vn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),jb(e),e.K=!0,vn(11))):(Ya(t.j,t.m,n,"[Invalid Chunked Response]"),ho(t),bl(t))}function Jre(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Lp:(n=Number(e.substring(n,r)),isNaN(n)?Rb:(r+=1)+n>e.length?Lp:(e=e.substr(r,n),t.C=r+n,e))}function El(t){t.V=Date.now()+t.O,xL(t,t.O)}function xL(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=vl(an(t.gb,t),e)}function Vp(t){t.B&&(ee.clearTimeout(t.B),t.B=null)}function bl(t){0==t.l.G||t.I||nV(t.l,t)}function ho(t){Vp(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Tb(t.T),yL(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Pb(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Ob(n.h,t)))if(!t.J&&Ob(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;Wp(n),qp(n)}$b(n),vn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=vl(an(n.cb,n),6e3));if(1>=UL(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else po(n,11)}else if((t.J||n.g==t)&&Wp(n),!Tp(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const l=c[3];null!=l&&(n.ma=l,n.j.info("VER="+n.ma));const d=c[4];null!=d&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.J=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Fb(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,qe(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((r=n).sa=sV(r,r.H?r.ka:null,r.V),o.J){BL(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&(Vp(a),El(a)),r.g=o}else eV(r);0<n.i.length&&zp(n)}else"stop"!=c[0]&&"close"!=c[0]||po(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?po(n,7):Bb(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}_l()}catch{}}function ML(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Dp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function tie(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Dp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function eie(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Dp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(B=Il.prototype).setTimeout=function(t){this.O=t},B.ib=function(t){t=t.target;const e=this.L;e&&3==Ni(t)?e.l():this.La(t)},B.La=function(t){try{if(t==this.g)e:{const l=Ni(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||cb||this.g&&(this.h.h||this.g.fa()||KL(this.g)))){this.I||4!=l||7==e||_l(),Vp(this);var n=this.g.aa();this.Y=n;t:if(SL(this)){var r=KL(this.g);t="";var i=r.length,s=4==Ni(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ho(this),bl(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function Qre(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Tp(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,vn(12),ho(this),bl(this);break e}Ya(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pb(this,n)}this.P?(AL(this,l,o),cb&&this.i&&3==l&&(mL(this.S,this.T,"tick",this.hb),this.T.start())):(Ya(this.j,this.m,o,null),Pb(this,o)),4==l&&ho(this),this.i&&!this.I&&(4==l?nV(this.l,this):(this.i=!1,El(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,vn(12)):(this.o=0,vn(13)),ho(this),bl(this)}}}catch{}},B.hb=function(){if(this.g){var t=Ni(this.g),e=this.g.fa();this.C<e.length&&(Vp(this),AL(this,t,e),this.i&&4!=t&&El(this))}},B.cancel=function(){this.I=!0,ho(this)},B.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function Yre(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(_l(),vn(17)),ho(this),this.o=2,bl(this)):xL(this,this.V-t)};var kL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fo(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fo){this.h=void 0!==e?e:t.h,Up(this,t.j),this.s=t.s,this.g=t.g,Bp(this,t.m),this.l=t.l,e=t.i;var n=new Tl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),RL(this,n),this.o=t.o}else t&&(n=String(t).match(kL))?(this.h=!!e,Up(this,n[1]||"",!0),this.s=Dl(n[2]||""),this.g=Dl(n[3]||"",!0),Bp(this,n[4]),this.l=Dl(n[5]||"",!0),RL(this,n[6]||"",!0),this.o=Dl(n[7]||"")):(this.h=!!e,this.i=new Tl(null,this.h))}function Ri(t){return new fo(t)}function Up(t,e,n){t.j=n?Dl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Bp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function RL(t,e,n){e instanceof Tl?(t.i=e,function uie(t,e){e&&!t.j&&(rs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(PL(this,r),FL(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Cl(e,oie)),t.i=new Tl(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function $p(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Dl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,rie),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rie(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}fo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Cl(e,NL,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Cl(e,NL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Cl(n,"/"==n.charAt(0)?sie:iie,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Cl(n,aie)),t.join("")};var NL=/[#\/\?@]/g,iie=/[#\?:]/g,sie=/[#\?]/g,oie=/[#\?@]/g,aie=/#/g;function Tl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function rs(t){t.g||(t.g=new Map,t.h=0,t.i&&function nie(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function PL(t,e){rs(t),e=Xa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function OL(t,e){return rs(t),e=Xa(t,e),t.g.has(e)}function FL(t,e,n){PL(t,e),0<n.length&&(t.i=null,t.g.set(Xa(t,e),ob(n)),t.h+=n.length)}function Xa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function LL(t){this.l=t||lie,t=ee.PerformanceNavigationTiming?0<(t=ee.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ee.g&&ee.g.Ga&&ee.g.Ga()&&ee.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(B=Tl.prototype).add=function(t,e){rs(this),this.i=null,t=Xa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},B.forEach=function(t,e){rs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},B.oa=function(){rs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},B.W=function(t){rs(this);let e=[];if("string"==typeof t)OL(this,t)&&(e=e.concat(this.g.get(Xa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},B.set=function(t,e){return rs(this),this.i=null,OL(this,t=Xa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},B.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},B.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var lie=10;function VL(t){return!!t.h||!!t.g&&t.g.size>=t.j}function UL(t){return t.h?1:t.g?t.g.size:0}function Ob(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Fb(t,e){t.g?t.g.add(e):t.h=e}function BL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function $L(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return ob(t.i)}function Lb(){}function die(){this.g=new Lb}function hie(t,e,n){const r=n||"";try{ML(t,function(i,s){let o=i;pl(i)&&(o=bb(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function jp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Sl(t){this.l=t.ac||null,this.j=t.jb||!1}function Hp(t,e){Rt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Vb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}LL.prototype.cancel=function(){if(this.i=$L(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},Lb.prototype.stringify=function(t){return ee.JSON.stringify(t,void 0)},Lb.prototype.parse=function(t){return ee.JSON.parse(t,void 0)},Kt(Sl,Ab),Sl.prototype.g=function(){return new Hp(this.l,this.j)},Sl.prototype.i=function(t){return function(){return t}}({}),Kt(Hp,Rt);var Vb=0;function jL(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function Al(t){t.readyState=4,t.l=null,t.j=null,t.A=null,xl(t)}function xl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(B=Hp.prototype).open=function(t,e){if(this.readyState!=Vb)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,xl(this)},B.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ee).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},B.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Al(this)),this.readyState=Vb},B.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,xl(this)),this.g&&(this.readyState=3,xl(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jL(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},B.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Al(this):xl(this),3==this.readyState&&jL(this)}},B.Va=function(t){this.g&&(this.response=this.responseText=t,Al(this))},B.Ua=function(t){this.g&&(this.response=t,Al(this))},B.ga=function(){this.g&&Al(this)},B.setRequestHeader=function(t,e){this.v.append(t,e)},B.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},B.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Hp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var pie=ee.JSON.parse;function nt(t){Rt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=HL,this.K=this.L=!1}Kt(nt,Rt);var HL="",gie=/^https?$/i,mie=["POST","PUT"];function GL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,qL(t),Gp(t)}function qL(t){t.D||(t.D=!0,Qt(t,"complete"),Qt(t,"error"))}function zL(t){if(t.h&&typeof ib<"u"&&(!t.C[1]||4!=Ni(t)||2!=t.aa()))if(t.v&&4==Ni(t))Sb(t.Ha,0,t);else if(Qt(t,"readystatechange"),4==Ni(t)){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(kL)[1]||null;if(!i&&ee.self&&ee.self.location){var s=ee.self.location.protocol;i=s.substr(0,s.length-1)}r=!gie.test(i?i.toLowerCase():"")}n=r}if(n)Qt(t,"complete"),Qt(t,"success");else{t.m=6;try{var o=2<Ni(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",qL(t)}}finally{Gp(t)}}}function Gp(t,e){if(t.g){WL(t);const n=t.g,r=t.C[0]?bp:null;t.g=null,t.C=null,e||Qt(t,"ready");try{n.onreadystatechange=r}catch{}}}function WL(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}function Ni(t){return t.g?t.g.readyState:0}function KL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case HL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function QL(t){let e="";return pb(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function Ub(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=QL(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):qe(t,e,n))}function Ml(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function YL(t){this.Ca=0,this.i=[],this.j=new Np,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Ml("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Ml("baseRetryDelayMs",5e3,t),this.bb=Ml("retryDelaySeedMs",1e4,t),this.$a=Ml("forwardChannelMaxRetries",2,t),this.ta=Ml("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new LL(t&&t.concurrentRequestLimit),this.Fa=new die,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Bb(t){if(XL(t),3==t.G){var e=t.U++,n=Ri(t.F);qe(n,"SID",t.I),qe(n,"RID",e),qe(n,"TYPE","terminate"),kl(t,n),(e=new Il(t,t.j,e,void 0)).K=2,e.v=$p(Ri(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon&&(n=ee.navigator.sendBeacon(e.v.toString(),"")),!n&&ee.Image&&((new Image).src=e.v,n=!0),n||(e.g=oV(e.l,null),e.g.da(e.v)),e.F=Date.now(),El(e)}iV(t)}function qp(t){t.g&&(jb(t),t.g.cancel(),t.g=null)}function XL(t){qp(t),t.u&&(ee.clearTimeout(t.u),t.u=null),Wp(t),t.h.cancel(),t.m&&("number"==typeof t.m&&ee.clearTimeout(t.m),t.m=null)}function zp(t){VL(t.h)||t.m||(t.m=!0,hL(t.Ja,t),t.C=0)}function ZL(t,e){var n;n=e?e.m:t.U++;const r=Ri(t.F);qe(r,"SID",t.I),qe(r,"RID",n),qe(r,"AID",t.T),kl(t,r),t.o&&t.s&&Ub(r,t.o,t.s),n=new Il(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=JL(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Fb(t.h,n),Nb(n,r,e)}function kl(t,e){t.ia&&pb(t.ia,function(n,r){qe(e,r,n)}),t.l&&ML({},function(n,r){qe(e,r,n)})}function JL(t,e,n){n=Math.min(t.i.length,n);var r=t.l?an(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{hie(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function eV(t){t.g||t.u||(t.Z=1,hL(t.Ia,t),t.A=0)}function $b(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=vl(an(t.Ia,t),rV(t,t.A)),t.A++,0))}function jb(t){null!=t.B&&(ee.clearTimeout(t.B),t.B=null)}function tV(t){t.g=new Il(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=Ri(t.sa);qe(e,"RID","rpc"),qe(e,"SID",t.I),qe(e,"CI",t.L?"0":"1"),qe(e,"AID",t.T),qe(e,"TYPE","xmlhttp"),kl(t,e),t.o&&t.s&&Ub(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=$p(Ri(e)),n.s=null,n.P=!0,TL(n,t)}function Wp(t){null!=t.v&&(ee.clearTimeout(t.v),t.v=null)}function nV(t,e){var n=null;if(t.g==e){Wp(t),jb(t),t.g=null;var r=2}else{if(!Ob(t.h,e))return;n=e.D,BL(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Qt(r=Pp(),new IL(r,n)),zp(t)}else eV(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function _ie(t,e){return!(UL(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=vl(an(t.Ja,t,e),rV(t,t.C)),t.C++,0)))}(t,e)||2==r&&$b(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:po(t,5);break;case 4:po(t,10);break;case 3:po(t,6);break;default:po(t,2)}}function rV(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function po(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=an(t.kb,t);n||(n=new fo("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||Up(n,"https"),$p(n)),function fie(t,e){const n=new Np;if(ee.Image){const r=new Image;r.onload=Cp(jp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Cp(jp,n,r,"TestLoadImage: error",!1,e),r.onabort=Cp(jp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Cp(jp,n,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else vn(2);t.G=0,t.l&&t.l.va(e),iV(t),XL(t)}function iV(t){if(t.G=0,t.la=[],t.l){const e=$L(t.h);(0!=e.length||0!=t.i.length)&&(XF(t.la,e),XF(t.la,t.i),t.h.i.length=0,ob(t.i),t.i.length=0),t.l.ua()}}function sV(t,e,n){var r=n instanceof fo?Ri(n):new fo(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Bp(r,r.m);else{var i=ee.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new fo(null,void 0);r&&Up(s,r),e&&(s.g=e),i&&Bp(s,i),n&&(s.l=n),r=s}return e=t.za,(n=t.D)&&e&&qe(r,n,e),qe(r,"VER",t.ma),kl(t,r),r}function oV(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new nt(n&&t.Da&&!t.ra?new Sl({jb:!0}):t.ra)).Ka(t.H),e}function aV(){}function Kp(){if(Qa&&!(10<=Number(Ore)))throw Error("Environmental error: no available transport.")}function Yn(t,e){Rt.call(this),this.g=new YL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Tp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Tp(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Za(this)}function uV(t){xb.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function cV(){Mb.call(this),this.status=1}function Za(t){this.g=t}(B=nt.prototype).Ka=function(t){this.L=t},B.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():kb.g(),this.C=function bL(t){return t.h||(t.h=t.i())}(this.u?this.u:kb),this.g.onreadystatechange=an(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void GL(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ee.FormData&&t instanceof ee.FormData,!(0<=YF(mie,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{WL(this),0<this.B&&((this.K=function yie(t){return Qa&&function Pre(){return function Mre(t){var e=Nre;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=ZF(String(Ap)).split("."),n=ZF("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=ab(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||ab(0==i[2].length,0==s[2].length)||ab(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=an(this.qa,this)):this.A=Sb(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){GL(this,s)}},B.qa=function(){typeof ib<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qt(this,"timeout"),this.abort(8))},B.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qt(this,"complete"),Qt(this,"abort"),Gp(this))},B.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gp(this,!0)),nt.X.M.call(this)},B.Ha=function(){this.s||(this.F||this.v||this.l?zL(this):this.fb())},B.fb=function(){zL(this)},B.aa=function(){try{return 2<Ni(this)?this.g.status:-1}catch{return-1}},B.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},B.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),pie(e)}},B.Ea=function(){return this.m},B.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(B=YL.prototype).ma=8,B.G=1,B.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Il(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=rL(s),sL(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=JL(this,i,e),qe(n=Ri(this.F),"RID",t),qe(n,"CVER",22),this.D&&qe(n,"X-HTTP-Session-Id",this.D),kl(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(QL(s)))+"&"+e:this.o&&Ub(n,this.o,s)),Fb(this.h,i),this.Ya&&qe(n,"TYPE","init"),this.O?(qe(n,"$req",e),qe(n,"SID","null"),i.Z=!0,Nb(i,n,null)):Nb(i,n,e),this.G=2}}else 3==this.G&&(t?ZL(this,t):0==this.i.length||VL(this.h)||ZL(this))},B.Ia=function(){if(this.u=null,tV(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=vl(an(this.eb,this),t)}},B.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,vn(10),qp(this),tV(this))},B.cb=function(){null!=this.v&&(this.v=null,qp(this),$b(this),vn(19))},B.kb=function(t){t?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))},(B=aV.prototype).xa=function(){},B.wa=function(){},B.va=function(){},B.ua=function(){},B.Ra=function(){},Kp.prototype.g=function(t,e){return new Yn(t,e)},Kt(Yn,Rt),Yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;vn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=sV(t,null,t.V),zp(t)},Yn.prototype.close=function(){Bb(this.g)},Yn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=bb(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&zp(e)},Yn.prototype.M=function(){this.g.l=null,delete this.j,Bb(this.g),delete this.g,Yn.X.M.call(this)},Kt(uV,xb),Kt(cV,Mb),Kt(Za,aV),Za.prototype.xa=function(){Qt(this.g,"a")},Za.prototype.wa=function(t){Qt(this.g,new uV(t))},Za.prototype.va=function(t){Qt(this.g,new cV)},Za.prototype.ua=function(){Qt(this.g,"b")},Kp.prototype.createWebChannel=Kp.prototype.g,Yn.prototype.send=Yn.prototype.u,Yn.prototype.open=Yn.prototype.m,Yn.prototype.close=Yn.prototype.close,Op.NO_ERROR=0,Op.TIMEOUT=8,Op.HTTP_ERROR=6,EL.COMPLETE="complete",DL.EventType=wl,wl.OPEN="a",wl.CLOSE="b",wl.ERROR="c",wl.MESSAGE="d",Rt.prototype.listen=Rt.prototype.N,nt.prototype.listenOnce=nt.prototype.O,nt.prototype.getLastError=nt.prototype.Oa,nt.prototype.getLastErrorCode=nt.prototype.Ea,nt.prototype.getStatus=nt.prototype.aa,nt.prototype.getResponseJson=nt.prototype.Sa,nt.prototype.getResponseText=nt.prototype.fa,nt.prototype.send=nt.prototype.da,nt.prototype.setWithCredentials=nt.prototype.Ka;var vie=ki.createWebChannelTransport=function(){return new Kp},wie=ki.getStatEventTarget=function(){return Pp()},Hb=ki.ErrorCode=Op,Iie=ki.EventType=EL,Eie=ki.Event=lo,lV=ki.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},bie=ki.FetchXmlHttpFactory=Sl,Qp=ki.WebChannel=DL,Die=ki.XhrIo=nt;const dV="@firebase/firestore";class Nt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Nt.UNAUTHENTICATED=new Nt(null),Nt.GOOGLE_CREDENTIALS=new Nt("google-credentials-uid"),Nt.FIRST_PARTY=new Nt("first-party-uid"),Nt.MOCK_USER=new Nt("mock-user");let Ja="9.15.0";const is=new Ba("@firebase/firestore");function Gb(){return is.logLevel}function S(t,...e){if(is.logLevel<=ve.DEBUG){const n=e.map(qb);is.debug(`Firestore (${Ja}): ${t}`,...n)}}function at(t,...e){if(is.logLevel<=ve.ERROR){const n=e.map(qb);is.error(`Firestore (${Ja}): ${t}`,...n)}}function eu(t,...e){if(is.logLevel<=ve.WARN){const n=e.map(qb);is.warn(`Firestore (${Ja}): ${t}`,...n)}}function qb(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function F(t="Unexpected state"){const e=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: `+t;throw at(e),new Error(e)}function U(t,e){t||F()}function N(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class T extends Wn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Tt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class hV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Cie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Nt.UNAUTHENTICATED))}shutdown(){}}class Tie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Sie{constructor(e){this.t=e,this.currentUser=Nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Tt;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Tt,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{S("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(S("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Tt)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(S("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(U("string"==typeof r.accessToken),new hV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return U(null===e||"string"==typeof e),new Nt(e)}}class Aie{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Nt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(U(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class xie{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new Aie(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Mie{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{null!=s.error&&S("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,S("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{S("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):S("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(U("string"==typeof n.token),this.A=n.token,new fV(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function kie(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class pV{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=kie(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function te(t,e){return t<e?-1:t>e?1:0}function tu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Xe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new T(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new T(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new T(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new T(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Xe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new Xe(0,0))}static max(){return new q(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Rl{constructor(e,n,r){void 0===n?n=0:n>e.length&&F(),void 0===r?r=e.length-n:r>e.length-n&&F(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Rl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class we extends Rl{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new T(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const Rie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ut extends Rl{construct(e,n,r){return new ut(e,n,r)}static isValidIdentifier(e){return Rie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ut(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new T(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new T(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new T(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new T(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ut(n)}static emptyPath(){return new ut([])}}class R{constructor(e){this.path=e}static fromPath(e){return new R(we.fromString(e))}static fromName(e){return new R(we.fromString(e).popFirst(5))}static empty(){return new R(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===we.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new R(new we(e.slice()))}}function yV(t){return new Xn(t.readTime,t.key,-1)}class Xn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xn(q.min(),R.empty(),-1)}static max(){return new Xn(q.max(),R.empty(),-1)}}function Wb(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=R.comparator(t.documentKey,e.documentKey),0!==n?n:te(t.largestBatchId,e.largestBatchId))}const _V="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Oie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ss(t){return Kb.apply(this,arguments)}function Kb(){return Kb=g(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==_V)throw t;S("LocalStore","Unexpectedly lost primary lease")}),Kb.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function os(t){return"IndexedDbTransactionError"===t.name}let Zn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}return t.at=-1,t})();class Bie{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class yo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yo&&e.projectId===this.projectId&&e.database===this.database}}function wV(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function IV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ol(t){return null==t}function Fl(t){return 0===t&&1/t==-1/0}class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new St(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const $ie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(t){if(U(!!t),"string"==typeof t){let e=0;const n=$ie.exec(t);if(U(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rt(t.seconds),nanos:rt(t.nanos)}}function rt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function vo(t){return"string"==typeof t?St.fromBase64String(t):St.fromUint8Array(t)}function Yb(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function bV(t){const e=t.mapValue.fields.__previous_value__;return Yb(e)?bV(e):e}function Ll(t){const e=as(t.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}const us_mapValue={fields:{__type__:{stringValue:"__max__"}}};function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yb(t)?4:SV(t)?9007199254740991:10:F()}function qr(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ll(t).isEqual(Ll(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=as(r.timestampValue),o=as(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,vo(t.bytesValue).isEqual(vo(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return rt(r.geoPointValue.latitude)===rt(i.geoPointValue.latitude)&&rt(r.geoPointValue.longitude)===rt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return rt(r.integerValue)===rt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=rt(r.doubleValue),o=rt(i.doubleValue);return s===o?Fl(s)===Fl(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return tu(t.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(wV(s)!==wV(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!qr(s[a],o[a])))return!1;return!0}(t,e);default:return F()}var i}function Vl(t,e){return void 0!==(t.values||[]).find(n=>qr(n,e))}function cs(t,e){if(t===e)return 0;const n=wo(t),r=wo(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=rt(i.integerValue||i.doubleValue),a=rt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return DV(t.timestampValue,e.timestampValue);case 4:return DV(Ll(t),Ll(e));case 5:return te(t.stringValue,e.stringValue);case 6:return function(i,s){const o=vo(i),a=vo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=te(o[u],a[u]);if(0!==c)return c}return te(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=te(rt(i.latitude),rt(s.latitude));return 0!==o?o:te(rt(i.longitude),rt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=cs(o[u],a[u]);if(c)return c}return te(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===us_mapValue&&s===us_mapValue)return 0;if(i===us_mapValue)return 1;if(s===us_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=te(a[l],c[l]);if(0!==d)return d;const h=cs(o[a[l]],u[c[l]]);if(0!==h)return h}return te(a.length,c.length)}(t.mapValue,e.mapValue);default:throw F()}}function DV(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return te(t,e);const n=as(t),r=as(e),i=te(n.seconds,r.seconds);return 0!==i?i:te(n.nanos,r.nanos)}function nu(t){return Xb(t)}function Xb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=as(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?vo(t.bytesValue).toBase64():"referenceValue"in t?R.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=Xb(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${Xb(r.fields[a])}`;return s+"}"}(t.mapValue):F();var e}function Io(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zb(t){return!!t&&"integerValue"in t}function Ul(t){return!!t&&"arrayValue"in t}function CV(t){return!!t&&"nullValue"in t}function TV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function eg(t){return!!t&&"mapValue"in t}function Bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function SV(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class ls{constructor(e,n){this.position=e,this.inclusive=n}}function MV(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?R.comparator(R.fromName(o.referenceValue),n.key):cs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function kV(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qr(t.position[n],e.position[n]))return!1;return!0}class RV{}class fe extends RV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Gie(e,n,r):"array-contains"===n?new Wie(e,r):"in"===n?new BV(e,r):"not-in"===n?new Kie(e,r):"array-contains-any"===n?new Qie(e,r):new fe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new qie(e,r):new zie(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(cs(n,this.value)):null!==n&&wo(this.value)===wo(n)&&this.matchesComparison(cs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xe extends RV{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new xe(e,n)}matches(e){return ru(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return null!==e?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ru(t){return"and"===t.op}function NV(t){return function PV(t){for(const e of t.filters)if(e instanceof xe)return!1;return!0}(t)&&ru(t)}function OV(t){if(t instanceof fe)return t.field.canonicalString()+t.op.toString()+nu(t.value);{const e=t.filters.map(n=>OV(n)).join(",");return`${t.op}(${e})`}}function FV(t,e){return t instanceof fe?(n=t,(r=e)instanceof fe&&n.op===r.op&&n.field.isEqual(r.field)&&qr(n.value,r.value)):t instanceof xe?function(n,r){return r instanceof xe&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&FV(s,r.filters[o]),!0)}(t,e):void F();var n,r}function VV(t){return t instanceof fe?`${(e=t).field.canonicalString()} ${e.op} ${nu(e.value)}`:t instanceof xe?function(e){return e.op.toString()+" {"+e.getFilters().map(VV).join(" ,")+"}"}(t):"Filter";var e}class Gie extends fe{constructor(e,n,r){super(e,n,r),this.key=R.fromName(r.referenceValue)}matches(e){const n=R.comparator(e.key,this.key);return this.matchesComparison(n)}}class qie extends fe{constructor(e,n){super(e,"in",n),this.keys=UV(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zie extends fe{constructor(e,n){super(e,"not-in",n),this.keys=UV(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function UV(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>R.fromName(r.referenceValue))}class Wie extends fe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ul(n)&&Vl(n.arrayValue,this.value)}}class BV extends fe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Vl(this.value.arrayValue,n)}}class Kie extends fe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Vl(this.value.arrayValue,n)}}class Qie extends fe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ul(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vl(this.value.arrayValue,r))}}class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Yie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class it{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tg(this.root,e,this.comparator,!1)}getReverseIterator(){return new tg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tg(this.root,e,this.comparator,!0)}}class tg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=s??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Yt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1,Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Yt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $V(this.data.getIterator())}getIteratorFrom(e){return new $V(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Me)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Me(this.comparator);return n.data=e,n}}class $V{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jn{constructor(e){this.fields=e,e.sort(ut.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new Me(ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Xt{constructor(e){this.value=e}static empty(){return new Xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!eg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=ut.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Bl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());eg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];eg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_o(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Xt(Bl(this.value))}}function jV(t){const e=[];return _o(t.fields,(n,r)=>{const i=new ut([n]);if(eg(r)){const s=jV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Jn(e)}class $e{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $e(e,0,q.min(),q.min(),q.min(),Xt.empty(),0)}static newFoundDocument(e,n,r,i){return new $e(e,1,n,q.min(),r,i,0)}static newNoDocument(e,n){return new $e(e,2,n,q.min(),q.min(),Xt.empty(),0)}static newUnknownDocument(e,n){return new $e(e,3,n,q.min(),q.min(),Xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Xie{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function eD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Xie(t,e,n,r,i,s,o)}function Eo(t){const e=N(t);if(null===e.ft){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>OV(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Ol(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nu(r)).join(",")),e.ft=n}return e.ft}function $l(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Yie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!FV(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kV(t.startAt,e.startAt)&&kV(t.endAt,e.endAt)}function ng(t){return R.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Pi{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.dt=null,this._t=null}}function ou(t){return new Pi(t)}function zV(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function tD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ig(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function nD(t){return null!==t.collectionGroup}function bo(t){const e=N(t);if(null===e.dt){e.dt=[];const n=ig(e),r=tD(e);if(null!==n&&null===r)n.isKeyField()||e.dt.push(new iu(n)),e.dt.push(new iu(ut.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new iu(ut.keyField(),s))}}}return e.dt}function wn(t){const e=N(t);if(!e._t)if("F"===e.limitType)e._t=eD(e.path,e.collectionGroup,bo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of bo(e))n.push(new iu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ls(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ls(e.startAt.position,e.startAt.inclusive):null;e._t=eD(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function rD(t,e){e.getFirstInequalityField(),ig(t);const n=t.filters.concat([e]);return new Pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function sg(t,e,n){return new Pi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jl(t,e){return $l(wn(t),wn(e))&&t.limitType===e.limitType}function WV(t){return`${Eo(wn(t))}|lt:${t.limitType}`}function iD(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>VV(r)).join(", ")}]`),Ol(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nu(r)).join(",")),`Target(${n})`}(wn(t))}; limitType=${t.limitType})`}function sD(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):R.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of bo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=MV(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,bo(n),r)||n.endAt&&!function(i,s,o){const a=MV(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,bo(n),r)));var n,r}function QV(t){return(e,n)=>{let r=!1;for(const i of bo(t)){const s=Zie(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Zie(t,e,n){const r=t.field.isKeyField()?R.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?cs(a,u):F()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}function YV(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fl(e)?"-0":e}}function XV(t){return{integerValue:""+t}}function ZV(t,e){return function EV(t){return"number"==typeof t&&Number.isInteger(t)&&!Fl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?XV(e):YV(t,e)}class og{constructor(){this._=void 0}}function Jie(t,e,n){return t instanceof au?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Do?e2(t,e):t instanceof Co?t2(t,e):function(r,i){const s=JV(r,i),o=n2(s)+n2(r.gt);return Zb(s)&&Zb(r.gt)?XV(o):YV(r.yt,o)}(t,e)}function ese(t,e,n){return t instanceof Do?e2(t,e):t instanceof Co?t2(t,e):n}function JV(t,e){return t instanceof uu?Zb(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class au extends og{}class Do extends og{constructor(e){super(),this.elements=e}}function e2(t,e){const n=r2(e);for(const r of t.elements)n.some(i=>qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Co extends og{constructor(e){super(),this.elements=e}}function t2(t,e){let n=r2(e);for(const r of t.elements)n=n.filter(i=>!qr(i,r));return{arrayValue:{values:n}}}class uu extends og{constructor(e,n){super(),this.yt=e,this.gt=n}}function n2(t){return rt(t.integerValue||t.doubleValue)}function r2(t){return Ul(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class nse{constructor(e,n){this.version=e,this.transformResults=n}}class ze{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ze}static exists(e){return new ze(void 0,e)}static updateTime(e){return new ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ag(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class ug{}function i2(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new lu(t.key,ze.none()):new cu(t.key,t.data,ze.none());{const n=t.data,r=Xt.empty();let i=new Me(ut.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Oi(t.key,r,new Jn(i.toArray()),ze.none())}}function rse(t,e,n){t instanceof cu?function(r,i,s){const o=r.value.clone(),a=a2(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Oi?function(r,i,s){if(!ag(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=a2(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(o2(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Gl(t,e,n,r){return t instanceof cu?function(i,s,o,a){if(!ag(i.precondition,s))return o;const u=i.value.clone(),c=u2(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oi?function(i,s,o,a){if(!ag(i.precondition,s))return o;const u=u2(i.fieldTransforms,a,s),c=s.data;return c.setAll(o2(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,ag(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function ise(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=JV(r.transform,i||null);null!=s&&(null===n&&(n=Xt.empty()),n.set(r.field,s))}return n||null}function s2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&tu(n,r,(i,s)=>function tse(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Do&&r instanceof Do||n instanceof Co&&r instanceof Co?tu(n.elements,r.elements,qr):n instanceof uu&&r instanceof uu?qr(n.gt,r.gt):n instanceof au&&r instanceof au);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class cu extends ug{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oi extends ug{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function o2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function a2(t,e,n){const r=new Map;U(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ese(o,a,n[i]))}return r}function u2(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Jie(s,o,e))}return r}class lu extends ug{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oD extends ug{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class sse{constructor(e){this.count=e}}var yt,Ie;function c2(t){switch(t){default:return F();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function l2(t){if(void 0===t)return at("GRPC error has no .code"),w.UNKNOWN;switch(t){case yt.OK:return w.OK;case yt.CANCELLED:return w.CANCELLED;case yt.UNKNOWN:return w.UNKNOWN;case yt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case yt.INTERNAL:return w.INTERNAL;case yt.UNAVAILABLE:return w.UNAVAILABLE;case yt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case yt.NOT_FOUND:return w.NOT_FOUND;case yt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case yt.ABORTED:return w.ABORTED;case yt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case yt.DATA_LOSS:return w.DATA_LOSS;default:return F()}}(Ie=yt||(yt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";class ds{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return IV(this.inner)}size(){return this.innerSize}}const ose=new it(R.comparator);function Pn(){return ose}const d2=new it(R.comparator);function ql(...t){let e=d2;for(const n of t)e=e.insert(n.key,n);return e}function h2(t){let e=d2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zr(){return zl()}function f2(){return zl()}function zl(){return new ds(t=>t.toString(),(t,e)=>t.isEqual(e))}const ase=new it(R.comparator),use=new Me(R.comparator);function se(...t){let e=use;for(const n of t)e=e.add(n);return e}const cse=new Me(te);function cg(){return cse}class Wl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Kl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wl(q.min(),i,cg(),Pn(),se())}}class Kl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kl(r,n,se(),se(),se())}}class lg{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class p2{constructor(e,n){this.targetId=e,this.Et=n}}class g2{constructor(e,n,r=St.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class m2{constructor(){this.At=0,this.Rt=_2(),this.bt=St.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=se(),n=se(),r=se();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:F()}}),new Kl(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=_2()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class lse{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Pn(),this.qt=y2(),this.Ut=new Me(te)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:F()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(ng(s))if(0===r){const o=new R(s.path);this.Qt(n,o,$e.newNoDocument(o,q.min()))}else U(1===r);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&ng(a.target)){const u=new R(a.target.path);null!==this.Lt.get(u)||this.te(o,u)||this.Qt(o,u,$e.newNoDocument(u,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=se();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Yt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Wl(e,n,this.Ut,this.Lt,r);return this.Lt=Pn(),this.qt=y2(),this.Ut=new Me(te),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new m2,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new Me(te),this.qt=this.qt.insert(e,n)),n}zt(e){const n=null!==this.Yt(e);return n||S("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new m2),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function y2(){return new it(R.comparator)}function _2(){return new it(R.comparator)}const dse={asc:"ASCENDING",desc:"DESCENDING"},hse={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fse={and:"AND",or:"OR"};class pse{constructor(e,n){this.databaseId=e,this.wt=n}}function du(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function v2(t,e){return t.wt?e.toBase64():e.toUint8Array()}function gse(t,e){return du(t,e.toTimestamp())}function ct(t){return U(!!t),q.fromTimestamp(function(e){const n=as(e);return new Xe(n.seconds,n.nanos)}(t))}function aD(t,e){return(n=t,new we(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function w2(t){const e=we.fromString(t);return U(x2(e)),e}function Ql(t,e){return aD(t.databaseId,e.path)}function Wr(t,e){const n=w2(e);if(n.get(1)!==t.databaseId.projectId)throw new T(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new T(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R(E2(n))}function uD(t,e){return aD(t.databaseId,e)}function Yl(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function E2(t){return U(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function b2(t,e,n){return{name:Ql(t,e),fields:n.value.mapValue.fields}}function C2(t,e){return{documents:[uD(t,e.path)]}}function lD(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=uD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=uD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return A2(xe.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:hu((l=c).field),direction:wse(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.wt||Ol(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function T2(t){let e=function I2(t){const e=w2(t);return 4===e.length?we.emptyPath():E2(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){U(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=S2(l);return d instanceof xe&&NV(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new iu(fu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Ol(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new ls((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new ls(l.values||[],!l.before)}(n.endAt)),function qV(t,e,n,r,i,s,o,a){return new Pi(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function S2(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=fu(e.unaryFilter.field);return fe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=fu(e.unaryFilter.field);return fe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fu(e.unaryFilter.field);return fe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fu(e.unaryFilter.field);return fe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(t):void 0!==t.fieldFilter?fe.create(fu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return xe.create(e.compositeFilter.filters.map(n=>S2(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(t):F();var e}function wse(t){return dse[t]}function Ise(t){return hse[t]}function Ese(t){return fse[t]}function hu(t){return{fieldPath:t.canonicalString()}}function fu(t){return ut.fromServerFormat(t.fieldPath)}function A2(t){return t instanceof fe?function(e){if("=="===e.op){if(TV(e.value))return{unaryFilter:{field:hu(e.field),op:"IS_NAN"}};if(CV(e.value))return{unaryFilter:{field:hu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(TV(e.value))return{unaryFilter:{field:hu(e.field),op:"IS_NOT_NAN"}};if(CV(e.value))return{unaryFilter:{field:hu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hu(e.field),op:Ise(e.op),value:e.value}}}(t):t instanceof xe?function(e){const n=e.getFilters().map(r=>A2(r));return 1===n.length?n[0]:{compositeFilter:{op:Ese(e.op),filters:n}}}(t):F()}function bse(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function x2(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class hD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rse(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Gl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=f2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=i2(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&tu(this.mutations,e.mutations,(n,r)=>s2(n,r))&&tu(this.baseMutations,e.baseMutations,(n,r)=>s2(n,r))}}class fD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){U(e.mutations.length===r.length);let i=ase;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new fD(e,n,r,i)}}class pD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hs{constructor(e,n,r,i,s=q.min(),o=q.min(),a=St.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class F2{constructor(e){this.ie=e}}function gD(t){const e=T2({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?sg(e,e.limit,"L"):e}class xo{constructor(){}ue(e,n){this.ce(e,n),n.ae()}ce(e,n){if("nullValue"in e)this.he(n,5);else if("booleanValue"in e)this.he(n,10),n.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(n,15),n.le(rt(e.integerValue));else if("doubleValue"in e){const r=rt(e.doubleValue);isNaN(r)?this.he(n,13):(this.he(n,15),Fl(r)?n.le(0):n.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(n,20),"string"==typeof r?n.fe(r):(n.fe(`${r.seconds||""}`),n.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,n),this._e(n);else if("bytesValue"in e)this.he(n,30),n.we(vo(e.bytesValue)),this._e(n);else if("referenceValue"in e)this.me(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(n,45),n.le(r.latitude||0),n.le(r.longitude||0)}else"mapValue"in e?SV(e)?this.he(n,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,n),this._e(n)):"arrayValue"in e?(this.ye(e.arrayValue,n),this._e(n)):F()}de(e,n){this.he(n,25),this.pe(e,n)}pe(e,n){n.fe(e)}ge(e,n){const r=e.fields||{};this.he(n,55);for(const i of Object.keys(r))this.de(i,n),this.ce(r[i],n)}ye(e,n){const r=e.values||[];this.he(n,50);for(const i of r)this.ce(i,n)}me(e,n){this.he(n,37),R.fromName(e).path.forEach(r=>{this.he(n,60),this.pe(r,n)})}he(e,n){e.le(n)}_e(e){e.le(2)}}xo.Ie=new xo;class Yse{constructor(){this.Je=new ID}addToCollectionParentIndex(e,n){return this.Je.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Xn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Xn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class ID{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Me(we.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Me(we.comparator)).toArray()}}new Uint8Array(0);class On{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new On(e,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}On.DEFAULT_COLLECTION_PERCENTILE=10,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,On.DEFAULT=new On(41943040,On.DEFAULT_COLLECTION_PERCENTILE,On.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),On.DISABLED=new On(-1,0,0);class ko{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ko(0)}static vn(){return new ko(-1)}}class roe{constructor(){this.changes=new ds(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ooe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class oU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&Gl(r.mutation,i,Jn.empty(),Xe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=zr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ql();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=zr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Pn();const o=zl(),a=zl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Oi)?s=s.insert(c.key,c):void 0!==l&&(o.set(c.key,l.mutation.getFieldMask()),Gl(l.mutation,c,l.mutation.getFieldMask(),Xe.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new ooe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=zl();let i=new it((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||Jn.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||se()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=f2();l.forEach(h=>{if(!s.has(h)){const f=i2(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return R.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):nD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(zr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,se())).next(l=>({batchId:a,changes:h2(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new R(n)).next(r=>{let i=ql();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=ql();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new Pi(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const c=u.getKey();null===i.get(c)&&(i=i.insert(c,$e.newInvalidDocument(c)))});let o=ql();return i.forEach((a,u)=>{const c=s.get(a);void 0!==c&&Gl(c.mutation,u,Jn.empty(),Xe.now()),sD(n,u)&&(o=o.insert(a,u))}),o})}}class aoe{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return v.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:ct(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(r=n).name,query:gD(r.bundledQuery),readTime:ct(r.readTime)}),v.resolve();var r}}class uoe{constructor(){this.overlays=new it(R.comparator),this.es=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=zr(),s=n.length+1,o=new R(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new it((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=zr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=zr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new pD(n,r));let s=this.es.get(n);void 0===s&&(s=se(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}class ED{constructor(){this.ns=new Me(Ot.ss),this.rs=new Me(Ot.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Ot(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Ot(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new R(new we([])),r=new Ot(n,e),i=new Ot(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new R(new we([])),r=new Ot(n,e),i=new Ot(n,e+1);let s=se();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ot(e,0),r=this.ns.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Ot{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return R.comparator(e.key,n.key)||te(e._s,n._s)}static os(e,n){return te(e._s,n._s)||R.comparator(e.key,n.key)}}class coe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Me(Ot.ss)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++;const o=new hD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Ot(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ps(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ot(n,0),i=new Ot(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Me(te);return n.forEach(i=>{const s=new Ot(i,0),o=new Ot(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),v.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;R.isDocumentKey(s)||(s=s.child(""));const o=new Ot(new R(s),0);let a=new Me(te);return this.gs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u._s)),!0)},o),v.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){U(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return v.forEach(n.mutations,i=>{const s=new Ot(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Ot(n,0),i=this.gs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class loe{constructor(e){this.Es=e,this.docs=new it(R.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(e,n){let r=Pn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$e.newInvalidDocument(i))}),v.resolve(r)}getAllFromCollection(e,n,r){let i=Pn();const s=new R(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||Wb(yV(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return v.resolve(i)}getAllFromCollectionGroup(e,n,r,i){F()}As(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new doe(this)}getSize(e){return v.resolve(this.size)}}class doe extends roe{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class hoe{constructor(e){this.persistence=e,this.Rs=new ds(n=>Eo(n),$l),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.bs=0,this.Ps=new ED,this.targetCount=0,this.vs=ko.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),v.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Dn(n),v.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.Ps.containsKey(n))}}class aU{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Zn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new hoe(this),this.indexManager=new Yse,this.remoteDocumentCache=new loe(r=>this.referenceDelegate.xs(r)),this.yt=new F2(n),this.Ns=new aoe(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uoe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new coe(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){S("MemoryPersistence","Starting transaction:",e);const i=new foe(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return v.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class foe extends Oie{constructor(e){super(),this.currentSequenceNumber=e}}class wg{constructor(e){this.persistence=e,this.Fs=new ED,this.$s=null}static Bs(e){return new wg(e)}get Ls(){if(this.$s)return this.$s;throw F()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),v.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ls,r=>{const i=R.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,q.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return v.or([()=>v.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class TD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new TD(e,n.fromCache,r,i)}}class cU{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(zV(n))return v.resolve(null);let r=wn(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=sg(n,null,"F"),r=wn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=se(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Fi(n,a);return this.$i(n,c,o,u.readTime)?this.ki(e,sg(n,null,"F")):this.Bi(e,c,n,u)}))})))}Oi(e,n,r,i){return zV(n)||i.isEqual(q.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(Gb()<=ve.DEBUG&&S("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),iD(n)),this.Bi(e,o,n,function mV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=q.fromTimestamp(1e9===r?new Xe(n+1,0):new Xe(n,r));return new Xn(i,R.empty(),e)}(i,-1)))})}Fi(e,n){let r=new Me(QV(e));return n.forEach((i,s)=>{sD(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return Gb()<=ve.DEBUG&&S("QueryEngine","Using full collection scan to execute query:",iD(n)),this.Ni.getDocumentsMatchingQuery(e,n,Xn.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class goe{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new it(te),this.Ui=new ds(s=>Eo(s),$l),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oU(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function dU(t,e){return SD.apply(this,arguments)}function SD(){return SD=g(function*(t,e){const n=N(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=se();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),SD.apply(this,arguments)}function moe(t,e){const n=N(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);U(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=se();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function hU(t){const e=N(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function yoe(t,e){const n=N(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;e.targetMismatches.has(d)?f=f.withResumeToken(St.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Cs.updateTargetData(s,f))});let u=Pn(),c=se();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function fU(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Pn();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(q.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):S("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Wi,c=l.zi})),!r.isEqual(q.min())){const l=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.qi=i,s))}function _oe(t,e){const n=N(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mu(t,e){const n=N(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new hs(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}function yu(t,e,n){return AD.apply(this,arguments)}function AD(){return AD=g(function*(t,e,n){const r=N(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!os(o))throw o;S("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),AD.apply(this,arguments)}function Eg(t,e,n){const r=N(t);let i=q.min(),s=se();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=N(a),d=l.Ui.get(c);return void 0!==d?v.resolve(l.qi.get(d)):l.Cs.getTargetData(u,c)}(r,o,wn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:q.min(),n?s:se())).next(a=>(function mU(t,e,n){let r=t.Ki.get(e)||q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}(r,function KV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Hi:s})))}class ND{constructor(){this.activeTargetIds=cg()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vU{constructor(){this.Lr=new ND,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new ND,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ioe{Ur(e){}shutdown(){}}class wU{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){S("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){S("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Eoe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class boe{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Doe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);S("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(S("RestConnection","Received: ",u),u),u=>{throw eu("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ja,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){return`${this.oo}/v1/${n}:${Eoe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new Die;a.setWithCredentials(!0),a.listenOnce(Iie.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Hb.NO_ERROR:const c=a.getResponseJson();S("Connection","XHR received:",JSON.stringify(c)),s(c);break;case Hb.TIMEOUT:S("Connection",'RPC "'+e+'" timed out'),o(new T(w.DEADLINE_EXCEEDED,"Request time out"));break;case Hb.HTTP_ERROR:const l=a.getStatus();if(S("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(m)>=0?m:w.UNKNOWN}(h.status);o(new T(f,h.message))}else o(new T(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new T(w.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{S("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=vie(),o=wie(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new bie({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");S("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new boe({Hr:p=>{d?S("Connection","Not sending because WebChannel is closed:",p):(l||(S("Connection","Opening WebChannel transport."),c.open(),l=!0),S("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,m,y)=>{p.listen(m,I=>{try{y(I)}catch(E){setTimeout(()=>{throw E},0)}})};return f(c,Qp.EventType.OPEN,()=>{d||S("Connection","WebChannel transport opened.")}),f(c,Qp.EventType.CLOSE,()=>{d||(d=!0,S("Connection","WebChannel transport closed"),h.io())}),f(c,Qp.EventType.ERROR,p=>{d||(d=!0,eu("Connection","WebChannel transport errored:",p),h.io(new T(w.UNAVAILABLE,"The operation could not be completed")))}),f(c,Qp.EventType.MESSAGE,p=>{var m;if(!d){const y=p.data[0];U(!!y);const I=y,E=I.error||(null===(m=I[0])||void 0===m?void 0:m.error);if(E){S("Connection","WebChannel received error:",E);const _=E.status;let M=function(V){const He=yt[V];if(void 0!==He)return l2(He)}(_),L=E.message;void 0===M&&(M=w.INTERNAL,L="Unknown error status: "+_+" with message "+E.message),d=!0,h.io(new T(M,L)),c.close()}else S("Connection","WebChannel received:",y),h.ro(y)}}),f(o,Eie.STAT_EVENT,p=>{p.stat===lV.PROXY?S("Connection","Detected buffering proxy"):p.stat===lV.NOPROXY&&S("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Cg(){return typeof document<"u"?document:null}function od(t){return new pse(t,!0)}class OD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&S("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class EU{constructor(e,n,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new OD(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return g(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return g(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var r=this;return g(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(at(n.toString()),at("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(n)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new T(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(g(function*(){e.state=0,e.start()}))}Qo(e){return S("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(S("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Coe extends EU{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=function yse(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:F(),i=e.targetChange.targetIds||[],s=function(u,c){return u.wt?(U(void 0===c||"string"==typeof c),St.fromBase64String(c||"")):(U(void 0===c||c instanceof Uint8Array),St.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:l2(u.code);return new T(c,u.message||"")}(o);n=new g2(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Wr(t,r.document.name),s=ct(r.document.updateTime),o=r.document.createTime?ct(r.document.createTime):q.min(),a=new Xt({mapValue:{fields:r.document.fields}}),u=$e.newFoundDocument(i,s,o,a);n=new lg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Wr(t,r.document),s=r.readTime?ct(r.readTime):q.min(),o=$e.newNoDocument(i,s);n=new lg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Wr(t,r.document);n=new lg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return F();{const r=e.filter,s=new sse(r.count||0);n=new p2(r.targetId,s)}}var u;return n}(this.yt,e),r=function(i){if(!("targetChange"in i))return q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?ct(s.readTime):q.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Yl(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=ng(a)?{documents:C2(i,a)}:{query:lD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=v2(i,s.resumeToken):s.snapshotVersion.compareTo(q.min())>0&&(o.readTime=du(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=function vse(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return F()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Yl(this.yt),n.removeTarget=e,this.Bo(n)}}class Toe extends EU{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(U(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function _se(t,e){return t&&t.length>0?(U(void 0!==e),t.map(n=>function(r,i){let s=ct(r.updateTime?r.updateTime:i);return s.isEqual(q.min())&&(s=ct(i)),new nse(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=ct(e.commitTime);return this.listener.Zo(r,n)}return U(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Yl(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Xl(t,e){let n;if(e instanceof cu)n={update:b2(t,e.key,e.value)};else if(e instanceof lu)n={delete:Ql(t,e.key)};else if(e instanceof Oi)n={update:b2(t,e.key,e.data),updateMask:bse(e.fieldMask)};else{if(!(e instanceof oD))return F();n={verify:Ql(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof au)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Do)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Co)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof uu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw F()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:gse(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:F()),n;var i}(this.yt,r))};this.Bo(n)}}class Soe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new T(w.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new T(w.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new T(w.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class xoe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(at(n),this.ou=!1):S("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Moe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{r.enqueueAndForget(g(function*(){var u;Fi(o)&&(S("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=N(c);l._u.add(4),yield _u(l),l.gu.set("Unknown"),l._u.delete(4),yield ad(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.gu=new xoe(r,i)}}function ad(t){return LD.apply(this,arguments)}function LD(){return LD=g(function*(t){if(Fi(t))for(const e of t.wu)yield e(!0)}),LD.apply(this,arguments)}function _u(t){return VD.apply(this,arguments)}function VD(){return VD=g(function*(t){for(const e of t.wu)yield e(!1)}),VD.apply(this,arguments)}function Tg(t,e){const n=N(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),$D(n)?BD(n):wu(n).ko()&&UD(n,e))}function ud(t,e){const n=N(t),r=wu(n);n.du.delete(e),r.ko()&&bU(n,e),0===n.du.size&&(r.ko()?r.Fo():Fi(n)&&n.gu.set("Unknown"))}function UD(t,e){t.yu.Ot(e.targetId),wu(t).zo(e)}function bU(t,e){t.yu.Ot(e),wu(t).Ho(e)}function BD(t){t.yu=new lse({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),wu(t).start(),t.gu.uu()}function $D(t){return Fi(t)&&!wu(t).No()&&t.du.size>0}function Fi(t){return 0===N(t)._u.size}function DU(t){t.yu=void 0}function koe(t){return jD.apply(this,arguments)}function jD(){return jD=g(function*(t){t.du.forEach((e,n)=>{UD(t,e)})}),jD.apply(this,arguments)}function Roe(t,e){return HD.apply(this,arguments)}function HD(){return HD=g(function*(t,e){DU(t),$D(t)?(t.gu.hu(e),BD(t)):t.gu.set("Unknown")}),HD.apply(this,arguments)}function Noe(t,e,n){return GD.apply(this,arguments)}function GD(){return GD=g(function*(t,e,n){if(t.gu.set("Online"),e instanceof g2&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){S("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Sg(t,r)}else if(e instanceof lg?t.yu.Kt(e):e instanceof p2?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(q.min()))try{const r=yield hU(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(u);c&&i.du.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(St.EMPTY_BYTE_STRING,u.snapshotVersion)),bU(i,a);const c=new hs(u.target,a,1,u.sequenceNumber);UD(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){S("RemoteStore","Failed to raise snapshot:",r),yield Sg(t,r)}var r}),GD.apply(this,arguments)}function Sg(t,e,n){return qD.apply(this,arguments)}function qD(){return qD=g(function*(t,e,n){if(!os(e))throw e;t._u.add(1),yield _u(t),t.gu.set("Offline"),n||(n=()=>hU(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){S("RemoteStore","Retrying IndexedDB access"),yield n(),t._u.delete(1),yield ad(t)}))}),qD.apply(this,arguments)}function CU(t,e){return e().catch(n=>Sg(t,n,e))}function vu(t){return zD.apply(this,arguments)}function zD(){return zD=g(function*(t){const e=N(t),n=ms(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Poe(e);)try{const i=yield _oe(e.localStore,r);if(null===i){0===e.fu.length&&n.Fo();break}r=i.batchId,Ooe(e,i)}catch(i){yield Sg(e,i)}TU(e)&&SU(e)}),zD.apply(this,arguments)}function Poe(t){return Fi(t)&&t.fu.length<10}function Ooe(t,e){t.fu.push(e);const n=ms(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function TU(t){return Fi(t)&&!ms(t).No()&&t.fu.length>0}function SU(t){ms(t).start()}function Foe(t){return WD.apply(this,arguments)}function WD(){return WD=g(function*(t){ms(t).eu()}),WD.apply(this,arguments)}function Loe(t){return KD.apply(this,arguments)}function KD(){return KD=g(function*(t){const e=ms(t);for(const n of t.fu)e.Xo(n.mutations)}),KD.apply(this,arguments)}function Voe(t,e,n){return QD.apply(this,arguments)}function QD(){return QD=g(function*(t,e,n){const r=t.fu.shift(),i=fD.from(r,e,n);yield CU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield vu(t)}),QD.apply(this,arguments)}function Uoe(t,e){return YD.apply(this,arguments)}function YD(){return YD=g(function*(t,e){var n;e&&ms(t).Yo&&(yield(n=g(function*(r,i){if(c2(s=i.code)&&s!==w.ABORTED){const o=r.fu.shift();ms(r).Mo(),yield CU(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield vu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),TU(t)&&SU(t)}),YD.apply(this,arguments)}function AU(t,e){return XD.apply(this,arguments)}function XD(){return XD=g(function*(t,e){const n=N(t);n.asyncQueue.verifyOperationInProgress(),S("RemoteStore","RemoteStore received new credentials");const r=Fi(n);n._u.add(3),yield _u(n),r&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield ad(n)}),XD.apply(this,arguments)}function JD(){return JD=g(function*(t,e){const n=N(t);e?(n._u.delete(2),yield ad(n)):e||(n._u.add(2),yield _u(n),n.gu.set("Unknown"))}),JD.apply(this,arguments)}function wu(t){return t.pu||(t.pu=function(e,n,r){const i=N(e);return i.su(),new Coe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:koe.bind(null,t),Zr:Roe.bind(null,t),Wo:Noe.bind(null,t)}),t.wu.push(function(){var e=g(function*(n){n?(t.pu.Mo(),$D(t)?BD(t):t.gu.set("Unknown")):(yield t.pu.stop(),DU(t))});return function(n){return e.apply(this,arguments)}}())),t.pu}function ms(t){return t.Iu||(t.Iu=function(e,n,r){const i=N(e);return i.su(),new Toe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:Foe.bind(null,t),Zr:Uoe.bind(null,t),tu:Loe.bind(null,t),Zo:Voe.bind(null,t)}),t.wu.push(function(){var e=g(function*(n){n?(t.Iu.Mo(),yield vu(t)):(yield t.Iu.stop(),t.fu.length>0&&(S("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Iu}class eC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Tt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new eC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new T(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iu(t,e){if(at("AsyncQueue",`${e}: ${t}`),os(t))return new T(w.UNAVAILABLE,`${e}: ${t}`);throw t}class Eu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||R.comparator(n.key,r.key):(n,r)=>R.comparator(n.key,r.key),this.keyedMap=ql(),this.sortedSet=new it(this.comparator)}static emptySet(e){return new Eu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Eu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class xU{constructor(){this.Tu=new it(R.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(n):1===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):F():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class bu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new bu(e,n,Eu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class Boe{constructor(){this.Au=void 0,this.listeners=[]}}class $oe{constructor(){this.queries=new ds(e=>WV(e),jl),this.onlineState="Unknown",this.Ru=new Set}}function tC(t,e){return nC.apply(this,arguments)}function nC(){return nC=g(function*(t,e){const n=N(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new Boe),i)try{s.Au=yield n.onListen(r)}catch(o){const a=Iu(o,`Initialization of query '${iD(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&sC(n)}),nC.apply(this,arguments)}function rC(t,e){return iC.apply(this,arguments)}function iC(){return iC=g(function*(t,e){const n=N(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),iC.apply(this,arguments)}function joe(t,e){const n=N(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&sC(n)}function Hoe(t,e,n){const r=N(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function sC(t){t.Ru.forEach(e=>{e.next()})}class oC{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new bu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||(!this.options.Nu||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=bu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class RU{constructor(e){this.key=e}}class NU{constructor(e){this.key=e}}class PU{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=se(),this.mutatedKeys=se(),this.Gu=QV(e),this.Qu=new Eu(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new xU,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=sD(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Gu(f,u)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return f(d)-f(h)}(c.type,l.type)||this.Gu(c.doc,l.doc)),this.Ju(r);const o=n?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.Uu;return this.Uu=a,0!==s.length||u?{snapshot:new bu(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new xU,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=se(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new NU(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new RU(r))}),n}tc(e){this.qu=e.Hi,this.Ku=se();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return bu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class zoe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Woe{constructor(e){this.key=e,this.nc=!1}}class Koe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new ds(a=>WV(a),jl),this.rc=new Map,this.oc=new Set,this.uc=new it(R.comparator),this.cc=new Map,this.ac=new ED,this.hc={},this.lc=new Map,this.fc=ko.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Qoe(t,e){return aC.apply(this,arguments)}function aC(){return aC=g(function*(t,e){const n=MC(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield mu(n.localStore,wn(e));n.isPrimaryClient&&Tg(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield uC(n,e,r,"current"===a,o.resumeToken)}return i}),aC.apply(this,arguments)}function uC(t,e,n,r,i){return cC.apply(this,arguments)}function cC(){return cC=g(function*(t,e,n,r,i){t._c=(d,h,f)=>{return(p=g(function*(m,y,I,E){let _=y.view.Wu(I);_.$i&&(_=yield Eg(m.localStore,y.query,!1).then(({documents:V})=>y.view.Wu(V,_)));const M=E&&E.targetChanges.get(y.targetId),L=y.view.applyChanges(_,m.isPrimaryClient,M);return vC(m,y.targetId,L.Xu),L.snapshot}),function(m,y,I,E){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Eg(t.localStore,e,!0),o=new PU(e,s.Hi),a=o.Wu(s.documents),u=Kl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);vC(t,n,c.Xu);const l=new zoe(e,n,o);return t.ic.set(e,l),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),c.snapshot}),cC.apply(this,arguments)}function Yoe(t,e){return lC.apply(this,arguments)}function lC(){return lC=g(function*(t,e){const n=N(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!jl(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield yu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ud(n.remoteStore,r.targetId),Du(n,r.targetId)}).catch(ss))):(Du(n,r.targetId),yield yu(n.localStore,r.targetId,!0))}),lC.apply(this,arguments)}function dC(){return dC=g(function*(t,e,n){const r=kC(t);try{const i=yield function(s,o){const a=N(s),u=Xe.now(),c=o.reduce((h,f)=>h.add(f.key),se());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Pn(),p=se();return a.Gi.getEntries(h,c).next(m=>{f=m,f.forEach((y,I)=>{I.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const I of o){const E=ise(I,l.get(I.key).overlayedDocument);null!=E&&y.push(new Oi(I.key,E,jV(E.value.mapValue),ze.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:h2(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new it(te)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Li(r,i.changes),yield vu(r.remoteStore)}catch(i){const s=Iu(i,"Failed to persist write");n.reject(s)}}),dC.apply(this,arguments)}function OU(t,e){return hC.apply(this,arguments)}function hC(){return hC=g(function*(t,e){const n=N(t);try{const r=yield yoe(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&(U(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?U(o.nc):i.removedDocuments.size>0&&(U(o.nc),o.nc=!1))}),yield Li(n,r,e)}catch(r){yield ss(r)}}),hC.apply(this,arguments)}function FU(t,e,n){const r=N(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=N(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.bu(o)&&(u=!0)}),u&&sC(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Zoe(t,e,n){return fC.apply(this,arguments)}function fC(){return fC=g(function*(t,e,n){const r=N(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new it(R.comparator);o=o.insert(s,$e.newNoDocument(s,q.min()));const a=se().add(s),u=new Wl(q.min(),new Map,new Me(te),o,a);yield OU(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),wC(r)}else yield yu(r.localStore,e,!1).then(()=>Du(r,e,n)).catch(ss)}),fC.apply(this,arguments)}function Joe(t,e){return pC.apply(this,arguments)}function pC(){return pC=g(function*(t,e){const n=N(t),r=e.batch.batchId;try{const i=yield moe(n.localStore,e);_C(n,r,null),yC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Li(n,i)}catch(i){yield ss(i)}}),pC.apply(this,arguments)}function eae(t,e,n){return gC.apply(this,arguments)}function gC(){return gC=g(function*(t,e,n){const r=N(t);try{const i=yield function(s,o){const a=N(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>(U(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);_C(r,e,n),yC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Li(r,i)}catch(i){yield ss(i)}}),gC.apply(this,arguments)}function yC(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function _C(t,e,n){const r=N(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Du(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||LU(t,r)})}function LU(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);null!==n&&(ud(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),wC(t))}function vC(t,e,n){for(const r of n)r instanceof RU?(t.ac.addReference(r.key,e),nae(t,r)):r instanceof NU?(S("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||LU(t,r.key)):F()}function nae(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(S("SyncEngine","New document in limbo: "+n),t.oc.add(r),wC(t))}function wC(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new R(we.fromString(e)),r=t.fc.next();t.cc.set(r,new Woe(n)),t.uc=t.uc.insert(n,r),Tg(t.remoteStore,new hs(wn(ou(n.path)),r,2,Zn.at))}}function Li(t,e,n){return IC.apply(this,arguments)}function IC(){return IC=g(function*(t,e,n){const r=N(t),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=TD.Ci(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=g(function*(u,c){const l=N(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!os(d))throw d;S("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.qi.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qi=l.qi.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),IC.apply(this,arguments)}function rae(t,e){return EC.apply(this,arguments)}function EC(){return EC=g(function*(t,e){const n=N(t);if(!n.currentUser.isEqual(e)){S("SyncEngine","User change. New user:",e.toKey());const r=yield dU(n.localStore,e);n.currentUser=e,(i=n).lc.forEach(o=>{o.forEach(a=>{a.reject(new T(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Li(n,r.ji)}var i}),EC.apply(this,arguments)}function iae(t,e){const n=N(t),r=n.cc.get(e);if(r&&r.nc)return se().add(r.key);{let i=se();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function MC(t){const e=N(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Zoe.bind(null,e),e.sc.Wo=joe.bind(null,e.eventManager),e.sc.wc=Hoe.bind(null,e.eventManager),e}function kC(t){const e=N(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Joe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eae.bind(null,e),e}class fae{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.yt=od(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return function lU(t,e,n,r){return new goe(t,e,n,r)}(this.persistence,new cU,e.initialUser,this.yt)}yc(e){return new aU(wg.Bs,this.yt)}gc(e){return new vU}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class RC{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>FU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=rae.bind(null,r.syncEngine),yield function ZD(t,e){return JD.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new $oe}createDatastore(e){const n=od(e.databaseInfo.databaseId),r=new Doe(e.databaseInfo);return new Soe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>FU(this.syncEngine,a,0),o=wU.C()?new wU:new Ioe,new Moe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Koe(r,i,s,o,a,u);return c&&(l.dc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=N(n);S("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield _u(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function NC(t,e,n){if(!n)throw new T(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BU(t){if(!R.isDocumentKey(t))throw new T(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $U(t){if(R.isDocumentKey(t))throw new T(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ag(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":F()}function ge(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new T(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ag(t);throw new T(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const HU=new Map;class GU{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new T(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new T(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function mae(t,e,n,r){if(!0===e&&!0===r)throw new T(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new GU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new T(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new T(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new GU(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Cie;switch(n.type){case"gapi":return new xie(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new T(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=HU.get(e);n&&(S("ComponentProvider","Removing Datastore"),HU.delete(e),n.terminate())}(this),Promise.resolve()}}class lt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lt(this.firestore,e,this._key)}}class Zt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zt(this.firestore,e,this._query)}}class Qr extends Zt{constructor(e,n,r){super(e,n,ou(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lt(this.firestore,null,new R(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function _ae(t,e,...n){if(t=mt(t),NC("collection","path",e),t instanceof cd){const r=we.fromString(e,...n);return $U(r),new Qr(t,null,r)}{if(!(t instanceof lt||t instanceof Qr))throw new T(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return $U(r),new Qr(t.firestore,null,r)}}function qU(t,e,...n){if(t=mt(t),1===arguments.length&&(e=pV.R()),NC("doc","path",e),t instanceof cd){const r=we.fromString(e,...n);return BU(r),new lt(t,null,new R(r))}{if(!(t instanceof lt||t instanceof Qr))throw new T(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return BU(r),new lt(t.firestore,t instanceof Qr?t.converter:null,new R(r))}}class xg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):at("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Dae{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Nt.UNAUTHENTICATED,this.clientId=pV.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){S("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(S("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new T(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Tt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Iu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function KU(t,e){return PC.apply(this,arguments)}function PC(){return PC=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),S("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield dU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),PC.apply(this,arguments)}function QU(t,e){return OC.apply(this,arguments)}function OC(){return OC=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield FC(t);S("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>AU(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>AU(e.remoteStore,s)),t.onlineComponents=e}),OC.apply(this,arguments)}function FC(t){return LC.apply(this,arguments)}function LC(){return LC=g(function*(t){return t.offlineComponents||(S("FirestoreClient","Using default OfflineComponentProvider"),yield KU(t,new fae)),t.offlineComponents}),LC.apply(this,arguments)}function Mg(t){return VC.apply(this,arguments)}function VC(){return VC=g(function*(t){return t.onlineComponents||(S("FirestoreClient","Using default OnlineComponentProvider"),yield QU(t,new RC)),t.onlineComponents}),VC.apply(this,arguments)}function Cu(t){return $C.apply(this,arguments)}function $C(){return $C=g(function*(t){const e=yield Mg(t),n=e.eventManager;return n.onListen=Qoe.bind(null,e.syncEngine),n.onUnlisten=Yoe.bind(null,e.syncEngine),n}),$C.apply(this,arguments)}class Rae{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new OD(this,"async_queue_retry"),this.Wc=()=>{const n=Cg();n&&S("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Cg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Cg();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Tt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return g(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(n){if(!os(n))throw n;S("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,at("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=eC.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&F()}verifyOperationInProgress(){}Xc(){var e=this;return g(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class je extends cd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Rae,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||eB(this),this._firestoreClient.terminate()}}function Pae(t,e){const r="string"==typeof t?t:e||"(default)",i=Zs("object"==typeof t?t:jf(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=oP("firestore");s&&function yae(t,e,n,r={}){var i;const s=(t=ge(t,cd))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&eu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Nt.MOCK_USER;else{o=uP(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new T(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Nt(u)}t._authCredentials=new Tie(new hV(o,a))}}(i,...s)}return i}function _t(t){return t._firestoreClient||eB(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function eB(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new Bie(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Dae(t._authCredentials,t._appCheckCredentials,t._queue,r)}class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(St.fromBase64String(e))}catch(n){throw new T(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new No(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new T(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class HC{constructor(e){this._methodName=e}}class GC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new T(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new T(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}const Oae=/^__.*__$/;class Fae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class rB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function iB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class Rg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Rg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Pg(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(iB(this.sa)&&Oae.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Lae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||od(e)}da(e,n,r,i=!1){return new Rg({sa:e,methodName:n,fa:r,path:ut.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Su(t){const e=t._freezeSettings(),n=od(t._databaseId);return new Lae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qC(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);WC("Data must be an object, but it was:",o,r);const a=cB(r,o);let u,c;if(s.merge)u=new Jn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=KC(e,d,n);if(!o.contains(h))throw new T(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);dB(l,h)||l.push(h)}u=new Jn(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Fae(new Xt(a),u,c)}class ld extends HC{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ld}}function Po(t,e){if(lB(t=mt(t)))return WC("Unsupported field value:",e,t),cB(t,e);if(t instanceof HC)return function(n,r){if(!iB(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Po(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=mt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return ZV(r.yt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Xe.fromDate(n);return{timestampValue:du(r.yt,i)}}if(n instanceof Xe){const i=new Xe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:du(r.yt,i)}}if(n instanceof GC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof No)return{bytesValue:v2(r.yt,n._byteString)};if(n instanceof lt){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:aD(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${Ag(n)}`)}(t,e)}function cB(t,e){const n={};return IV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(t,(r,i)=>{const s=Po(i,e.ra(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function lB(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Xe||t instanceof GC||t instanceof No||t instanceof lt||t instanceof HC)}function WC(t,e,n){if(!lB(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ag(n);throw e.ha("an object"===r?t+" a custom object":t+" "+r)}var r}function KC(t,e,n){if((e=mt(e))instanceof Tu)return e._internalPath;if("string"==typeof e)return Ng(t,e);throw Pg("Field path arguments must be of type string or ",t,!1,void 0,n)}const $ae=new RegExp("[~\\*/\\[\\]]");function Ng(t,e,n){if(e.search($ae)>=0)throw Pg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tu(...e.split("."))._internalPath}catch{throw Pg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new T(w.INVALID_ARGUMENT,a+t+u)}function dB(t,e){return t.some(n=>n.isEqual(e))}class QC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new lt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new jae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Og("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class jae extends QC{data(){return super.data()}}function Og(t,e){return"string"==typeof e?Ng(t,e):e instanceof Tu?e._internalPath:e._delegate._internalPath}class YC{}class fB extends YC{}function Hae(t,e,...n){let r=[];e instanceof YC&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Au).length,o=i.filter(a=>a instanceof dd).length;if(s>1||s>0&&o>0)throw new T(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class dd extends fB{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dd(e,n,r)}_apply(e){const n=this._parse(e);return yB(e._query,n),new Zt(e.firestore,e.converter,rD(e._query,n))}_parse(e){const n=Su(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new T(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){mB(l,c);const h=[];for(const f of l)h.push(gB(a,i,f));d={arrayValue:{values:h}}}else d=gB(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||mB(l,c),d=function uB(t,e,n,r=!1){return Po(n,t.da(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return fe.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Au extends YC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Au(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:xe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)yB(s,a),s=rD(s,a)}(e._query,n),new Zt(e.firestore,e.converter,rD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Fg extends fB{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Fg(e,n,r)}_apply(e){return new Zt(e.firestore,e.converter,sg(e._query,this._limit,this._limitType))}}function Gae(t){return function jU(t,e){if(e<=0)throw new T(w.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Fg._create("limit",t,"F")}function gB(t,e,n){if("string"==typeof(n=mt(n))){if(""===n)throw new T(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nD(e)&&-1!==n.indexOf("/"))throw new T(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(we.fromString(n));if(!R.isDocumentKey(r))throw new T(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Io(t,new R(r))}if(n instanceof lt)return Io(t,n._key);throw new T(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ag(n)}.`)}function mB(t,e){if(!Array.isArray(t)||0===t.length)throw new T(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new T(w.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function yB(t,e){if(e.isInequality()){const r=ig(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new T(w.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=tD(t);null!==s&&function _B(t,e,n){if(!n.isEqual(e))throw new T(w.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new T(w.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class qae{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw F()}}convertObject(e,n){const r={};return _o(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new GC(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=bV(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){const n=as(e);return new Xe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);U(x2(r));const i=new yo(r.get(1),r.get(3)),s=new R(r.popFirst(5));return i.isEqual(n)||at(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function ZC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xu extends QC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ug(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Og("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ug extends xu{data(e={}){return super.data(e)}}class Mu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ug(this._firestore,this._userDataWriter,r.key,r,new Oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new T(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Ug(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Ug(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:zae(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}function Wae(t){t=ge(t,lt);const e=ge(t.firestore,je);return function ZU(t,e,n={}){const r=new Tt;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new xg({next:d=>{s.enqueueAndForget(()=>rC(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new T(w.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new T(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new oC(ou(o.path),c,{includeMetadataChanges:!0,Nu:!0});return tC(i,l)}(yield Cu(t),t.asyncQueue,e,n,r)})),r.promise}(_t(e),t._key).then(n=>function JC(t,e,n){const r=n.docs.get(e._key),i=new ys(t);return new xu(t,i,e._key,r,new Oo(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class ys extends qae{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lt(this.firestore,null,n)}}function Kae(t){t=ge(t,Zt);const e=ge(t.firestore,je),n=_t(e),r=new ys(e);return function hB(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new T(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function JU(t,e,n={}){const r=new Tt;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new xg({next:d=>{s.enqueueAndForget(()=>rC(i,l)),d.fromCache&&"server"===a.source?u.reject(new T(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new oC(o,c,{includeMetadataChanges:!0,Nu:!0});return tC(i,l)}(yield Cu(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new Mu(e,r,t,i))}function Qae(t,e,n){t=ge(t,lt);const r=ge(t.firestore,je),i=ZC(t.converter,e,n);return hd(r,[qC(Su(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ze.none())])}function Yae(t,e,n,...r){t=ge(t,lt);const i=ge(t.firestore,je),s=Su(i);let o;return o="string"==typeof(e=mt(e))||e instanceof Tu?function aB(t,e,n,r,i,s){const o=t.da(1,e,n),a=[KC(e,r,n)],u=[i];if(s.length%2!=0)throw new T(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(KC(e,s[h])),u.push(s[h+1]);const c=[],l=Xt.empty();for(let h=a.length-1;h>=0;--h)if(!dB(c,a[h])){const f=a[h];let p=u[h];p=mt(p);const m=o.ca(f);if(p instanceof ld)c.push(f);else{const y=Po(p,m);null!=y&&(c.push(f),l.set(f,y))}}const d=new Jn(c);return new rB(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function oB(t,e,n,r){const i=t.da(1,e,n);WC("Data must be an object, but it was:",i,r);const s=[],o=Xt.empty();_o(r,(u,c)=>{const l=Ng(e,u,n);c=mt(c);const d=i.ca(l);if(c instanceof ld)s.push(l);else{const h=Po(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new Jn(s);return new rB(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),hd(i,[o.toMutation(t._key,ze.exists(!0))])}function Xae(t){return hd(ge(t.firestore,je),[new lu(t._key,ze.none())])}function Zae(t,e){const n=ge(t.firestore,je),r=qU(t),i=ZC(t.converter,e);return hd(n,[qC(Su(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ze.exists(!1))]).then(()=>r)}function hd(t,e){return function(n,r){const i=new Tt;return n.asyncQueue.enqueueAndForget(g(function*(){return function Xoe(t,e,n){return dC.apply(this,arguments)}(yield function BC(t){return Mg(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(_t(t),e)}!function(t,e=!0){Ja="9.15.0",on(new Ht("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new je(new Sie(n.getProvider("auth-internal")),new Mie(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new T(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Be(dV,"3.8.0",t),Be(dV,"3.8.0","esm2017")}();class fd{constructor(e){return e}}const IB="firestore",eT=new j("angularfire2.firestore-instances");function iue(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new fd(r)}}const sue={provide:class nue{constructor(){return Yf(IB)}},deps:[[new ht,eT]]},oue={provide:fd,useFactory:function rue(t,e){const n=Qf(IB,t,e);return n&&new fd(n)},deps:[[new ht,eT],oo]};let aue=(()=>{class t{constructor(){Be("angularfire",tl.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Cn({type:t}),t.\u0275inj=ln({providers:[oue,sue]}),t})();const cue=zt(Zae,!0),tT=zt(_ae,!0),lue=zt(Xae,!0),$g=zt(qU,!0),nT=zt(Wae,!0),EB=zt(Kae,!0),due=zt(Pae,!0),hue=zt(Gae,!0),fue=zt(Hae,!0),pue=zt(Qae,!0),bB=zt(Yae,!0);class er{constructor(e){this.firestore=e,this.collectionName="exercises",this.categoriesLeft=[]}getDocument(e){return $g(this.firestore,this.collectionName,e)}getCollection(){return tT(this.firestore,this.collectionName)}getExercise(e){var n=this;return g(function*(){const r=yield nT(n.getDocument(e));if(!r.exists())return Promise.reject();let i=r.data();return i.firestoreID=r.id,Promise.resolve(i)})()}getAllExercises(e){var n=this;return g(function*(){const r=e&&e>0?yield EB(fue(n.getCollection(),hue(e))):yield EB(n.getCollection());let i=[];return r.forEach(s=>{let o=s.data();o.firestoreID=s.id,i.push(o)}),i})()}getCategories(){var e=this;return g(function*(){const n=yield e.getAllExercises();let r=[];return n.forEach(i=>r.push(i.category)),r=[...new Set(r)],r})()}getAllExercisesFromCategory(e){var n=this;return g(function*(){const r=yield n.getAllExercises();let i=[];return r.forEach(s=>{s.category==e&&i.push(s)}),i})()}populateComponent(){var e=this;return g(function*(){for(;er.isPopulating;)yield new Promise(r=>setTimeout(r,1));er.isPopulating=!0,0==e.categoriesLeft.length&&(e.categoriesLeft=yield e.getCategories());const n=e.categoriesLeft.pop();return er.isPopulating=!1,{categoryName:n,exercises:yield e.getAllExercisesFromCategory(n)}})()}preparePopulateComponent(){var e=this;return g(function*(){e.categoriesLeft=yield e.getCategories()})()}}er.isPopulating=!1,er.\u0275fac=function(e){return new(e||er)($(fd))},er.\u0275prov=z({token:er,factory:er.\u0275fac,providedIn:"root"});const gue=["listContainer"];function mue(t,e){1&t&&(C(0,"div",2),_e(1,"div",3),A())}function yue(t,e){if(1&t){const n=Or();C(0,"div",10),_e(1,"img",11),C(2,"div",12)(3,"h2",13),H(4),A(),C(5,"p"),H(6),A(),C(7,"button",14),J("click",function(){const s=We(n).$implicit;return Ke(pe(2).emitExerciseID(s.firestoreID))}),H(8," Add "),A()()()}if(2&t){const n=e.$implicit;G(1),Rh("src",n.imageURL,ac),G(3),Vs(" ",n.name,""),G(2),Vr(n.description)}}function _ue(t,e){if(1&t){const n=Or();C(0,"div")(1,"h1",4),H(2),A(),C(3,"div",5)(4,"div",6),J("resize",function(){return We(n),Ke(pe().onWindowResize())},0,gx),A(),C(5,"div",7,8),J("load",function(){return We(n),Ke(pe().onWindowResize())}),Ae(7,yue,9,3,"div",9),A()()()}if(2&t){const n=pe();G(2),Vr(n.categoryAndExercises.categoryName),G(2),xt("absolute inset-y-0 right-2 h-full w-1/6 bg-gradient-to-r from-transparent to-white pointer-events-none z-40 ",n.isHiddenClass,""),G(1),xt("flex pb-3 gap-3 lg:gap-5 overflow-auto ",n.hasPaddingClass,""),G(2),Ee("ngForOf",n.categoryAndExercises.exercises)}}class pd{constructor(e){this.exercisesService=e,this.isHiddenClass="",this.hasPaddingClass="",this.isLoading=!0,this.categoryAndExercises={categoryName:"",exercises:[]},this.exerciseIDEmitter=new Fe}ngOnInit(){var e=this;return g(function*(){e.categoryAndExercises=yield e.exercisesService.populateComponent(),e.isLoading=!1,setTimeout(()=>e.onWindowResize(),50)})()}emitExerciseID(e){this.exerciseIDEmitter.emit(e)}onWindowResize(){this.div.nativeElement.scrollWidth>this.div.nativeElement.clientWidth?(this.isHiddenClass="",this.hasPaddingClass="pr-[16.666667%]"):(this.isHiddenClass="hidden",this.hasPaddingClass="")}}pd.\u0275fac=function(e){return new(e||pd)(D(er))},pd.\u0275cmp=Lt({type:pd,selectors:[["app-exercise-list"]],viewQuery:function(e,n){if(1&e&&function YM(t,e,n){const r=ye();r.firstCreatePass&&(JM(r,new KM(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),ZM(r,b(),e)}(gue,5),2&e){let r;__(r=v_())&&(n.div=r.first)}},outputs:{exerciseIDEmitter:"exerciseIDEmitter"},decls:2,vars:2,consts:[["class","p-12",4,"ngIf"],[4,"ngIf"],[1,"p-12"],[1,"m-auto","bg-yellow-500","rounded-full","animate-ping","w-8","h-8"],[1,"text-4xl","font-bold"],[1,"relative","p-2","my-5"],[3,"resize"],["id","list",3,"load"],["listContainer",""],["class","flex relative text-white",4,"ngFor","ngForOf"],[1,"flex","relative","text-white"],["alt","puxador",1,"rounded-l-lg","max-w-[7rem]","h-40","object-cover",3,"src"],[1,"bg-gradient-to-r","from-rose-500","to-yellow-500","max-w-[12rem]","min-w-[12rem]","min-h-[7rem]","rounded-r-lg","p-2"],[1,"font-extrabold"],[1,"bg-black","p-2","rounded-lg","absolute","bottom-2","hover:bg-gray-800","transition-colors",3,"click"]],template:function(e,n){1&e&&(Ae(0,mue,2,0,"div",0),Ae(1,_ue,8,8,"div",1)),2&e&&(Ee("ngIf",n.isLoading),G(1),Ee("ngIf",!n.isLoading))},dependencies:[xc,Ki]});class Vi{constructor(e){this.auth=e,this.user=new lr(!1),wre(this.auth,n=>this.user.next(n))}getUserObservable(){return this.user.asObservable()}logout(){var e=this;return g(function*(){return yield Ere(e.auth)})()}login(){var e=this;return g(function*(){return yield Ire(e.auth,new _te)})()}isLoggedIn(){var e=this;return g(function*(){let n=0;for(;n<=200;){if("boolean"!=typeof e.user.value)return!!e.user.value;yield new Promise(r=>setTimeout(r,10)),n++}return!1})()}getCurrentUser(){return this.auth.currentUser}}Vi.\u0275fac=function(e){return new(e||Vi)($(Ep))},Vi.\u0275prov=z({token:Vi,factory:Vi.\u0275fac,providedIn:"root"});class _s{constructor(e,n){this.firestore=e,this.authService=n,this.schedulesCollectionName="schedules",this.userInfoCollectionName="userInfo"}getUserInfoDoc(e){return $g(this.firestore,this.userInfoCollectionName,e)}getUserInfoCol(){return tT(this.firestore,this.userInfoCollectionName)}getScheduleDoc(e){return $g(this.firestore,this.schedulesCollectionName,e)}getScheduleCol(){return tT(this.firestore,this.schedulesCollectionName)}createUserInfoDoc(){var e=this;return g(function*(){const n=e.authService.getCurrentUser()?.uid;!n||(yield pue($g(e.getUserInfoCol(),n),{schedulesID:[]}))})()}updateUserInfo(e,n){var r=this;return g(function*(){if(e)return yield bB(r.getUserInfoDoc(n),{schedulesID:e.schedulesID})})()}getUserInfo(){var e=this;return g(function*(){const n=e.authService.getCurrentUser()?.uid;if(!n)return Promise.reject();let r=yield nT(e.getUserInfoDoc(n));return r.exists()||(yield e.createUserInfoDoc()),r.data()})()}getUserSchedules(){var e=this;return g(function*(){const n=yield e.getUserInfo();let r=[];for(let i=0;i<n.schedulesID.length;i++)r.push(yield e.getSchedule(n.schedulesID[i]));return r})()}createNewSchedule(e){var n=this;return g(function*(){const r=n.authService.getCurrentUser()?.uid;if(!e||!r)return;const i=yield cue(n.getScheduleCol(),e);let s=yield n.getUserInfo();return s.schedulesID.push(i.id),yield n.updateUserInfo(s,r),i})()}deleteSchedule(e){var n=this;return g(function*(){const r=n.authService.getCurrentUser()?.uid;if(!e||!r)return;let i=yield n.getUserInfo();return i.schedulesID.forEach((s,o)=>{s==e&&i.schedulesID.splice(o,1)}),yield n.updateUserInfo(i,r),lue(n.getScheduleDoc(e))})()}updateSchedule(e,n){var r=this;return g(function*(){if(e)return yield bB(r.getScheduleDoc(n),{days:e.days,exercises:e.exercises,name:e.name})})()}getSchedule(e){var n=this;return g(function*(){const r=yield nT(n.getScheduleDoc(e));if(!r.exists())return Promise.reject();let i=r.data();return i.firestoreID=r.id,Promise.resolve(i)})()}}function vue(t,e){1&t&&(C(0,"div",2),_e(1,"div",3),A())}function wue(t,e){1&t&&(C(0,"div")(1,"p"),H(2,"Now that you already have a schedule, you just need to add the exercises to it and them you can begin your trainings"),A()())}function Iue(t,e){1&t&&(C(0,"div")(1,"p"),H(2,"You don't have any schedule yet, create one and come back to this page so you can add exercises to your schedule and begin training."),A(),C(3,"button",7),H(4,"Create Schedules"),A()())}function Eue(t,e){if(1&t&&(C(0,"div",4)(1,"h2",5),H(2,"Begin training now!"),A(),Ae(3,wue,3,0,"div",6),Ae(4,Iue,5,0,"div",6),A()),2&t){const n=pe();G(3),Ee("ngIf",n.userHasSchedules),G(1),Ee("ngIf",!n.userHasSchedules)}}_s.\u0275fac=function(e){return new(e||_s)($(fd),$(Vi))},_s.\u0275prov=z({token:_s,factory:_s.\u0275fac,providedIn:"root"});class gd{constructor(e){this.schedulesService=e,this.userHasSchedules=!1,this.isLoading=!0}ngOnInit(){var e=this;return g(function*(){const n=yield e.schedulesService.getUserInfo();e.userHasSchedules=Boolean(n.schedulesID),e.isLoading=!1})()}}function bue(t,e){1&t&&(C(0,"div",2),_e(1,"div",3),A())}function Due(t,e){if(1&t){const n=Or();C(0,"div",6),_e(1,"img",7),C(2,"div",8)(3,"h2",9),H(4),A(),C(5,"p"),H(6),A(),C(7,"button",10),J("click",function(){const s=We(n).$implicit;return Ke(pe(2).emitExerciseID(s.firestoreID))}),H(8," Add "),A()()()}if(2&t){const n=e.$implicit;G(1),Rh("src",n.imageURL,ac),G(3),Vs(" ",n.name," "),G(2),Vr(n.description)}}function Cue(t,e){if(1&t&&(C(0,"div")(1,"h1",4),H(2),A(),Ae(3,Due,9,3,"div",5),A()),2&t){const n=pe();G(2),Vr(n.categoryAndExercises.categoryName),G(1),Ee("ngForOf",n.categoryAndExercises.exercises)}}gd.\u0275fac=function(e){return new(e||gd)(D(_s))},gd.\u0275cmp=Lt({type:gd,selectors:[["app-info-card"]],decls:2,vars:2,consts:[["class","p-12",4,"ngIf"],["class","my-5 bg-gradient-to-r from-rose-500 via-yellow-500 to-yellow-500 text-white rounded-lg p-2 transition-all hover:drop-shadow-xl",4,"ngIf"],[1,"p-12"],[1,"m-auto","bg-yellow-500","rounded-full","animate-ping","w-8","h-8"],[1,"my-5","bg-gradient-to-r","from-rose-500","via-yellow-500","to-yellow-500","text-white","rounded-lg","p-2","transition-all","hover:drop-shadow-xl"],[1,"font-extrabold","text-lg"],[4,"ngIf"],["routerLink","/you",1,"bg-black","rounded-lg","mt-2","p-2","hover:bg-gray-800","transition-colors"]],template:function(e,n){1&e&&(Ae(0,vue,2,0,"div",0),Ae(1,Eue,5,2,"div",1)),2&e&&(Ee("ngIf",n.isLoading),G(1),Ee("ngIf",!n.isLoading))},dependencies:[Ki,La]});class md{constructor(e){this.exercisesService=e,this.categoryAndExercises={categoryName:"",exercises:[]},this.exerciseIDEmitter=new Fe,this.isLoading=!0}ngOnInit(){var e=this;return g(function*(){e.categoryAndExercises=yield e.exercisesService.populateComponent(),e.isLoading=!1})()}emitExerciseID(e){this.exerciseIDEmitter.emit(e)}}function Tue(t,e){1&t&&(C(0,"div",9),_e(1,"div",10),A())}function Sue(t,e){1&t&&(C(0,"p",16),H(1,"You don't have any schedules yet"),A())}function Aue(t,e){if(1&t){const n=Or();C(0,"li")(1,"button",19),J("click",function(){const s=We(n).$implicit;return Ke(pe(3).changeSelectedSchedule(s.firestoreID))}),H(2),A()()}if(2&t){const n=e.$implicit,r=pe(3);G(1),xt("text-slate-300 hover:text-white transition-all p-2 w-full text-left hover:bg-neutral-700/50 ",r.selectedScheduleID.includes(n.firestoreID)?"bg-neutral-700/50":"",""),G(1),Vr(n.name)}}function xue(t,e){if(1&t&&(C(0,"ul",17),Ae(1,Aue,3,4,"li",18),A()),2&t){const n=pe(2);G(1),Ee("ngForOf",n.userSchedules)}}function Mue(t,e){if(1&t&&(C(0,"div"),Ae(1,Sue,2,0,"p",11),Ae(2,xue,2,1,"ul",12),C(3,"button",13),Hn(),C(4,"svg",14),_e(5,"path",15),A(),H(6," Add "),A()()),2&t){const n=pe();G(1),Ee("ngIf",!(n.userSchedules.length>0)),G(1),Ee("ngIf",n.userSchedules.length>0)}}function kue(t,e){if(1&t&&(C(0,"p",20),H(1),A()),2&t){const n=pe();G(1),Vr(n.errorMessage)}}md.\u0275fac=function(e){return new(e||md)(D(er))},md.\u0275cmp=Lt({type:md,selectors:[["app-exercise-card"]],outputs:{exerciseIDEmitter:"exerciseIDEmitter"},decls:2,vars:2,consts:[["class","p-12",4,"ngIf"],[4,"ngIf"],[1,"p-12"],[1,"m-auto","bg-yellow-500","rounded-full","animate-ping","w-8","h-8"],[1,"text-4xl","font-bold"],["class","relative transition-all hover:drop-shadow-xl text-white my-5",4,"ngFor","ngForOf"],[1,"relative","transition-all","hover:drop-shadow-xl","text-white","my-5"],["alt","img",1,"h-32","rounded-t-lg","object-cover","md:h-48","w-full",3,"src"],[1,"bg-gradient-to-r","from-rose-500","to-yellow-500","rounded-b-lg","p-2"],[1,"font-extrabold"],[1,"bg-black","p-2","rounded-lg","mt-2","bottom-2","hover:bg-gray-800","transition-colors",3,"click"]],template:function(e,n){1&e&&(Ae(0,bue,2,0,"div",0),Ae(1,Cue,4,2,"div",1)),2&e&&(Ee("ngIf",n.isLoading),G(1),Ee("ngIf",!n.isLoading))},dependencies:[xc,Ki]});class yd{constructor(e){this.schedulesService=e,this.userSchedules=[],this.isLoading=!0,this.selectedScheduleID="",this.errorMessage="",this.emittedValue="",this.closePromptEmitter=new Fe}ngOnInit(){var e=this;return g(function*(){e.userSchedules=yield e.schedulesService.getUserSchedules(),e.isLoading=!1})()}ngOnDestroy(){this.errorMessage=""}addExerciseToSchedule(){var e=this;return g(function*(){if(!e.selectedScheduleID||!e.emittedValue)return void(e.errorMessage="No schedule selected");let n=yield e.schedulesService.getSchedule(e.selectedScheduleID);for(const r of n.exercises)if(r==e.emittedValue)return void(e.errorMessage="This exercise is already in this schedule");n.exercises.push(e.emittedValue),yield e.schedulesService.updateSchedule(n,e.selectedScheduleID),e.errorMessage="",e.closePrompt()})()}changeSelectedSchedule(e){this.selectedScheduleID=e}closePrompt(){this.closePromptEmitter.emit("")}}yd.\u0275fac=function(e){return new(e||yd)(D(_s))},yd.\u0275cmp=Lt({type:yd,selectors:[["app-selection-prompt"]],inputs:{emittedValue:"emittedValue"},outputs:{closePromptEmitter:"closePromptEmitter"},decls:12,vars:3,consts:[[1,"fixed","w-[84%]","mx-[8%]","md:w-[70%]","md:mx-[15%]","lg:w-[50%]","lg:mx-[25%]","2xl:w-[33.3333333%]","2xl:mx-[33.3333333%]","rounded-lg","top-1/3","z-50","backdrop-blur-sm","bg-black/90","text-white","border","border-neutral-500"],[1,"p-4"],[1,"font-extrabold"],["class","p-12",4,"ngIf"],[4,"ngIf"],["class","text-center",4,"ngIf"],[1,"mt-6","grid","grid-cols-2","divide-x","divide-neutral-500","border-t","border-t-neutral-500"],[1,"text-slate-300","hover:text-white","transition-all","p-4","rounded-bl-lg","hover:bg-neutral-700/50",3,"click"],[1,"text-slate-300","hover:text-white","transition-all","p-4","rounded-br-lg","hover:bg-neutral-700/50",3,"click"],[1,"p-12"],[1,"m-auto","bg-yellow-500","rounded-full","animate-ping","w-8","h-8"],["class","text-center text-slate-300",4,"ngIf"],["class","p-4 divide-y divide-neutral-500",4,"ngIf"],["routerLink","/you",1,"flex","text-slate-300","hover:text-white","transition-all"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-lg","my-auto"],["fill-rule","evenodd","d","M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"],[1,"text-center","text-slate-300"],[1,"p-4","divide-y","divide-neutral-500"],[4,"ngFor","ngForOf"],[3,"click"],[1,"text-center"]],template:function(e,n){1&e&&(C(0,"div",0)(1,"div",1)(2,"p",2),H(3,"Select Schedule:"),A(),Ae(4,Tue,2,0,"div",3),Ae(5,Mue,7,2,"div",4),A(),Ae(6,kue,2,1,"p",5),C(7,"div",6)(8,"button",7),J("click",function(){return n.closePrompt()}),H(9,"Cancel"),A(),C(10,"button",8),J("click",function(){return n.addExerciseToSchedule()}),H(11,"Confirm"),A()()()),2&e&&(G(4),Ee("ngIf",n.isLoading),G(1),Ee("ngIf",!n.isLoading),G(1),Ee("ngIf",n.errorMessage))},dependencies:[xc,Ki,La]});class Fo{}function Rue(t,e){if(1&t){const n=Or();C(0,"app-selection-prompt",3),J("closePromptEmitter",function(i){return We(n),Ke(pe().emittedValue=i)}),A()}2&t&&Ee("emittedValue",pe().emittedValue)}Fo.\u0275fac=function(e){return new(e||Fo)},Fo.\u0275cmp=Lt({type:Fo,selectors:[["app-footer"]],decls:12,vars:0,consts:[[1,"flex","gap-12","mx-4","md:mx-24","lg:mx-48","2xl:max-w-[50%]","2xl:mx-[25%]","my-6"],[1,"mr-auto"],[1,"font-bold"],[1,"font-light","text-sm"],[1,"my-auto","flex","justify-center","text-center","font-light"],["href","https://github.com/Edhet/workout-app","target","_blank",1,"hover:underline","hover:text-gray-800","transition-colors","flex","gap-2"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-github","my-auto"],["d","M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"]],template:function(e,n){1&e&&(C(0,"footer",0)(1,"div",1)(2,"h3",2),H(3,"Workout App \xa9 2023 "),_e(4,"br"),C(5,"span",3),H(6,"No Rights Reserved"),A()()(),C(7,"div",4)(8,"a",5),Hn(),C(9,"svg",6),_e(10,"path",7),A(),H(11," GitHub "),A()()())}});class _d{constructor(){this.emittedValue=""}ngOnDestroy(){this.emittedValue=""}}_d.\u0275fac=function(e){return new(e||_d)},_d.\u0275cmp=Lt({type:_d,selectors:[["app-home"]],decls:9,vars:1,consts:[[3,"emittedValue","closePromptEmitter",4,"ngIf"],[1,"mx-4","md:mx-24","lg:mx-48","2xl:max-w-[50%]","2xl:mx-[25%]","my-2"],[3,"exerciseIDEmitter"],[3,"emittedValue","closePromptEmitter"]],template:function(e,n){1&e&&(_e(0,"app-navbar"),Ae(1,Rue,1,1,"app-selection-prompt",0),C(2,"main",1),_e(3,"app-info-card"),C(4,"app-exercise-list",2),J("exerciseIDEmitter",function(i){return n.emittedValue=i}),A(),C(5,"app-exercise-list",2),J("exerciseIDEmitter",function(i){return n.emittedValue=i}),A(),C(6,"app-exercise-card",2),J("exerciseIDEmitter",function(i){return n.emittedValue=i}),A(),C(7,"app-exercise-card",2),J("exerciseIDEmitter",function(i){return n.emittedValue=i}),A()(),_e(8,"app-footer")),2&e&&(G(1),Ee("ngIf",n.emittedValue))},dependencies:[Ki,Ws,pd,gd,md,yd,Fo]});class vd{constructor(e,n){this.auth=e,this.router=n}loginBtn(){var e=this;return g(function*(){(yield e.auth.isLoggedIn())?yield e.router.navigate(["home"]):yield e.auth.login().then(()=>{e.router.navigate(["home"])})})()}}vd.\u0275fac=function(e){return new(e||vd)(D(Vi),D(sn))},vd.\u0275cmp=Lt({type:vd,selectors:[["app-google-login"]],decls:4,vars:0,consts:[[1,"h-fit","flex","font-bold","bg-black","p-2","mt-2","rounded-lg","bottom-2","hover:bg-gray-800","transition-colors","text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-google","my-auto","mr-2"],["d","M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z"]],template:function(e,n){1&e&&(C(0,"button",0),J("click",function(){return n.loginBtn()}),Hn(),C(1,"svg",1),_e(2,"path",2),A(),H(3," Sign in with Google\n"),A())}});class wd{}wd.\u0275fac=function(e){return new(e||wd)},wd.\u0275cmp=Lt({type:wd,selectors:[["app-login"]],decls:13,vars:0,consts:[[1,"h-screen"],[1,"relative","h-screen","bg-gradient-to-t","lg:bg-gradient-to-l","from-rose-500","via-yellow-500","to-transparent","z-50"],[1,"font-bold","text-5xl","md:text-6xl","mx-auto","lg:ml-auto","lg:mr-32","pt-8","w-fit"],[1,"absolute","inset-x-0","lg:mr-48","bottom-1/2","w-fit","mx-auto"],[1,"absolute","bottom-8","inset-x-0","font-bold","text-center","lg:text-end","mx-auto","lg:mr-32","w-fit"],[1,"font-light","text-sm"],["src","./assets/CardImg.jpeg",1,"object-cover","absolute","top-0","h-2/3","w-screen","lg:h-screen","lg:w-2/3","z-0"]],template:function(e,n){1&e&&(C(0,"div",0)(1,"main",1)(2,"h1",2),H(3,"Workout App"),A(),C(4,"ul",3)(5,"li"),_e(6,"app-google-login"),A()(),C(7,"h2",4),H(8,"Workout App \xa9 2023 "),_e(9,"br"),C(10,"span",5),H(11,"No Rights Reserved"),A()()(),_e(12,"img",6),A())},dependencies:[vd]});let DB=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(D(li),D(qn))},t.\u0275dir=Z({type:t}),t})(),Lo=(()=>{class t extends DB{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Bt(t)))(r||t)}}(),t.\u0275dir=Z({type:t,features:[Se]}),t})();const Yr=new j("NgValueAccessor"),Oue={provide:Yr,useExisting:Pe(()=>jg),multi:!0},Lue=new j("CompositionEventMode");let jg=(()=>{class t extends DB{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Fue(){const t=Ur()?Ur().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(D(li),D(qn),D(Lue,8))},t.\u0275dir=Z({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&J("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ge([Oue]),Se]}),t})();const cn=new j("NgValidators"),ws=new j("NgAsyncValidators");function OB(t){return null!=t}function FB(t){return gc(t)?dt(t):t}function LB(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function VB(t,e){return e.map(n=>n(t))}function UB(t){return t.map(e=>function Bue(t){return!t.validate}(e)?e:n=>e.validate(n))}function rT(t){return null!=t?function BB(t){if(!t)return null;const e=t.filter(OB);return 0==e.length?null:function(n){return LB(VB(n,e))}}(UB(t)):null}function iT(t){return null!=t?function $B(t){if(!t)return null;const e=t.filter(OB);return 0==e.length?null:function(n){return function Nue(...t){const e=aS(t),{args:n,keys:r}=UR(t),i=new Je(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;fr(n[l]).subscribe(vt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?$R(r,a):a),s.complete())}))}});return e?i.pipe(BR(e)):i}(VB(n,e).map(FB)).pipe(he(LB))}}(UB(t)):null}function jB(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function sT(t){return t?Array.isArray(t)?t:[t]:[]}function Gg(t,e){return Array.isArray(t)?t.includes(e):t===e}function qB(t,e){const n=sT(e);return sT(t).forEach(i=>{Gg(n,i)||n.push(i)}),n}function zB(t,e){return sT(e).filter(n=>!Gg(t,n))}class WB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=iT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class En extends WB{get formDirective(){return null}get path(){return null}}class Is extends WB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class KB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let QB=(()=>{class t extends KB{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D(Is,2))},t.\u0275dir=Z({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Ph("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Se]}),t})();const Id="VALID",zg="INVALID",ku="PENDING",Ed="DISABLED";function Wg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class JB{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Id}get invalid(){return this.status===zg}get pending(){return this.status==ku}get disabled(){return this.status===Ed}get enabled(){return this.status!==Ed}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(qB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(qB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zB(e,this._rawAsyncValidators))}hasValidator(e){return Gg(this._rawValidators,e)}hasAsyncValidator(e){return Gg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ku,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Ed,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Id,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Id||this.status===ku)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ed:Id}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ku,this._hasOwnPendingAsyncValidator=!0;const n=FB(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Fe,this.statusChanges=new Fe}_calculateStatus(){return this._allControlsDisabled()?Ed:this.errors?zg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ku)?ku:this._anyControlsHaveStatus(zg)?zg:Id}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Wg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Kue(t){return Array.isArray(t)?rT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Que(t){return Array.isArray(t)?iT(t):t||null}(this._rawAsyncValidators)}}const bd=new j("CallSetDisabledState",{providedIn:"root",factory:()=>hT}),hT="always";function Dd(t,e,n=hT){(function fT(t,e){const n=function HB(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(jB(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function GB(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(jB(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Yg(e._rawValidators,i),Yg(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Zue(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&e$(t,e)})}(t,e),function ece(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Jue(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&e$(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Xue(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Yg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function e$(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function r$(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function i$(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const s$=class extends JB{constructor(e=null,n,r){super(function cT(t){return(Wg(t)?t.validators:t)||null}(n),function lT(t,e){return(Wg(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Wg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=i$(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){r$(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){r$(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){i$(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},uce={provide:Is,useExisting:Pe(()=>_T)},u$=(()=>Promise.resolve())();let _T=(()=>{class t extends Is{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new s$,this._registered=!1,this.update=new Fe,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function mT(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===jg?n=s:function rce(t){return Object.getPrototypeOf(t.constructor)===Lo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function gT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Dd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){u$.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Aa(r);u$.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Kg(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(D(En,9),D(cn,10),D(ws,10),D(Yr,10),D(Yh,8),D(bd,8))},t.\u0275dir=Z({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ge([uce]),Se,ir]}),t})(),l$=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Cn({type:t}),t.\u0275inj=ln({}),t})(),Nce=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Cn({type:t}),t.\u0275inj=ln({imports:[l$]}),t})(),Pce=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:bd,useValue:n.callSetDisabledState??hT}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Cn({type:t}),t.\u0275inj=ln({imports:[Nce]}),t})();function Fce(t,e){1&t&&(C(0,"div",3),_e(1,"div",4),A())}function Lce(t,e){1&t&&(C(0,"div")(1,"p",24),H(2,"Go to the exercises pages to add exercises to this schedule"),A()())}function Vce(t,e){if(1&t&&(C(0,"li"),H(1),A()),2&t){const n=e.$implicit;G(1),Vr(n.name)}}function Uce(t,e){if(1&t&&(C(0,"div")(1,"ul")(2,"li",25),H(3,"Exercises:"),A(),Ae(4,Vce,2,1,"li",26),A()()),2&t){const n=pe().$implicit;G(4),Ee("ngForOf",n.exercisesInfo)}}function Bce(t,e){if(1&t){const n=Or();C(0,"div",11)(1,"div",12)(2,"div",5),Hn(),C(3,"svg",13),_e(4,"path",14),A(),ai(),C(5,"h2",15),H(6),A()(),C(7,"div",16)(8,"div"),H(9,"SUN"),A(),C(10,"div"),H(11,"MON"),A(),C(12,"div"),H(13,"TUE"),A(),C(14,"div"),H(15,"WED"),A(),C(16,"div"),H(17,"THU"),A(),C(18,"div"),H(19,"FRI"),A(),C(20,"div"),H(21,"SAT"),A()(),C(22,"button",17),J("click",function(){const s=We(n).$implicit;return Ke(pe(3).deleteScheduleBtn(s.firestoreID))}),Hn(),C(23,"svg",18),_e(24,"path",19),A()(),ai(),C(25,"button",20),Hn(),C(26,"svg",21),_e(27,"path",22),A()()(),ai(),C(28,"div",23),Ae(29,Lce,3,0,"div",1),Ae(30,Uce,5,1,"div",1),A()()}if(2&t){const n=e.$implicit;G(6),Vr(n.name),G(2),xt("px-1.5 py-2 rounded-full font-mono bg-black text-white ",n.days.includes("sun")?"outline outline-2":"",""),G(2),xt("px-1.5 py-2 rounded-full font-mono bg-black text-white ",n.days.includes("mon")?"outline outline-2":"",""),G(2),xt("px-1.5 py-2 rounded-full font-mono bg-black text-white ",n.days.includes("tue")?"outline outline-2":"",""),G(2),xt("px-1.5 py-2 rounded-full font-mono bg-black text-white ",n.days.includes("wed")?"outline outline-2":"",""),G(2),xt("px-1.5 py-2 rounded-full font-mono bg-black text-white ",n.days.includes("thu")?"outline outline-2":"",""),G(2),xt("px-1.5 py-2 rounded-full font-mono bg-black text-white ",n.days.includes("fri")?"outline outline-2":"",""),G(2),xt("px-1.5 py-2 rounded-full font-mono bg-black text-white ",n.days.includes("sat")?"outline outline-2":"",""),G(9),Ee("ngIf",!(n.exercises.length>0)),G(1),Ee("ngIf",n.exercises.length>0)}}function $ce(t,e){if(1&t&&(Hn(),ai(),C(0,"div"),Ae(1,Bce,31,24,"div",10),A()),2&t){const n=pe(2);G(1),Ee("ngForOf",n.userSchedules)}}function jce(t,e){1&t&&(Hn(),ai(),C(0,"div")(1,"p",27),H(2,"You can add schedules clicking on the button with an plus sign"),A()())}function Hce(t,e){if(1&t){const n=Or();C(0,"div")(1,"div",5)(2,"h1",6),H(3,"Schedules"),A(),C(4,"button",7),J("click",function(){return We(n),Ke(pe().openCreationPrompt())}),Hn(),C(5,"svg",8),_e(6,"path",9),A()()(),Ae(7,$ce,2,1,"div",1),Ae(8,jce,3,0,"div",1),A()}if(2&t){const n=pe();G(7),Ee("ngIf",n.userSchedules.length>0),G(1),Ee("ngIf",!(n.userSchedules.length>0))}}function Gce(t,e){if(1&t){const n=Or();C(0,"div",28),J("click",function(){return We(n),Ke(pe().closeCreationPrompt())}),C(1,"div",29),J("click",function(i){return i.stopPropagation()}),C(2,"div",30)(3,"p",31),H(4,"New Schedule:"),A(),C(5,"input",32),J("ngModelChange",function(i){return We(n),Ke(pe().newScheduleName=i)}),A(),C(6,"div",33)(7,"button",34),J("click",function(){return We(n),Ke(pe().addDayBtn("sun"))}),H(8,"SUN"),A(),C(9,"button",34),J("click",function(){return We(n),Ke(pe().addDayBtn("mon"))}),H(10,"MON"),A(),C(11,"button",34),J("click",function(){return We(n),Ke(pe().addDayBtn("tue"))}),H(12,"TUE"),A(),C(13,"button",34),J("click",function(){return We(n),Ke(pe().addDayBtn("wed"))}),H(14,"WED"),A(),C(15,"button",34),J("click",function(){return We(n),Ke(pe().addDayBtn("thu"))}),H(16,"THU"),A(),C(17,"button",34),J("click",function(){return We(n),Ke(pe().addDayBtn("fri"))}),H(18,"FRI"),A(),C(19,"button",34),J("click",function(){return We(n),Ke(pe().addDayBtn("sat"))}),H(20,"SAT"),A()()(),C(21,"div",35)(22,"button",36),J("click",function(){return We(n),Ke(pe().closeCreationPrompt())}),H(23,"Cancel"),A(),C(24,"button",37),J("click",function(){return We(n),Ke(pe().createScheduleBtn())}),H(25,"Create"),A()()()()}if(2&t){const n=pe();G(5),Ee("ngModel",n.newScheduleName),G(2),xt("px-1.5 py-2 rounded-full font-mono hover:bg-gray-800 text-slate-300 hover:text-white transition-all hover:bg-neutral-700/50 border border-neutral-500 ",n.daysOfWeek.includes("sun")?"outline outline-1":"",""),G(2),xt("px-1.5 py-2 rounded-full font-mono hover:bg-gray-800 text-slate-300 hover:text-white transition-all hover:bg-neutral-700/50 border border-neutral-500 ",n.daysOfWeek.includes("mon")?"outline outline-1":"",""),G(2),xt("px-1.5 py-2 rounded-full font-mono hover:bg-gray-800 text-slate-300 hover:text-white transition-all hover:bg-neutral-700/50 border border-neutral-500 ",n.daysOfWeek.includes("tue")?"outline outline-1":"",""),G(2),xt("px-1.5 py-2 rounded-full font-mono hover:bg-gray-800 text-slate-300 hover:text-white transition-all hover:bg-neutral-700/50 border border-neutral-500 ",n.daysOfWeek.includes("wed")?"outline outline-1":"",""),G(2),xt("px-1.5 py-2 rounded-full font-mono hover:bg-gray-800 text-slate-300 hover:text-white transition-all hover:bg-neutral-700/50 border border-neutral-500 ",n.daysOfWeek.includes("thu")?"outline outline-1":"",""),G(2),xt("px-1.5 py-2 rounded-full font-mono hover:bg-gray-800 text-slate-300 hover:text-white transition-all hover:bg-neutral-700/50 border border-neutral-500 ",n.daysOfWeek.includes("fri")?"outline outline-1":"",""),G(2),xt("px-1.5 py-2 rounded-full font-mono hover:bg-gray-800 text-slate-300 hover:text-white transition-all hover:bg-neutral-700/50 border border-neutral-500 ",n.daysOfWeek.includes("sat")?"outline outline-1":"","")}}function qce(t,e){if(1&t){const n=Or();C(0,"div",28),J("click",function(){return We(n),Ke(pe().closeCreationPrompt())}),C(1,"div",29),J("click",function(i){return i.stopPropagation()}),C(2,"div",30)(3,"p",31),H(4,"Do you really want to delete this schedule?"),A()(),C(5,"div",35)(6,"button",36),J("click",function(){We(n);const i=pe();return i.showDeletionPrompt=!1,Ke(i.scheduleIDtoDelete="")}),H(7,"No"),A(),C(8,"button",37),J("click",function(){return We(n),Ke(pe().deleteSchedule())}),H(9,"Yes"),A()()()()}}class Td{constructor(e,n){this.schedulesService=e,this.exercisesService=n,this.userSchedules=[],this.showCreationPrompt=!1,this.showDeletionPrompt=!1,this.scheduleIDtoDelete="",this.loadEmitter=new Fe,this.loadingSchedules=!0,this.newScheduleName="",this.daysOfWeek=new Array}ngOnInit(){var e=this;return g(function*(){yield e.updateSchedulesAndExercises(),e.loadingSchedules=!1,e.update()})()}ngOnDestroy(){this.showCreationPrompt=!1,this.showDeletionPrompt=!1,this.closeCreationPrompt()}addDayBtn(e){this.daysOfWeek.includes(e)?this.daysOfWeek.forEach((n,r)=>{n==e&&this.daysOfWeek.splice(r,1)}):this.daysOfWeek.push(e)}createScheduleBtn(){var e=this;return g(function*(){if(!e.newScheduleName||e.daysOfWeek.length<=0)return;e.startLoading();let n={name:e.newScheduleName,days:e.daysOfWeek,exercises:[]};e.closeCreationPrompt(),yield e.schedulesService.createNewSchedule(n),yield e.updateSchedulesAndExercises(),e.stopLoading()})()}deleteScheduleBtn(e){var n=this;return g(function*(){n.showDeletionPrompt=!0,n.scheduleIDtoDelete=e})()}deleteSchedule(){var e=this;return g(function*(){e.showDeletionPrompt=!1,e.startLoading(),yield e.schedulesService.deleteSchedule(e.scheduleIDtoDelete),yield e.updateSchedulesAndExercises(),e.stopLoading()})()}getExercisesInfo(){var e=this;return g(function*(){for(let n in e.userSchedules)if(e.userSchedules[n].exercises){e.userSchedules[n].exercisesInfo=new Array;for(const r of e.userSchedules[n].exercises)e.userSchedules[n].exercisesInfo.push(yield e.exercisesService.getExercise(r))}})()}updateSchedulesAndExercises(){var e=this;return g(function*(){e.userSchedules=yield e.schedulesService.getUserSchedules(),yield e.getExercisesInfo()})()}openCreationPrompt(){this.showCreationPrompt=!0}closeCreationPrompt(){this.showCreationPrompt=!1,this.newScheduleName="",this.daysOfWeek=new Array}update(){this.loadEmitter.emit(this.loadingSchedules)}startLoading(){this.loadingSchedules=!0,this.update()}stopLoading(){this.loadingSchedules=!1,this.update()}}function zce(t,e){1&t&&_e(0,"app-footer")}Td.\u0275fac=function(e){return new(e||Td)(D(_s),D(er))},Td.\u0275cmp=Lt({type:Td,selectors:[["app-schedules"]],outputs:{loadEmitter:"loadEmitter"},decls:4,vars:4,consts:[["class","flex fixed h-full w-full place-content-center bg-opacity-0 top-0 left-0",4,"ngIf"],[4,"ngIf"],["class","flex fixed h-full w-full place-content-center bg-opacity-0 top-0 left-0 z-10",3,"click",4,"ngIf"],[1,"flex","fixed","h-full","w-full","place-content-center","bg-opacity-0","top-0","left-0"],[1,"m-auto","bg-yellow-500","rounded-full","animate-ping","w-16","h-16"],[1,"flex"],[1,"text-4xl","font-bold","mr-auto"],[1,"bg-black","p-2","rounded-lg","bottom-2","hover:bg-gray-800","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-lg","fill-white"],["fill-rule","evenodd","d","M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"],["class","text-white my-5 relative",4,"ngFor","ngForOf"],[1,"text-white","my-5","relative"],[1,"p-2","bg-gradient-to-r","from-rose-500","to-yellow-500","rounded-t-lg"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-fill","my-auto"],["d","M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"],[1,"text-2xl","font-bold","ml-2"],[1,"font-bold","flex","gap-3","mt-3","w-fit","flex-wrap","justify-center","md:justify-start"],[1,"md:text-slate-200","hover:text-white","transition-colors","absolute","p-2","top-2","right-3",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-lg"],["d","M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"],[1,"md:text-slate-200","hover:text-white","transition-colors","absolute","p-2","top-2","right-12"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil-fill"],["d","M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"],[1,"p-2","bg-black","rounded-b-lg"],[1,"text-center","font-light"],[1,"font-bold"],[4,"ngFor","ngForOf"],[1,"text-center","font-light","my-6"],[1,"flex","fixed","h-full","w-full","place-content-center","bg-opacity-0","top-0","left-0","z-10",3,"click"],[1,"m-auto","h-fit","w-[84%]","md:w-[70%]","lg:w-[50%]","2xl:w-[33.3333333%]","rounded-lg","z-50","backdrop-blur-sm","bg-black/90","text-white","border","border-neutral-500",3,"click"],[1,"p-4"],[1,"font-extrabold"],["type","text","placeholder","Schedule name",1,"mt-4","p-2","rounded-lg","w-full","bg-transparent","placeholder:text-slate-300","transition-all","hover:bg-gray-800","text-slate-300","hover:text-white","transition-all","hover:bg-neutral-700/50","border","border-neutral-500",3,"ngModel","ngModelChange"],[1,"flex","gap-2","mt-4","mx-auto","w-fit","flex-wrap","justify-center"],[3,"click"],[1,"mt-6","grid","grid-cols-2","divide-x","divide-neutral-500","border-t","border-t-neutral-500"],[1,"text-slate-300","hover:text-white","transition-all","p-4","rounded-bl-lg","hover:bg-neutral-700/50",3,"click"],[1,"text-slate-300","hover:text-white","transition-all","p-4","rounded-br-lg","hover:bg-neutral-700/50",3,"click"]],template:function(e,n){1&e&&(Ae(0,Fce,2,0,"div",0),Ae(1,Hce,9,2,"div",1),Ae(2,Gce,26,22,"div",2),Ae(3,qce,10,0,"div",2)),2&e&&(Ee("ngIf",n.loadingSchedules),G(1),Ee("ngIf",!n.loadingSchedules),G(1),Ee("ngIf",n.showCreationPrompt),G(1),Ee("ngIf",n.showDeletionPrompt))},dependencies:[xc,Ki,jg,QB,_T]});class Sd{constructor(){this.loadingSchedules=!0}}Sd.\u0275fac=function(e){return new(e||Sd)},Sd.\u0275cmp=Lt({type:Sd,selectors:[["app-you"]],decls:4,vars:1,consts:[[1,"mx-4","md:mx-24","lg:mx-48","2xl:max-w-[50%]","2xl:mx-[25%]","my-2"],[3,"loadEmitter"],[4,"ngIf"]],template:function(e,n){1&e&&(_e(0,"app-navbar"),C(1,"main",0)(2,"app-schedules",1),J("loadEmitter",function(i){return n.loadingSchedules=i}),A()(),Ae(3,zce,1,0,"app-footer",2)),2&e&&(G(3),Ee("ngIf",!n.loadingSchedules))},dependencies:[Ki,Ws,Fo,Td]});class Ad{constructor(e,n){this.auth=e,this.router=n,this.userInfo={uid:null,email:null,displayName:null,photoURL:null}}ngOnInit(){let e=this.auth.getCurrentUser();this.userInfo.uid=e.uid,this.userInfo.email=e.email,this.userInfo.displayName=e?.displayName,setTimeout(()=>this.userInfo.photoURL=e?.photoURL,20)}logoutBtn(){var e=this;return g(function*(){yield e.auth.logout().then(()=>{e.router.navigate(["login"])})})()}}Ad.\u0275fac=function(e){return new(e||Ad)(D(Vi),D(sn))},Ad.\u0275cmp=Lt({type:Ad,selectors:[["app-account-info"]],decls:9,vars:3,consts:[[1,"flex"],[1,"mr-auto"],[1,"font-bold"],[1,"font-light","text-sm"],[1,"bg-black","p-2","rounded-lg","mt-2","bottom-2","hover:bg-gray-800","transition-colors","text-white",3,"click"],[1,"rounded-full",3,"src"]],template:function(e,n){1&e&&(C(0,"div",0)(1,"div",1)(2,"p",2),H(3),A(),C(4,"p",3),H(5),A(),C(6,"button",4),J("click",function(){return n.logoutBtn()}),H(7,"Log Out"),A()(),_e(8,"img",5),A()),2&e&&(G(3),Vs(" ",n.userInfo.displayName," "),G(2),Vs(" ",n.userInfo.email," "),G(3),Ee("src",n.userInfo.photoURL,ac))}});class xd{}xd.\u0275fac=function(e){return new(e||xd)},xd.\u0275cmp=Lt({type:xd,selectors:[["app-settings"]],decls:4,vars:0,consts:[[1,"mx-4","md:mx-24","lg:mx-48","2xl:max-w-[50%]","2xl:mx-[25%]","my-2"]],template:function(e,n){1&e&&(_e(0,"app-navbar"),C(1,"main",0),_e(2,"app-account-info"),A(),_e(3,"app-footer"))},dependencies:[Ws,Fo,Ad]});class Ui{constructor(e,n){this.auth=e,this.router=n}canActivate(e,n){var r=this;return g(function*(){return(yield r.auth.isLoggedIn())?"login"!=e.url[0].path||(yield r.router.navigate(["home"]),!1):(yield r.router.navigate(["login"]),!1)})()}}Ui.\u0275fac=function(e){return new(e||Ui)($(Vi),$(sn))},Ui.\u0275prov=z({token:Ui,factory:Ui.\u0275fac,providedIn:"root"});const Wce=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:_d,canActivate:[Ui]},{path:"you",component:Sd,canActivate:[Ui]},{path:"settings",component:xd,canActivate:[Ui]},{path:"login",component:wd,canActivate:[Ui]}];class Ru{}Ru.\u0275fac=function(e){return new(e||Ru)},Ru.\u0275mod=Cn({type:Ru}),Ru.\u0275inj=ln({imports:[eP.forRoot(Wce),eP]});class Md{constructor(){this.title="workout-app"}}Md.\u0275fac=function(e){return new(e||Md)},Md.\u0275cmp=Lt({type:Md,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){1&e&&_e(0,"router-outlet")},dependencies:[Sv]});const A$="firebasestorage.googleapis.com";class Ze extends Wn{constructor(e,n,r=0){super(CT(e),`Firebase Storage: ${n} (${CT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ze.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return CT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function CT(t){return"storage/"+t}function ST(t){return new Ze("invalid-argument",t)}function N$(){return new Ze("app-deleted","The Firebase app was deleted.")}class bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=bn.makeFromUrl(e,n)}catch{return new bn(e,"")}if(""===r.path)return r;throw function rle(t){return new Ze("invalid-default-bucket","Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(M){M.path_=decodeURIComponent(M.path)}const d=n.replace(/[.]/g,"\\."),_=[{regex:a,indices:{bucket:1,path:3},postModify:function s(M){"/"===M.path.charAt(M.path.length-1)&&(M.path_=M.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===A$?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let M=0;M<_.length;M++){const L=_[M],V=L.regex.exec(e);if(V){let tr=V[L.indices.path];tr||(tr=""),r=new bn(V[L.indices.bucket],tr),L.postModify(r);break}}if(null==r)throw function nle(t){return new Ze("invalid-url","Invalid URL '"+t+"'.")}(e);return r}}class cle{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function xT(t,e,n,r){if(r<e)throw ST(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw ST(`Invalid value for '${t}'. Expected ${n} or less.`)}var Es=(()=>(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Es||(Es={})),Es))();class gle{constructor(e,n,r,i,s,o,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function hle(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=function TT(){return new Ze("unknown","An unknown error occurred, please check the error payload for server response.")}();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?N$():function k$(){return new Ze("canceled","User canceled the upload/download.")}():function M$(){return new Ze("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new Jg(!1,null,!0)):this.backoffId_=function lle(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,u())},y)}function h(){s&&clearTimeout(s)}function f(y,...I){if(c)return void h();if(y)return h(),void l.call(null,y,...I);if(u()||o)return h(),void l.call(null,y,...I);let _;r<64&&(r*=2),1===a?(a=2,_=0):_=1e3*(r+Math.random()),d(_)}let p=!1;function m(y){p||(p=!0,h(),!c&&(null!==i?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}((r,i)=>{if(i)return void r(!1,new Jg(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Es.NO_ERROR,u=s.getStatus();if((!a||function F$(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(u,this.additionalRetryCodes_))&&this.retry){const l=s.getErrorCode()===Es.ABORT;return void r(!1,new Jg(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new Jg(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function dle(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Jg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class Uo{constructor(e,n){this._service=e,this._location=n instanceof bn?n:bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Uo(e,n)}get root(){const e=new bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function $$(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function xle(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new bn(this._location.bucket,e);return new Uo(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function ule(t){return new Ze("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function nj(t,e){const n=e?.storageBucket;return null==n?null:bn.makeFromBucketSpec(n,t)}class FT{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=A$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?bn.makeFromBucketSpec(i,this._host):nj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?bn.makeFromBucketSpec(this._url,e):nj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Uo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new cle(N$());{const o=function wle(t,e,n,r,i,s,o=!0){const a=function O$(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function _le(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function mle(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function yle(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function vle(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new gle(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return g(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const rj="@firebase/storage",sj="storage";function pde(t=jf(),e){const r=Zs(t=mt(t),sj).getImmediate({identifier:e}),i=oP("storage");return i&&function gde(t,e,n,r={}){!function fde(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:uP(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function mde(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new FT(n,r,i,e,Js)}!function yde(){on(new Ht(sj,mde,"PUBLIC").setMultipleInstances(!0)),Be(rj,"0.10.0",""),Be(rj,"0.10.0","esm2017")}();class LT{constructor(e){return e}}const oj="storage",VT=new j("angularfire2.storage-instances");function wde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new LT(r)}}const Ide={provide:class _de{constructor(){return Yf(oj)}},deps:[[new ht,VT]]},Ede={provide:LT,useFactory:function vde(t,e){const n=Qf(oj,t,e);return n&&new LT(n)},deps:[[new ht,VT],oo]};let bde=(()=>{class t{constructor(){Be("angularfire",tl.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Cn({type:t}),t.\u0275inj=ln({providers:[Ede,Ide]}),t})();const Cde=zt(pde,!0),Tde={apiKey:"AIzaSyCOwNyLOf0djhiSgQA-b6PJbgHisQfYG_s",authDomain:"workout-app-edhet.firebaseapp.com",projectId:"workout-app-edhet",storageBucket:"workout-app-edhet.appspot.com",messagingSenderId:"1076716434809",appId:"1:1076716434809:web:7ceb1ba405a610e45f2ba8",measurementId:"G-Q2G1LQH2HH"};class Ou{}Ou.\u0275fac=function(e){return new(e||Ou)},Ou.\u0275mod=Cn({type:Ou,bootstrap:[Md]}),Ou.\u0275inj=ln({imports:[S7,Ru,function VJ(t,...e){return{ngModule:LJ,providers:[{provide:$I,useFactory:FJ(t),multi:!0,deps:[Ue,gn,Xf,...e]}]}}(()=>UJ(Tde)),function uue(t,...e){return{ngModule:aue,providers:[{provide:eT,useFactory:iue(t),multi:!0,deps:[Ue,gn,Xf,Zf,[new ht,nb],[new ht,sp],...e]}]}}(()=>due()),function Dde(t,...e){return{ngModule:bde,providers:[{provide:VT,useFactory:wde(t),multi:!0,deps:[Ue,gn,Xf,Zf,[new ht,nb],[new ht,sp],...e]}]}}(()=>Cde()),function _re(t,...e){return{ngModule:yre,providers:[{provide:rb,useFactory:pre(t),multi:!0,deps:[Ue,gn,Xf,Zf,[new ht,sp],...e]}]}}(()=>vre()),Pce]}),T7().bootstrapModule(Ou).catch(t=>console.error(t))}},Ne=>{Ne(Ne.s=55)}]);