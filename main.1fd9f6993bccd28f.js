"use strict";(self.webpackChunkworkout_app=self.webpackChunkworkout_app||[]).push([[179],{116:()=>{function Pe(t){return"function"==typeof t}function Lu(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Vd=Lu(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function $o(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Vn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Pe(r))try{r()}catch(s){e=s instanceof Vd?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{qT(s)}catch(o){e=e??[],o instanceof Vd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Vd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)qT(e);else{if(e instanceof Vn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&$o(n,e)}remove(e){const{_finalizers:n}=this;n&&$o(n,e),e instanceof Vn&&e._removeParent(this)}}Vn.EMPTY=(()=>{const t=new Vn;return t.closed=!0,t})();const HT=Vn.EMPTY;function GT(t){return t instanceof Vn||t&&"closed"in t&&Pe(t.remove)&&Pe(t.add)&&Pe(t.unsubscribe)}function qT(t){Pe(t)?t():t.unsubscribe()}const Ds={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ud={setTimeout(t,e,...n){const{delegate:r}=Ud;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Ud;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function zT(t){Ud.setTimeout(()=>{const{onUnhandledError:e}=Ds;if(!e)throw t;e(t)})}function WT(){}const cj=om("C",void 0,void 0);function om(t,e,n){return{kind:t,value:e,error:n}}let Cs=null;function Bd(t){if(Ds.useDeprecatedSynchronousErrorHandling){const e=!Cs;if(e&&(Cs={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=Cs;if(Cs=null,n)throw r}}else t()}class am extends Vn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,GT(e)&&e.add(this)):this.destination=mj}static create(e,n,r){return new Vu(e,n,r)}next(e){this.isStopped?cm(function dj(t){return om("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?cm(function lj(t){return om("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cm(cj,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const fj=Function.prototype.bind;function um(t,e){return fj.call(t,e)}class pj{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){$d(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){$d(r)}else $d(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){$d(n)}}}class Vu extends am{constructor(e,n,r){let i;if(super(),Pe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Ds.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&um(e.next,s),error:e.error&&um(e.error,s),complete:e.complete&&um(e.complete,s)}):i=e}this.destination=new pj(i)}}function $d(t){Ds.useDeprecatedSynchronousErrorHandling?function hj(t){Ds.useDeprecatedSynchronousErrorHandling&&Cs&&(Cs.errorThrown=!0,Cs.error=t)}(t):zT(t)}function cm(t,e){const{onStoppedNotification:n}=Ds;n&&Ud.setTimeout(()=>n(t,e))}const mj={closed:!0,next:WT,error:function gj(t){throw t},complete:WT},lm="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ts(t){return t}function KT(t){return 0===t.length?Ts:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let Xe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function vj(t){return t&&t instanceof am||function _j(t){return t&&Pe(t.next)&&Pe(t.error)&&Pe(t.complete)}(t)&&GT(t)}(n)?n:new Vu(n,r,i);return Bd(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=QT(r))((i,s)=>{const o=new Vu({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[lm](){return this}pipe(...n){return KT(n)(this)}toPromise(n){return new(n=QT(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function QT(t){var e;return null!==(e=t??Ds.Promise)&&void 0!==e?e:Promise}const wj=Lu(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ri=(()=>{class t extends Xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new YT(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new wj}next(n){Bd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){Bd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Bd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?HT:(this.currentObservers=null,s.push(n),new Vn(()=>{this.currentObservers=null,$o(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new Xe;return n.source=this,n}}return t.create=(e,n)=>new YT(e,n),t})();class YT extends ri{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:HT}}function XT(t){return Pe(t?.lift)}function St(t){return e=>{if(XT(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function yt(t,e,n,r,i){return new Ij(t,e,n,r,i)}class Ij extends am{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function fe(t,e){return St((n,r)=>{let i=0;n.subscribe(yt(r,s=>{r.next(t.call(e,s,i++))}))})}function hm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function Ss(t){return this instanceof Ss?(this.v=t,this):new Ss(t)}function Dj(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(p,m){s.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function u(h){h.value instanceof Ss?Promise.resolve(h.value.v).then(c,l):d(s[0][2],h)}(r[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function l(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Cj(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function eS(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){!function i(s,o,a,u){Promise.resolve(u).then(function(c){s({value:c,done:a})},o)}(a,u,(o=t[s](o)).done,o.value)})}}}const tS=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function nS(t){return Pe(t?.then)}function rS(t){return Pe(t[lm])}function iS(t){return Symbol.asyncIterator&&Pe(t?.[Symbol.asyncIterator])}function sS(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const oS=function Sj(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function aS(t){return Pe(t?.[oS])}function uS(t){return Dj(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield Ss(n.read());if(i)return yield Ss(void 0);yield yield Ss(r)}}finally{n.releaseLock()}})}function cS(t){return Pe(t?.getReader)}function gr(t){if(t instanceof Xe)return t;if(null!=t){if(rS(t))return function Aj(t){return new Xe(e=>{const n=t[lm]();if(Pe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(tS(t))return function xj(t){return new Xe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(nS(t))return function Mj(t){return new Xe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,zT)})}(t);if(iS(t))return lS(t);if(aS(t))return function kj(t){return new Xe(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(cS(t))return function Rj(t){return lS(uS(t))}(t)}throw sS(t)}function lS(t){return new Xe(e=>{(function Nj(t,e){var n,r,i,s;return function bj(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(l){try{c(r.next(l))}catch(d){o(d)}}function u(l){try{c(r.throw(l))}catch(d){o(d)}}function c(l){l.done?s(l.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=Cj(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function ii(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Ot(t,e,n=1/0){return Pe(e)?Ot((r,i)=>fe((s,o)=>e(r,s,i,o))(gr(t(r,i))),n):("number"==typeof e&&(n=e),St((r,i)=>function Pj(t,e,n,r,i,s,o,a){const u=[];let c=0,l=0,d=!1;const h=()=>{d&&!u.length&&!c&&e.complete()},f=m=>c<r?p(m):u.push(m),p=m=>{s&&e.next(m),c++;let y=!1;gr(n(m,l++)).subscribe(yt(e,I=>{i?.(I),s?f(I):e.next(I)},()=>{y=!0},void 0,()=>{if(y)try{for(c--;u.length&&c<r;){const I=u.shift();o?ii(e,o,()=>p(I)):p(I)}h()}catch(I){e.error(I)}}))};return t.subscribe(yt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(r,i,t,n)))}function jo(t=1/0){return Ot(Ts,t)}const si=new Xe(t=>t.complete());function fm(t){return t[t.length-1]}function dS(t){return Pe(fm(t))?t.pop():void 0}function Uu(t){return function Fj(t){return t&&Pe(t.schedule)}(fm(t))?t.pop():void 0}function jd(t,e=0){return St((n,r)=>{n.subscribe(yt(r,i=>ii(r,t,()=>r.next(i),e),()=>ii(r,t,()=>r.complete(),e),i=>ii(r,t,()=>r.error(i),e)))})}function Hd(t,e=0){return St((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function hS(t,e){if(!t)throw new Error("Iterable cannot be null");return new Xe(n=>{ii(n,e,()=>{const r=t[Symbol.asyncIterator]();ii(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ct(t,e){return e?function Hj(t,e){if(null!=t){if(rS(t))return function Vj(t,e){return gr(t).pipe(Hd(e),jd(e))}(t,e);if(tS(t))return function Bj(t,e){return new Xe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(nS(t))return function Uj(t,e){return gr(t).pipe(Hd(e),jd(e))}(t,e);if(iS(t))return hS(t,e);if(aS(t))return function $j(t,e){return new Xe(n=>{let r;return ii(n,e,()=>{r=t[oS](),ii(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Pe(r?.return)&&r.return()})}(t,e);if(cS(t))return function jj(t,e){return hS(uS(t),e)}(t,e)}throw sS(t)}(t,e):gr(t)}function pm(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Vu({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function Re(t){for(let e in t)if(t[e]===Re)return e;throw Error("Could not find renamed property on target object.")}function gm(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ne(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Ne).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function mm(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const zj=Re({__forward_ref__:Re});function Oe(t){return t.__forward_ref__=Oe,t.toString=function(){return Ne(this())},t}function Y(t){return ym(t)?t():t}function ym(t){return"function"==typeof t&&t.hasOwnProperty(zj)&&t.__forward_ref__===Oe}function _m(t){return t&&!!t.\u0275providers}const fS="https://g.co/ng/security#xss";class x extends Error{constructor(e,n){super(function Gd(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}(e,n)),this.code=e}}function ne(t){return"string"==typeof t?t:null==t?"":String(t)}function qd(t,e){throw new x(-201,!1)}function rr(t,e){null==t&&function Te(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function dn(t){return{providers:t.providers||[],imports:t.imports||[]}}function zd(t){return pS(t,Wd)||pS(t,mS)}function pS(t,e){return t.hasOwnProperty(e)?t[e]:null}function gS(t){return t&&(t.hasOwnProperty(vm)||t.hasOwnProperty(tH))?t[vm]:null}const Wd=Re({\u0275prov:Re}),vm=Re({\u0275inj:Re}),mS=Re({ngInjectableDef:Re}),tH=Re({ngInjectorDef:Re});var X=(()=>((X=X||{})[X.Default=0]="Default",X[X.Host=1]="Host",X[X.Self=2]="Self",X[X.SkipSelf=4]="SkipSelf",X[X.Optional=8]="Optional",X))();let wm;function ir(t){const e=wm;return wm=t,e}function yS(t,e,n){const r=zd(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&X.Optional?null:void 0!==e?e:void qd(Ne(t))}const Fe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Bu={},Im="__NG_DI_FLAG__",Kd="ngTempTokenPath",iH=/\n/gm,_S="__source";let $u;function Ho(t){const e=$u;return $u=t,e}function oH(t,e=X.Default){if(void 0===$u)throw new x(-203,!1);return null===$u?yS(t,void 0,e):$u.get(t,e&X.Optional?null:void 0,e)}function H(t,e=X.Default){return(function nH(){return wm}()||oH)(Y(t),e)}function me(t,e=X.Default){return H(t,Qd(e))}function Qd(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function bm(t){const e=[];for(let n=0;n<t.length;n++){const r=Y(t[n]);if(Array.isArray(r)){if(0===r.length)throw new x(900,!1);let i,s=X.Default;for(let o=0;o<r.length;o++){const a=r[o],u=aH(a);"number"==typeof u?-1===u?i=a.token:s|=u:i=a}e.push(H(i,s))}else e.push(H(r))}return e}function ju(t,e){return t[Im]=e,t.prototype[Im]=e,t}function aH(t){return t[Im]}function Gi(t){return{toString:t}.toString()}var mr=(()=>((mr=mr||{})[mr.OnPush=0]="OnPush",mr[mr.Default=1]="Default",mr))(),kr=(()=>{return(t=kr||(kr={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",kr;var t})();const oi={},be=[],Yd=Re({\u0275cmp:Re}),Em=Re({\u0275dir:Re}),Dm=Re({\u0275pipe:Re}),wS=Re({\u0275mod:Re}),ai=Re({\u0275fac:Re}),Hu=Re({__NG_ELEMENT_ID__:Re});let lH=0;function _t(t){return Gi(()=>{const n=!0===t.standalone,r={},i={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===mr.OnPush,directiveDefs:null,pipeDefs:null,standalone:n,dependencies:n&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||be,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||kr.Emulated,id:"c"+lH++,styles:t.styles||be,_:null,setInput:null,schemas:t.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},s=t.dependencies,o=t.features;return i.inputs=ES(t.inputs,r),i.outputs=ES(t.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(IS).filter(bS):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(hn).filter(bS):null,i})}function IS(t){return Se(t)||Zt(t)}function bS(t){return null!==t}function Tn(t){return Gi(()=>({type:t.type,bootstrap:t.bootstrap||be,declarations:t.declarations||be,imports:t.imports||be,exports:t.exports||be,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function ES(t,e){if(null==t)return oi;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const J=_t;function Se(t){return t[Yd]||null}function Zt(t){return t[Em]||null}function hn(t){return t[Dm]||null}function Bn(t,e){const n=t[wS]||null;if(!n&&!0===e)throw new Error(`Type ${Ne(t)} does not have '\u0275mod' property.`);return n}function $n(t){return Array.isArray(t)&&"object"==typeof t[1]}function _r(t){return Array.isArray(t)&&!0===t[1]}function Sm(t){return 0!=(4&t.flags)}function Wu(t){return t.componentOffset>-1}function th(t){return 1==(1&t.flags)}function vr(t){return null!==t.template}function fH(t){return 0!=(256&t[2])}function xs(t,e){return t.hasOwnProperty(ai)?t[ai]:null}class mH{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function sr(){return xS}function xS(t){return t.type.prototype.ngOnChanges&&(t.setInput=_H),yH}function yH(){const t=kS(this),e=t?.current;if(e){const n=t.previous;if(n===oi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function _H(t,e,n,r){const i=this.declaredInputs[n],s=kS(t)||function vH(t,e){return t[MS]=e}(t,{previous:oi,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[i];o[i]=new mH(u&&u.currentValue,e,a===oi),t[r]=e}sr.ngInherit=!0;const MS="__ngSimpleChanges__";function kS(t){return t[MS]||null}function Ft(t){for(;Array.isArray(t);)t=t[0];return t}function nh(t,e){return Ft(e[t])}function jn(t,e){return Ft(e[t.index])}function PS(t,e){return t.data[e]}function Hn(t,e){const n=e[t];return $n(n)?n:n[0]}function rh(t){return 64==(64&t[2])}function qi(t,e){return null==e?null:t[e]}function OS(t){t[18]=0}function xm(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const re={lFrame:qS(null),bindingsEnabled:!0};function LS(){return re.bindingsEnabled}function T(){return re.lFrame.lView}function ye(){return re.lFrame.tView}function tn(t){return re.lFrame.contextLView=t,t[8]}function nn(t){return re.lFrame.contextLView=null,t}function Lt(){let t=VS();for(;null!==t&&64===t.type;)t=t.parent;return t}function VS(){return re.lFrame.currentTNode}function Nr(t,e){const n=re.lFrame;n.currentTNode=t,n.isParent=e}function Mm(){return re.lFrame.isParent}function Yo(){return re.lFrame.bindingIndex++}function li(t){const e=re.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function RH(t,e){const n=re.lFrame;n.bindingIndex=n.bindingRootIndex=t,Rm(e)}function Rm(t){re.lFrame.currentDirectiveIndex=t}function jS(){return re.lFrame.currentQueryIndex}function Pm(t){re.lFrame.currentQueryIndex=t}function PH(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function HS(t,e,n){if(n&X.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&X.Host||(i=PH(s),null===i||(s=s[15],10&i.type))););if(null===i)return!1;e=i,t=s}const r=re.lFrame=GS();return r.currentTNode=e,r.lView=t,!0}function Om(t){const e=GS(),n=t[1];re.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function GS(){const t=re.lFrame,e=null===t?null:t.child;return null===e?qS(t):e}function qS(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function zS(){const t=re.lFrame;return re.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const WS=zS;function Fm(){const t=zS();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function gn(){return re.lFrame.selectedIndex}function Ms(t){re.lFrame.selectedIndex=t}function We(){const t=re.lFrame;return PS(t.tView,t.selectedIndex)}function rn(){re.lFrame.currentNamespace="svg"}function Gn(){!function VH(){re.lFrame.currentNamespace=null}()}function ih(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:l}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),u&&(t.viewHooks||(t.viewHooks=[])).push(-n,u),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=l&&(t.destroyHooks||(t.destroyHooks=[])).push(n,l)}}function sh(t,e,n){KS(t,e,3,n)}function oh(t,e,n,r){(3&t[2])===n&&KS(t,e,n,r)}function Lm(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function KS(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(t[18]+=65536),(a<s||-1==s)&&($H(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function $H(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Qu{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Um(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];YS(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function QS(t){return 3===t||4===t||6===t}function YS(t){return 64===t.charCodeAt(0)}function Yu(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||XS(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function XS(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function ZS(t){return-1!==t}function ah(t){return 32767&t}function uh(t,e){let n=function qH(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let Bm=!0;function ch(t){const e=Bm;return Bm=t,e}let zH=0;const Pr={};function lh(t,e){const n=tA(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,$m(r.data,t),$m(e,null),$m(r.blueprint,null));const i=jm(t,e),s=t.injectorIndex;if(ZS(i)){const o=ah(i),a=uh(i,e),u=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|u[o+c]}return e[s+8]=i,s}function $m(t,e){t.push(0,0,0,0,0,0,0,0,e)}function tA(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function jm(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=uA(i),null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Hm(t,e,n){!function WH(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Hu)&&(r=n[Hu]),null==r&&(r=n[Hu]=zH++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function nA(t,e,n){if(n&X.Optional||void 0!==t)return t;qd()}function rA(t,e,n,r){if(n&X.Optional&&void 0===r&&(r=null),0==(n&(X.Self|X.Host))){const i=t[9],s=ir(void 0);try{return i?i.get(e,r,n&X.Optional):yS(e,r,n&X.Optional)}finally{ir(s)}}return nA(r,0,n)}function iA(t,e,n,r=X.Default,i){if(null!==t){if(1024&e[2]){const o=function ZH(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[2]&&!(256&o[2]);){const a=sA(s,o,n,r|X.Self,Pr);if(a!==Pr)return a;let u=s.parent;if(!u){const c=o[21];if(c){const l=c.get(n,Pr,r);if(l!==Pr)return l}u=uA(o),o=o[15]}s=u}return i}(t,e,n,r,Pr);if(o!==Pr)return o}const s=sA(t,e,n,r,Pr);if(s!==Pr)return s}return rA(e,n,r,i)}function sA(t,e,n,r,i){const s=function YH(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Hu)?t[Hu]:void 0;return"number"==typeof e?e>=0?255&e:XH:e}(n);if("function"==typeof s){if(!HS(e,t,r))return r&X.Host?nA(i,0,r):rA(e,n,r,i);try{const o=s(r);if(null!=o||r&X.Optional)return o;qd()}finally{WS()}}else if("number"==typeof s){let o=null,a=tA(t,e),u=-1,c=r&X.Host?e[16][6]:null;for((-1===a||r&X.SkipSelf)&&(u=-1===a?jm(t,e):e[a+8],-1!==u&&aA(r,!1)?(o=e[1],a=ah(u),e=uh(u,e)):a=-1);-1!==a;){const l=e[1];if(oA(s,a,l.data)){const d=QH(a,e,n,o,r,c);if(d!==Pr)return d}u=e[a+8],-1!==u&&aA(r,e[1].data[a+8]===c)&&oA(s,a,e)?(o=l,a=ah(u),e=uh(u,e)):a=-1}}return i}function QH(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],l=dh(a,o,n,null==r?Wu(a)&&Bm:r!=o&&0!=(3&a.type),i&X.Host&&s===a);return null!==l?ks(e,o,l,a):Pr}function dh(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,l=s>>20,h=i?a+l:t.directiveEnd;for(let f=r?a:a+l;f<h;f++){const p=o[f];if(f<u&&n===p||f>=u&&p.type===n)return f}if(i){const f=o[u];if(f&&vr(f)&&f.type===n)return u}return null}function ks(t,e,n,r){let i=t[n];const s=e.data;if(function jH(t){return t instanceof Qu}(i)){const o=i;o.resolving&&function Wj(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new x(-200,`Circular dependency in DI detected for ${t}${n}`)}(function Ce(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():ne(t)}(s[n]));const a=ch(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?ir(o.injectImpl):null;HS(t,r,X.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function BH(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=xS(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&ir(u),ch(a),o.resolving=!1,WS()}}return i}function oA(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function aA(t,e){return!(t&X.Self||t&X.Host&&e)}class Zo{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return iA(this._tNode,this._lView,e,Qd(r),n)}}function XH(){return new Zo(Lt(),T())}function Vt(t){return Gi(()=>{const e=t.prototype.constructor,n=e[ai]||Gm(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[ai]||Gm(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Gm(t){return ym(t)?()=>{const e=Gm(Y(t));return e&&e()}:xs(t)}function uA(t){const e=t[1],n=e.type;return 2===n?e.declTNode:1===n?t[6]:null}const ea="__parameters__";function na(t,e,n){return Gi(()=>{const r=function qm(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(u,c,l){const d=u.hasOwnProperty(ea)?u[ea]:Object.defineProperty(u,ea,{value:[]})[ea];for(;d.length<=l;)d.push(null);return(d[l]=d[l]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class G{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Rs(t,e){t.forEach(n=>Array.isArray(n)?Rs(n,e):e(n))}function lA(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function fh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function qn(t,e,n){let r=ra(t,e);return r>=0?t[1|r]=n:(r=~r,function n3(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function Wm(t,e){const n=ra(t,e);if(n>=0)return t[1|n]}function ra(t,e){return function dA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const lt=ju(na("Optional"),8),ec=ju(na("SkipSelf"),4);var An=(()=>((An=An||{})[An.Important=1]="Important",An[An.DashCase=2]="DashCase",An))();const Jm=new Map;let D3=0;const ty="__ngContext__";function sn(t,e){$n(e)?(t[ty]=e[20],function T3(t){Jm.set(t[20],t)}(e)):t[ty]=e}function ry(t,e){return undefined(t,e)}function ic(t){const e=t[3];return _r(e)?e[3]:e}function iy(t){return kA(t[13])}function sy(t){return kA(t[4])}function kA(t){for(;null!==t&&!_r(t);)t=t[4];return t}function sa(t,e,n,r,i){if(null!=r){let s,o=!1;_r(r)?s=r:$n(r)&&(o=!0,r=r[0]);const a=Ft(r);0===t&&null!==n?null==i?LA(e,n,a):Ns(e,n,a,i||null,!0):1===t&&null!==n?Ns(e,n,a,i||null,!0):2===t?function hy(t,e,n){const r=yh(t,e);r&&function z3(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function Q3(t,e,n,r,i){const s=n[7];s!==Ft(n)&&sa(e,t,r,s,i);for(let a=10;a<n.length;a++){const u=n[a];sc(u[1],u,t,e,r,s)}}(e,t,s,n,i)}}function ay(t,e,n){return t.createElement(e,n)}function NA(t,e){const n=t[9],r=n.indexOf(e),i=e[3];512&e[2]&&(e[2]&=-513,xm(i,-1)),n.splice(r,1)}function uy(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&NA(i,r),e>0&&(t[n-1][4]=r[4]);const s=fh(t,10+e);!function V3(t,e){sc(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-65}return r}function PA(t,e){if(!(128&e[2])){const n=e[11];n.destroyNode&&sc(t,e,n,3,null,null),function $3(t){let e=t[13];if(!e)return cy(t[1],t);for(;e;){let n=null;if($n(e))n=e[13];else{const r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)$n(e)&&cy(e[1],e),e=e[3];null===e&&(e=t),$n(e)&&cy(e[1],e),n=e&&e[4]}e=n}}(e)}}function cy(t,e){if(!(128&e[2])){e[2]&=-65,e[2]|=128,function q3(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Qu)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],u=s[o+1];try{u.call(a)}finally{}}else try{s.call(i)}finally{}}}}(t,e),function G3(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[7]=null}}(t,e),1===e[1].type&&e[11].destroy();const n=e[17];if(null!==n&&_r(e[3])){n!==e[3]&&NA(n,e);const r=e[19];null!==r&&r.detachView(t)}!function S3(t){Jm.delete(t[20])}(e)}}function OA(t,e,n){return function FA(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===kr.None||s===kr.Emulated)return null}return jn(r,n)}}(t,e.parent,n)}function Ns(t,e,n,r,i){t.insertBefore(e,n,r,i)}function LA(t,e,n){t.appendChild(e,n)}function VA(t,e,n,r,i){null!==r?Ns(t,e,n,r,i):LA(t,e,n)}function yh(t,e){return t.parentNode(e)}let gy,Ih,$A=function BA(t,e,n){return 40&t.type?jn(t,n):null};function _h(t,e,n,r){const i=OA(t,r,e),s=e[11],a=function UA(t,e,n){return $A(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)VA(s,i,n[u],a,!1);else VA(s,i,n,a,!1)}function vh(t,e){if(null!==e){const n=e.type;if(3&n)return jn(e,t);if(4&n)return dy(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return vh(t,r);{const i=t[e.index];return _r(i)?dy(-1,i):Ft(i)}}if(32&n)return ry(e,t)()||Ft(t[e.index]);{const r=HA(t,e);return null!==r?Array.isArray(r)?r[0]:vh(ic(t[16]),r):vh(t,e.next)}}return null}function HA(t,e){return null!==e?t[16][6].projection[e.projection]:null}function dy(t,e){const n=10+t+1;if(n<e.length){const r=e[n],i=r[1].firstChild;if(null!==i)return vh(r,i)}return e[7]}function fy(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&sn(Ft(a),r),n.flags|=2),32!=(32&n.flags))if(8&u)fy(t,e,n.child,r,i,s,!1),sa(e,t,i,a,s);else if(32&u){const c=ry(n,r);let l;for(;l=c();)sa(e,t,i,l,s);sa(e,t,i,a,s)}else 16&u?GA(t,e,r,n,i,s):sa(e,t,i,a,s);n=o?n.projectionNext:n.next}}function sc(t,e,n,r,i,s){fy(n,r,t.firstChild,e,i,s,!1)}function GA(t,e,n,r,i,s){const o=n[16],u=o[6].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)sa(e,t,i,u[c],s);else fy(t,e,u,o[3],i,s,!0)}function qA(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function zA(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&Um(t,e,r),null!==i&&qA(t,e,i),null!==s&&function X3(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function YA(t){return function my(){if(void 0===Ih&&(Ih=null,Fe.trustedTypes))try{Ih=Fe.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ih}()?.createScriptURL(t)||t}class XA{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fS})`}}function zi(t){return t instanceof XA?t.changingThisBreaksApplicationSecurity:t}function oc(t,e){const n=function aG(t){return t instanceof XA&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${fS})`)}return n===e}const dG=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var dt=(()=>((dt=dt||{})[dt.NONE=0]="NONE",dt[dt.HTML=1]="HTML",dt[dt.STYLE=2]="STYLE",dt[dt.SCRIPT=3]="SCRIPT",dt[dt.URL=4]="URL",dt[dt.RESOURCE_URL=5]="RESOURCE_URL",dt))();function uc(t){const e=cc();return e?e.sanitize(dt.URL,t)||"":oc(t,"URL")?zi(t):function yy(t){return(t=String(t)).match(dG)?t:"unsafe:"+t}(ne(t))}function ix(t){const e=cc();if(e)return YA(e.sanitize(dt.RESOURCE_URL,t)||"");if(oc(t,"ResourceURL"))return YA(zi(t));throw new x(904,!1)}function cc(){const t=T();return t&&t[12]}const Eh=new G("ENVIRONMENT_INITIALIZER"),ox=new G("INJECTOR",-1),ax=new G("INJECTOR_DEF_TYPES");class ux{get(e,n=Bu){if(n===Bu){const r=new Error(`NullInjectorError: No provider for ${Ne(e)}!`);throw r.name="NullInjectorError",r}return n}}function DG(...t){return{\u0275providers:cx(0,t),\u0275fromNgModule:!0}}function cx(t,...e){const n=[],r=new Set;let i;return Rs(e,s=>{const o=s;Iy(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&lx(i,n),n}function lx(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];by(i,s=>{e.push(s)})}}function Iy(t,e,n,r){if(!(t=Y(t)))return!1;let i=null,s=gS(t);const o=!s&&Se(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const u=t.ngModule;if(s=gS(u),!s)return!1;i=u}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of u)Iy(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{Rs(s.imports,l=>{Iy(l,e,n,r)&&(c||(c=[]),c.push(l))})}finally{}void 0!==c&&lx(c,e)}if(!a){const c=xs(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:be},{provide:ax,useValue:i,multi:!0},{provide:Eh,useValue:()=>H(i),multi:!0})}const u=s.providers;null==u||a||by(u,l=>{e.push(l)})}}return i!==t&&void 0!==t.providers}function by(t,e){for(let n of t)_m(n)&&(n=n.\u0275providers),Array.isArray(n)?by(n,e):e(n)}const CG=Re({provide:String,useValue:Re});function Ey(t){return null!==t&&"object"==typeof t&&CG in t}function Os(t){return"function"==typeof t}const Dy=new G("Set Injector scope."),Dh={},SG={};let Cy;function Ch(){return void 0===Cy&&(Cy=new ux),Cy}class hi{}class fx extends hi{constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Sy(e,o=>this.processProvider(o)),this.records.set(ox,oa(void 0,this)),i.has("environment")&&this.records.set(hi,oa(void 0,this));const s=this.records.get(Dy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(ax.multi,be,X.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=Ho(this),r=ir(void 0);try{return e()}finally{Ho(n),ir(r)}}get(e,n=Bu,r=X.Default){this.assertNotDestroyed(),r=Qd(r);const i=Ho(this),s=ir(void 0);try{if(!(r&X.SkipSelf)){let a=this.records.get(e);if(void 0===a){const u=function RG(t){return"function"==typeof t||"object"==typeof t&&t instanceof G}(e)&&zd(e);a=u&&this.injectableDefInScope(u)?oa(Ty(e),Dh):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&X.Self?Ch():this.parent).get(e,n=r&X.Optional&&n===Bu?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Kd]=o[Kd]||[]).unshift(Ne(e)),i)throw o;return function uH(t,e,n,r){const i=t[Kd];throw e[_S]&&i.unshift(e[_S]),t.message=function cH(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=Ne(e);if(Array.isArray(e))i=e.map(Ne).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ne(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(iH,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Kd]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{ir(s),Ho(i)}}resolveInjectorInitializers(){const e=Ho(this),n=ir(void 0);try{const r=this.get(Eh.multi,be,X.Self);for(const i of r)i()}finally{Ho(e),ir(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Ne(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(e){let n=Os(e=Y(e))?e:Y(e&&e.provide);const r=function xG(t){return Ey(t)?oa(void 0,t.useValue):oa(px(t),Dh)}(e);if(Os(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=oa(void 0,Dh,!0),i.factory=()=>bm(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Dh&&(n.value=SG,n.value=n.factory()),"object"==typeof n.value&&n.value&&function kG(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=Y(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function Ty(t){const e=zd(t),n=null!==e?e.factory:xs(t);if(null!==n)return n;if(t instanceof G)throw new x(204,!1);if(t instanceof Function)return function AG(t){const e=t.length;if(e>0)throw function Ju(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?"),new x(204,!1);const n=function Jj(t){const e=t&&(t[Wd]||t[mS]);if(e){const n=function eH(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new x(204,!1)}function px(t,e,n){let r;if(Os(t)){const i=Y(t);return xs(i)||Ty(i)}if(Ey(t))r=()=>Y(t.useValue);else if(function hx(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...bm(t.deps||[]));else if(function dx(t){return!(!t||!t.useExisting)}(t))r=()=>H(Y(t.useExisting));else{const i=Y(t&&(t.useClass||t.provide));if(!function MG(t){return!!t.deps}(t))return xs(i)||Ty(i);r=()=>new i(...bm(t.deps))}return r}function oa(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Sy(t,e){for(const n of t)Array.isArray(n)?Sy(n,e):n&&_m(n)?Sy(n.\u0275providers,e):e(n)}class NG{}class gx{}class OG{resolveComponentFactory(e){throw function PG(t){const e=Error(`No component factory found for ${Ne(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let lc=(()=>{class t{}return t.NULL=new OG,t})();function FG(){return aa(Lt(),T())}function aa(t,e){return new zn(jn(t,e))}let zn=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=FG,t})();function LG(t){return t instanceof zn?t.nativeElement:t}class yx{}let fi=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function VG(){const t=T(),n=Hn(Lt().index,t);return($n(n)?n:t)[11]}(),t})(),UG=(()=>{class t{}return t.\u0275prov=z({token:t,providedIn:"root",factory:()=>null}),t})();class ua{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const _x=new ua("15.0.4"),Ay={};function My(t){return t.ngOriginalError}class ca{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&My(e);for(;n&&My(n);)n=My(n);return n||null}}function vx(t){return t.ownerDocument.defaultView}function pi(t){return t instanceof Function?t():t}function Ix(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const bx="ng-template";function QG(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Ix(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ex(t){return 4===t.type&&t.value!==bx}function YG(t,e,n){return e===(4!==t.type||n?t.value:bx)}function XG(t,e,n){let r=4;const i=t.attrs||[],s=function eq(t){for(let e=0;e<t.length;e++)if(QS(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!YG(t,u,n)||""===u&&1===e.length){if(wr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!QG(t.attrs,c,n)){if(wr(r))return!1;o=!0}continue}const d=ZG(8&r?"class":u,i,Ex(t),n);if(-1===d){if(wr(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==Ix(f,c,0)||2&r&&c!==h){if(wr(r))return!1;o=!0}}}}else{if(!o&&!wr(r)&&!wr(u))return!1;if(o&&wr(u))continue;o=!1,r=u|1&r}}return wr(r)||o}function wr(t){return 0==(1&t)}function ZG(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function tq(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Dx(t,e,n=!1){for(let r=0;r<e.length;r++)if(XG(t,e[r],n))return!0;return!1}function Cx(t,e){return t?":not("+e.trim()+")":e}function rq(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!wr(o)&&(e+=Cx(s,i),i=""),r=o,s=s||!wr(r);n++}return""!==i&&(e+=Cx(s,i)),e}const ie={};function F(t){Tx(ye(),T(),gn()+t,!1)}function Tx(t,e,n,r){if(!r)if(3==(3&e[2])){const s=t.preOrderCheckHooks;null!==s&&sh(e,s,n)}else{const s=t.preOrderHooks;null!==s&&oh(e,s,0,n)}Ms(n)}function Mx(t,e=null,n=null,r){const i=kx(t,e,n,r);return i.resolveInjectorInitializers(),i}function kx(t,e=null,n=null,r,i=new Set){const s=[n||be,DG(t)];return r=r||("object"==typeof t?void 0:Ne(t)),new fx(s,e||Ch(),r||null,i)}let mn=(()=>{class t{static create(n,r){if(Array.isArray(n))return Mx({name:""},r,n,"");{const i=n.name??"";return Mx({name:i},n.parent,n.providers,i)}}}return t.THROW_IF_NOT_FOUND=Bu,t.NULL=new ux,t.\u0275prov=z({token:t,providedIn:"any",factory:()=>H(ox)}),t.__NG_ELEMENT_ID__=-1,t})();function D(t,e=X.Default){const n=T();return null===n?H(t,e):iA(Lt(),n,Y(t),e)}function Ux(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const o=t.data[s];Pm(i),o.contentQueries(2,e[s],s)}}}function Sh(t,e,n,r,i,s,o,a,u,c,l){const d=e.blueprint.slice();return d[0]=i,d[2]=76|r,(null!==l||t&&1024&t[2])&&(d[2]|=1024),OS(d),d[3]=d[15]=t,d[8]=n,d[10]=o||t&&t[10],d[11]=a||t&&t[11],d[12]=u||t&&t[12]||null,d[9]=c||t&&t[9]||null,d[6]=s,d[20]=function C3(){return D3++}(),d[21]=l,d[16]=2==e.type?t[16]:d,d}function ha(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Oy(t,e,n,r,i){const s=VS(),o=Mm(),u=t.data[e]=function xq(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u)),u}(t,e,n,r,i),function kH(){return re.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Ku(){const t=re.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Nr(s,!0),s}function dc(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Fy(t,e,n){Om(e);try{const r=t.viewQuery;null!==r&&zy(1,r,n);const i=t.template;null!==i&&Bx(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ux(t,e),t.staticViewQueries&&zy(2,t.viewQuery,n);const s=t.components;null!==s&&function Tq(t,e){for(let n=0;n<e.length;n++)Kq(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,Fm()}}function Ah(t,e,n,r){const i=e[2];if(128!=(128&i)){Om(e);try{OS(e),function BS(t){return re.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&Bx(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&sh(e,c,null)}else{const c=t.preOrderHooks;null!==c&&oh(e,c,0,null),Lm(e,0)}if(function zq(t){for(let e=iy(t);null!==e;e=sy(e)){if(!e[2])continue;const n=e[9];for(let r=0;r<n.length;r++){const i=n[r],s=i[3];0==(512&i[2])&&xm(s,1),i[2]|=512}}}(e),function qq(t){for(let e=iy(t);null!==e;e=sy(e))for(let n=10;n<e.length;n++){const r=e[n],i=r[1];rh(r)&&Ah(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Ux(t,e),o){const c=t.contentCheckHooks;null!==c&&sh(e,c)}else{const c=t.contentHooks;null!==c&&oh(e,c,1),Lm(e,1)}!function Dq(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Ms(~i);else{const s=i,o=n[++r],a=n[++r];RH(o,s),a(2,e[s])}}}finally{Ms(-1)}}(t,e);const a=t.components;null!==a&&function Cq(t,e){for(let n=0;n<e.length;n++)Wq(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&zy(2,u,r),o){const c=t.viewCheckHooks;null!==c&&sh(e,c)}else{const c=t.viewHooks;null!==c&&oh(e,c,2),Lm(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[2]&=-41,512&e[2]&&(e[2]&=-513,xm(e[3],-1))}finally{Fm()}}}function Bx(t,e,n,r,i){const s=gn(),o=2&r;try{Ms(-1),o&&e.length>22&&Tx(t,e,22,!1),n(r,i)}finally{Ms(s)}}function Ly(t,e,n){if(Sm(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function Vy(t,e,n){!LS()||(function Oq(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Wu(n)&&function jq(t,e,n){const r=jn(e,t),i=$x(n),s=t[10],o=xh(t,Sh(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||lh(n,e),sn(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const u=t.data[a],c=ks(e,t,a,n);sn(c,e),null!==o&&Hq(0,a-i,c,u,0,o),vr(u)&&(Hn(n.index,e)[8]=ks(e,t,a,n))}}(t,e,n,jn(n,e)),64==(64&n.flags)&&Wx(t,e,n))}function Uy(t,e,n=jn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function $x(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=By(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function By(t,e,n,r,i,s,o,a,u,c){const l=22+r,d=l+i,h=function Sq(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ie);return n}(l,d),f="function"==typeof c?c():c;return h[1]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function jx(t,e,n,r){const i=Qx(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Yx(t).push(r,i.length-1))}function Hx(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?Gx(n,e,i,s):r.hasOwnProperty(i)&&Gx(n,e,r[i],s)}return n}function Gx(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Wn(t,e,n,r,i,s,o,a){const u=jn(e,n);let l,c=e.inputs;!a&&null!=c&&(l=c[r])?(Wy(t,n,l,r,i),Wu(e)&&qx(n,e.index)):3&e.type&&(r=function kq(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(u,r,i))}function qx(t,e){const n=Hn(e,t);16&n[2]||(n[2]|=32)}function $y(t,e,n,r){let i=!1;if(LS()){const s=null===r?null:{"":-1},o=function Lq(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(Dx(e,o.selectors,!1))if(r||(r=[]),vr(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),jy(t,e,a.length)}else r.unshift(o),jy(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let a,u;null===o?a=u=null:[a,u]=o,null!==a&&(i=!0,zx(t,e,n,a,s,u)),s&&function Vq(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new x(-301,!1);r.push(e[i],s)}}}(n,r,s)}return n.mergedAttrs=Yu(n.mergedAttrs,n.attrs),i}function zx(t,e,n,r,i,s){for(let c=0;c<r.length;c++)Hm(lh(n,e),t,r[c].type);!function Bq(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const l=r[c];l.providersResolver&&l.providersResolver(l)}let o=!1,a=!1,u=dc(t,e,r.length,null);for(let c=0;c<r.length;c++){const l=r[c];n.mergedAttrs=Yu(n.mergedAttrs,l.hostAttrs),$q(t,n,e,u,l),Uq(u,l,i),null!==l.contentQueries&&(n.flags|=4),(null!==l.hostBindings||null!==l.hostAttrs||0!==l.hostVars)&&(n.flags|=64);const d=l.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function Mq(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let u=null,c=null;for(let l=e.directiveStart;l<i;l++){const d=s[l],h=n?n.get(d):null,p=h?h.outputs:null;u=Hx(d.inputs,l,u,h?h.inputs:null),c=Hx(d.outputs,l,c,p);const m=null===u||null===o||Ex(e)?null:Gq(u,l,o);a.push(m)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(t,n,s)}function Wx(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function NH(){return re.lFrame.currentDirectiveIndex}();try{Ms(s);for(let a=r;a<i;a++){const u=t.data[a],c=e[a];Rm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Fq(u,c)}}finally{Ms(-1),Rm(o)}}function Fq(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function jy(t,e,n){e.componentOffset=n,(t.components||(t.components=[])).push(e.index)}function Uq(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;vr(e)&&(n[""]=t)}}function $q(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=xs(i.type)),o=new Qu(s,vr(i),D);t.blueprint[r]=o,n[r]=o,function Nq(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function Pq(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,dc(t,n,i.hostVars,ie),i)}function Or(t,e,n,r,i,s){const o=jn(t,e);!function Hy(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?ne(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[11],o,s,t.value,n,r,i)}function Hq(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let u=0;u<o.length;){const c=o[u++],l=o[u++],d=o[u++];null!==a?r.setInput(n,d,c,l):n[l]=d}}}function Gq(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function Kx(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function Wq(t,e){const n=Hn(e,t);if(rh(n)){const r=n[1];48&n[2]?Ah(r,n,r.template,n[8]):n[5]>0&&Gy(n)}}function Gy(t){for(let r=iy(t);null!==r;r=sy(r))for(let i=10;i<r.length;i++){const s=r[i];if(rh(s))if(512&s[2]){const o=s[1];Ah(o,s,o.template,s[8])}else s[5]>0&&Gy(s)}const n=t[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Hn(n[r],t);rh(i)&&i[5]>0&&Gy(i)}}function Kq(t,e){const n=Hn(e,t),r=n[1];(function Qq(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Fy(r,n,n[8])}function xh(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function qy(t){for(;t;){t[2]|=32;const e=ic(t);if(fH(t)&&!e)return t;t=e}return null}function Mh(t,e,n,r=!0){const i=e[10];i.begin&&i.begin();try{Ah(t,e,t.template,n)}catch(o){throw r&&Zx(e,o),o}finally{i.end&&i.end()}}function zy(t,e,n){Pm(0),e(t,n)}function Qx(t){return t[7]||(t[7]=[])}function Yx(t){return t.cleanup||(t.cleanup=[])}function Zx(t,e){const n=t[9],r=n?n.get(ca,null):null;r&&r.handleError(e)}function Wy(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function kh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=mm(i,a):2==s&&(r=mm(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Rh(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ft(s)),_r(s))for(let a=10;a<s.length;a++){const u=s[a],c=u[1].firstChild;null!==c&&Rh(u[1],u,c,r)}const o=n.type;if(8&o)Rh(t,e,n.child,r);else if(32&o){const a=ry(n,e);let u;for(;u=a();)r.push(u)}else if(16&o){const a=HA(e,n);if(Array.isArray(a))r.push(...a);else{const u=ic(e[16]);Rh(u[1],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class hc{constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,n=e[1];return Rh(n,e,n.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(_r(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(uy(e,r),fh(n,r))}this._attachedToViewContainer=!1}PA(this._lView[1],this._lView)}onDestroy(e){jx(this._lView[1],this._lView,null,e)}markForCheck(){qy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Mh(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function B3(t,e){sc(t,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=e}}class Yq extends hc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Mh(e[1],e,e[8],!1)}checkNoChanges(){}get context(){return null}}class Jx extends lc{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Se(e);return new fc(n,this.ngModule)}}function e1(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Zq{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Qd(r);const i=this.injector.get(e,Ay,r);return i!==Ay||n===Ay?i:this.parentInjector.get(e,n,r)}}class fc extends gx{constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function iq(t){return t.map(rq).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}get inputs(){return e1(this.componentDef.inputs)}get outputs(){return e1(this.componentDef.outputs)}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof hi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Zq(e,s):e,a=o.get(yx,null);if(null===a)throw new x(407,!1);const u=o.get(UG,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=r?function Aq(t,e,n){return t.selectRootElement(e,n===kr.ShadowDom)}(c,r,this.componentDef.encapsulation):ay(c,l,function Xq(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(l)),h=this.componentDef.onPush?288:272,f=By(0,null,null,1,0,null,null,null,null,null),p=Sh(null,f,null,h,null,null,a,c,u,o,null);let m,y;Om(p);try{const I=this.componentDef;let E,_=null;I.findHostDirectiveDefs?(E=[],_=new Map,I.findHostDirectiveDefs(I,E,_),E.push(I)):E=[I];const M=function ez(t,e){const n=t[1];return t[22]=e,ha(n,22,2,"#host",null)}(p,d),V=function tz(t,e,n,r,i,s,o,a){const u=i[1];!function nz(t,e,n,r){for(const i of t)e.mergedAttrs=Yu(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(kh(e,e.mergedAttrs,!0),null!==n&&zA(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),l=Sh(i,$x(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return u.firstCreatePass&&jy(u,t,r.length-1),xh(i,l),i[t.index]=l}(M,d,I,E,p,a,c);y=PS(f,22),d&&function iz(t,e,n,r){if(r)Um(t,n,["ng-version",_x.full]);else{const{attrs:i,classes:s}=function sq(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!wr(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&Um(t,n,i),s&&s.length>0&&qA(t,n,s.join(" "))}}(c,I,d,r),void 0!==n&&function sz(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(y,this.ngContentSelectors,n),m=function rz(t,e,n,r,i,s){const o=Lt(),a=i[1],u=jn(o,i);zx(a,i,o,n,null,r);for(let l=0;l<n.length;l++)sn(ks(i,a,o.directiveStart+l,o),i);Wx(a,i,o),u&&sn(u,i);const c=ks(i,a,o.directiveStart+o.componentOffset,o);if(t[8]=i[8]=c,null!==s)for(const l of s)l(c,e);return Ly(a,o,t),c}(V,I,E,_,p,[oz]),Fy(f,p,null)}finally{Fm()}return new Jq(this.componentType,m,aa(y,p),p,y)}}class Jq extends NG{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new Yq(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;Wy(s[1],s,i,e,n),qx(s,this._tNode.index)}}get injector(){return new Zo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function oz(){const t=Lt();ih(T()[1],t)}function Ae(t){let e=function t1(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(vr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new x(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Ky(t.inputs),o.declaredInputs=Ky(t.declaredInputs),o.outputs=Ky(t.outputs);const a=i.hostBindings;a&&lz(t,a);const u=i.viewQuery,c=i.contentQueries;if(u&&uz(t,u),c&&cz(t,c),gm(t.inputs,i.inputs),gm(t.declaredInputs,i.declaredInputs),gm(t.outputs,i.outputs),vr(i)&&i.data.animation){const l=t.data;l.animation=(l.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ae&&(n=!1)}}e=Object.getPrototypeOf(e)}!function az(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Yu(i.hostAttrs,n=Yu(n,i.hostAttrs))}}(r)}function Ky(t){return t===oi?{}:t===be?[]:t}function uz(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function cz(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function lz(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}let Nh=null;function Fs(){if(!Nh){const t=Fe.Symbol;if(t&&t.iterator)Nh=t.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let n=0;n<e.length;++n){const r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Nh=r)}}}return Nh}function pc(t){return!!function Qy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Fs()in t)}function on(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Lr(t,e,n,r){const i=T();return on(i,Yo(),e)&&(ye(),Or(We(),i,t,e,n,r)),Lr}function pa(t,e,n,r){return on(t,Yo(),n)?e+ne(n)+r:ie}function Ee(t,e,n,r,i,s,o,a){const u=T(),c=ye(),l=t+22,d=c.firstCreatePass?function wz(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ha(e,t,4,o||null,qi(c,a));$y(e,n,l,qi(c,u)),ih(e,l);const d=l.tViews=By(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Nr(d,!1);const h=u[11].createComment("");_h(c,u,h,d),sn(h,u),xh(u,u[l]=Kx(h,u,h,d)),th(d)&&Vy(c,u,d),null!=o&&Uy(u,d,a)}function ce(t,e,n){const r=T();return on(r,Yo(),e)&&Wn(ye(),We(),r,t,e,r[11],n,!1),ce}function Yy(t,e,n,r,i){const o=i?"class":"style";Wy(t,n,e.inputs[o],o,r)}function b(t,e,n,r){const i=T(),s=ye(),o=22+t,a=i[11],u=i[o]=ay(a,e,function UH(){return re.lFrame.currentNamespace}()),c=s.firstCreatePass?function Ez(t,e,n,r,i,s,o){const a=e.consts,c=ha(e,t,2,i,qi(a,s));return $y(e,n,c,qi(a,o)),null!==c.attrs&&kh(c,c.attrs,!1),null!==c.mergedAttrs&&kh(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,0,e,n,r):s.data[o];return Nr(c,!0),zA(a,u,c),32!=(32&c.flags)&&_h(s,i,u,c),0===function CH(){return re.lFrame.elementDepthCount}()&&sn(u,i),function TH(){re.lFrame.elementDepthCount++}(),th(c)&&(Vy(s,i,c),Ly(s,c,i)),null!==r&&Uy(i,c),b}function C(){let t=Lt();Mm()?function km(){re.lFrame.isParent=!1}():(t=t.parent,Nr(t,!1));const e=t;!function SH(){re.lFrame.elementDepthCount--}();const n=ye();return n.firstCreatePass&&(ih(n,t),Sm(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function HH(t){return 0!=(8&t.flags)}(e)&&Yy(n,e,T(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function GH(t){return 0!=(16&t.flags)}(e)&&Yy(n,e,T(),e.stylesWithoutHost,!1),C}function _e(t,e,n,r){return b(t,e,n,r),C(),_e}function cr(){return T()}function mc(t){return!!t&&"function"==typeof t.then}const Jy=function g1(t){return!!t&&"function"==typeof t.subscribe};function W(t,e,n,r){const i=T(),s=ye(),o=Lt();return function y1(t,e,n,r,i,s,o){const a=th(r),c=t.firstCreatePass&&Yx(t),l=e[8],d=Qx(e);let h=!0;if(3&r.type||o){const m=jn(r,e),y=o?o(m):m,I=d.length,E=o?M=>o(Ft(M[r.index])):r.index;let _=null;if(!o&&a&&(_=function Cz(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[7],u=i[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==_)(_.__ngLastListenerFn__||_).__ngNextListenerFn__=s,_.__ngLastListenerFn__=s,h=!1;else{s=v1(r,e,l,s,!1);const M=n.listen(y,i,s);d.push(s,M),c&&c.push(i,E,I,I+1)}}else s=v1(r,e,l,s,!1);const f=r.outputs;let p;if(h&&null!==f&&(p=f[i])){const m=p.length;if(m)for(let y=0;y<m;y+=2){const V=e[p[y]][p[y+1]].subscribe(s),B=d.length;d.push(s,V),c&&c.push(i,r.index,B,-(B+1))}}}(s,i,i[11],o,t,e,r),W}function _1(t,e,n,r){try{return!1!==n(r)}catch(i){return Zx(t,i),!1}}function v1(t,e,n,r,i){return function s(o){if(o===Function)return r;qy(t.componentOffset>-1?Hn(t.index,e):e);let u=_1(e,0,r,o),c=s.__ngNextListenerFn__;for(;c;)u=_1(e,0,c,o)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function De(t=1){return function OH(t){return(re.lFrame.contextLView=function FH(t,e){for(;t>0;)e=e[15],t--;return e}(t,re.lFrame.contextLView))[8]}(t)}function Oh(t,e,n){return e_(t,"",e,"",n),Oh}function e_(t,e,n,r,i){const s=T(),o=pa(s,e,n,r);return o!==ie&&Wn(ye(),We(),s,t,o,s[11],i,!1),e_}function Fh(t,e){return t<<17|e<<2}function Wi(t){return t>>17&32767}function t_(t){return 2|t}function Vs(t){return(131068&t)>>2}function n_(t,e){return-131069&t|e<<2}function r_(t){return 1|t}function A1(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Wi(s):Vs(s),u=!1;for(;0!==a&&(!1===u||o);){const l=t[a+1];Pz(t[a],e)&&(u=!0,t[a+1]=r?r_(l):t_(l)),a=r?Wi(l):Vs(l)}u&&(t[n+1]=r?t_(s):r_(s))}function Pz(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ra(t,e)>=0}const wt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function x1(t){return t.substring(wt.key,wt.keyEnd)}function M1(t,e){const n=wt.textEnd;return n===e?-1:(e=wt.keyEnd=function Vz(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,wt.key=e,n),ba(t,e,n))}function ba(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Lh(t,e){return function Ir(t,e,n,r){const i=T(),s=ye(),o=li(2);s.firstUpdatePass&&L1(s,t,o,r),e!==ie&&on(i,o,e)&&U1(s,s.data[gn()],i,i[11],t,i[o+1]=function Qz(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Ne(zi(t)))),t}(e,n),r,o)}(t,e,null,!0),Lh}function Ur(t,e){for(let n=function Fz(t){return function R1(t){wt.key=0,wt.keyEnd=0,wt.value=0,wt.valueEnd=0,wt.textEnd=t.length}(t),M1(t,ba(t,0,wt.textEnd))}(e);n>=0;n=M1(e,n))qn(t,x1(e),!0)}function F1(t,e){return e>=t.expandoStartIndex}function L1(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[gn()],o=F1(t,n);$1(s,r)&&null===e&&!o&&(e=!1),e=function Hz(t,e,n,r){const i=function Nm(t){const e=re.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=yc(n=i_(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=i_(i,t,e,n,r),null===s){let u=function Gz(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Vs(r))return t[Wi(r)]}(t,e,r);void 0!==u&&Array.isArray(u)&&(u=i_(null,t,e,u[1],r),u=yc(u,e.attrs,r),function qz(t,e,n,r){t[Wi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,u))}else s=function zz(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=yc(r,t[s].hostAttrs,n);return yc(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function Rz(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Wi(o),u=Vs(o);t[r]=n;let l,c=!1;if(Array.isArray(n)){const d=n;l=d[1],(null===l||ra(d,l)>0)&&(c=!0)}else l=n;if(i)if(0!==u){const h=Wi(t[a+1]);t[r+1]=Fh(h,a),0!==h&&(t[h+1]=n_(t[h+1],r)),t[a+1]=function Mz(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Fh(a,0),0!==a&&(t[a+1]=n_(t[a+1],r)),a=r;else t[r+1]=Fh(u,0),0===a?a=r:t[u+1]=n_(t[u+1],r),u=r;c&&(t[r+1]=t_(t[r+1])),A1(t,l,r,!0),A1(t,l,r,!1),function Nz(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ra(s,e)>=0&&(n[r+1]=r_(n[r+1]))}(e,l,t,r,s),o=Fh(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function i_(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=yc(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function yc(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),qn(t,o,!!n||e[++s]))}return void 0===t?null:t}function U1(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1],l=function kz(t){return 1==(1&t)}(c)?B1(u,e,n,i,Vs(c),o):void 0;Vh(l)||(Vh(s)||function xz(t){return 2==(2&t)}(c)&&(s=B1(u,null,n,i,a,o)),function Y3(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:An.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=An.Important),t.setStyle(n,r,i,s))}}(r,o,nh(gn(),n),i,s))}function B1(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l;let h=n[i+1];h===ie&&(h=d?be:void 0);let f=d?Wm(h,r):l===r?h:void 0;if(c&&!Vh(f)&&(f=Wm(u,r)),Vh(f)&&(a=f,o))return a;const p=t[i+1];i=o?Wi(p):Vs(p)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=Wm(u,r))}return a}function Vh(t){return void 0!==t}function $1(t,e){return 0!=(t.flags&(e?8:16))}function U(t,e=""){const n=T(),r=ye(),i=t+22,s=r.firstCreatePass?ha(r,i,1,e,null):r.data[i],o=n[i]=function oy(t,e){return t.createText(e)}(n[11],e);_h(r,n,o,s),Nr(s,!1)}function Er(t){return Br("",t,""),Er}function Br(t,e,n){const r=T(),i=pa(r,t,e,n);return i!==ie&&function gi(t,e,n){const r=nh(e,t);!function RA(t,e,n){t.setValue(e,n)}(t[11],r,n)}(r,gn(),i),Br}function At(t,e,n){!function br(t,e,n,r){const i=ye(),s=li(2);i.firstUpdatePass&&L1(i,null,s,r);const o=T();if(n!==ie&&on(o,s,n)){const a=i.data[gn()];if($1(a,r)&&!F1(i,s)){let u=r?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(n=mm(u,n||"")),Yy(i,a,o,n,r)}else!function Kz(t,e,n,r,i,s,o,a){i===ie&&(i=be);let u=0,c=0,l=0<i.length?i[0]:null,d=0<s.length?s[0]:null;for(;null!==l||null!==d;){const h=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let m,p=null;l===d?(u+=2,c+=2,h!==f&&(p=d,m=f)):null===d||null!==l&&l<d?(u+=2,p=l):(c+=2,p=d,m=f),null!==p&&U1(t,e,n,r,p,m,o,a),l=u<i.length?i[u]:null,d=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function Wz(t,e,n){if(null==n||""===n)return be;const r=[],i=zi(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(qn,Ur,pa(T(),t,e,n),!0)}const Da="en-US";let cM=Da;function a_(t,e,n,r,i){if(t=Y(t),Array.isArray(t))for(let s=0;s<t.length;s++)a_(t[s],e,n,r,i);else{const s=ye(),o=T();let a=Os(t)?t:Y(t.provide),u=px(t);const c=Lt(),l=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Os(t)||!t.multi){const f=new Qu(u,i,D),p=c_(a,e,i?l:l+h,d);-1===p?(Hm(lh(c,o),s,a),u_(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{const f=c_(a,e,l+h,d),p=c_(a,e,l,l+h),m=f>=0&&n[f],y=p>=0&&n[p];if(i&&!y||!i&&!m){Hm(lh(c,o),s,a);const I=function h5(t,e,n,r,i){const s=new Qu(t,n,D);return s.multi=[],s.index=e,s.componentProviders=0,PM(s,i,r&&!n),s}(i?d5:l5,n.length,i,r,u);!i&&y&&(n[p].providerFactory=I),u_(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(I),o.push(I)}else u_(s,t,f>-1?f:p,PM(n[i?p:f],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function u_(t,e,n,r){const i=Os(e),s=function TG(t){return!!t.useClass}(e);if(i||s){const u=(s?Y(e.useClass):e).prototype.ngOnDestroy;if(u){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const l=c.indexOf(n);-1===l?c.push(n,[r,u]):c[l+1].push(r,u)}else c.push(n,u)}}}function PM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function c_(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function l5(t,e,n,r){return l_(this.multi,[])}function d5(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ks(n,n[1],this.providerFactory.index,r);s=a.slice(0,o),l_(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],l_(i,s);return s}function l_(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Ge(t,e=[]){return n=>{n.providersResolver=(r,i)=>function c5(t,e,n){const r=ye();if(r.firstCreatePass){const i=vr(t);a_(n,r.data,r.blueprint,i,!0),a_(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ca{}class OM{}class FM extends Ca{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Jx(this);const r=Bn(e);this._bootstrapComponents=pi(r.bootstrap),this._r3Injector=kx(e,n,[{provide:Ca,useValue:this},{provide:lc,useValue:this.componentFactoryResolver}],Ne(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class d_ extends OM{constructor(e){super(),this.moduleType=e}create(e){return new FM(this.moduleType,e)}}class p5 extends Ca{constructor(e,n,r){super(),this.componentFactoryResolver=new Jx(this),this.instance=null;const i=new fx([...e,{provide:Ca,useValue:this},{provide:lc,useValue:this.componentFactoryResolver}],n||Ch(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Hh(t,e,n=null){return new p5(t,e,n).injector}let g5=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=cx(0,n.type),i=r.length>0?Hh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=z({token:t,providedIn:"environment",factory:()=>new t(H(hi))}),t})();function LM(t){t.getStandaloneInjector=e=>e.get(g5).getOrCreateStandaloneInjector(t)}function f_(t){return e=>{setTimeout(t,void 0,e)}}const Me=class $5 extends ri{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=f_(s),i&&(i=f_(i)),o&&(o=f_(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Vn&&e.add(a),a}};function j5(){return this._results[Fs()]()}class p_{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Fs(),r=p_.prototype;r[n]||(r[n]=j5)}get changes(){return this._changes||(this._changes=new Me)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function ar(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function e3(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let mi=(()=>{class t{}return t.__NG_ELEMENT_ID__=q5,t})();const H5=mi,G5=class extends H5{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tViews,i=Sh(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(r)),Fy(r,i,e),new hc(i)}};function q5(){return Gh(Lt(),T())}function Gh(t,e){return 4&t.type?new G5(e,t,aa(t,e)):null}let Dr=(()=>{class t{}return t.__NG_ELEMENT_ID__=z5,t})();function z5(){return XM(Lt(),T())}const W5=Dr,QM=class extends W5{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return aa(this._hostTNode,this._hostLView)}get injector(){return new Zo(this._hostTNode,this._hostLView)}get parentInjector(){const e=jm(this._hostTNode,this._hostLView);if(ZS(e)){const n=uh(e,this._hostLView),r=ah(e);return new Zo(n[1].data[r+8],n)}return new Zo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=YM(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function Zu(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const u=o?e:new fc(Se(e)),c=r||this.parentInjector;if(!s&&null==u.ngModule){const h=(o?c:this.parentInjector).get(hi,null);h&&(s=h)}const l=u.create(c,i,void 0,s);return this.insert(l.hostView,a),l}insert(e,n){const r=e._lView,i=r[1];if(function DH(t){return _r(t[3])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const d=r[3],h=new QM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function j3(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],lA(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function H3(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=64}(i,r,o,s);const a=dy(s,o),u=r[11],c=yh(u,o[7]);return null!==c&&function U3(t,e,n,r,i,s){r[0]=i,r[6]=e,sc(t,r,n,1,i,s)}(i,o[6],u,r,c,a),e.attachToViewContainerRef(),lA(g_(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=YM(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=uy(this._lContainer,n);r&&(fh(g_(this._lContainer),n),PA(r[1],r))}detach(e){const n=this._adjustIndex(e,-1),r=uy(this._lContainer,n);return r&&null!=fh(g_(this._lContainer),n)?new hc(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function YM(t){return t[8]}function g_(t){return t[8]||(t[8]=[])}function XM(t,e){let n;const r=e[t.index];if(_r(r))n=r;else{let i;if(8&t.type)i=Ft(r);else{const s=e[11];i=s.createComment("");const o=jn(t,e);Ns(s,yh(s,o),i,function W3(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=Kx(r,e,i,t),xh(e,n)}return new QM(n,t,e)}class m_{constructor(e){this.queryList=e,this.matches=null}clone(){return new m_(this.queryList)}setDirty(){this.queryList.setDirty()}}class y_{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new y_(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==ik(e,n).matches&&this.queries[n].setDirty()}}class ZM{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class __{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new __(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class v_{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new v_(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,K5(n,s)),this.matchTNodeWithReadOption(e,n,dh(n,e,s,!1,!1))}else r===mi?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,dh(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===zn||i===Dr||i===mi&&4&n.type)this.addMatch(n.index,-2);else{const s=dh(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function K5(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Y5(t,e,n,r){return-1===n?function Q5(t,e){return 11&t.type?aa(t,e):4&t.type?Gh(t,e):null}(e,t):-2===n?function X5(t,e,n){return n===zn?aa(e,t):n===mi?Gh(e,t):n===Dr?XM(e,t):void 0}(t,e,r):ks(t,t[1],n,e)}function JM(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let u=0;u<o.length;u+=2){const c=o[u];a.push(c<0?null:Y5(e,s[c],o[u+1],n.metadata.read))}i.matches=a}return i.matches}function w_(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=JM(t,e,i,n);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)r.push(o[a/2]);else{const c=s[a+1],l=e[-u];for(let d=10;d<l.length;d++){const h=l[d];h[17]===h[3]&&w_(h[1],h,c,r)}if(null!==l[9]){const d=l[9];for(let h=0;h<d.length;h++){const f=d[h];w_(f[1],f,c,r)}}}}}return r}function I_(t){const e=T(),n=ye(),r=jS();Pm(r+1);const i=ik(n,r);if(t.dirty&&function EH(t){return 4==(4&t[2])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?w_(n,e,r,[]):JM(n,e,i,r);t.reset(s,LG),t.notifyOnChanges()}return!0}return!1}function b_(){return function Z5(t,e){return t[19].queries[e].queryList}(T(),jS())}function nk(t,e,n){const r=new p_(4==(4&n));jx(t,e,r,r.destroy),null===e[19]&&(e[19]=new y_),e[19].queries.push(new m_(r))}function rk(t,e,n){null===t.queries&&(t.queries=new __),t.queries.track(new v_(e,n))}function ik(t,e){return t.queries.getByIndex(e)}function zh(...t){}const Wh=new G("Application Initializer");let Kh=(()=>{class t{constructor(n){this.appInits=n,this.resolve=zh,this.reject=zh,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(mc(s))n.push(s);else if(Jy(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(H(Wh,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Tc=new G("AppId",{providedIn:"root",factory:function Ek(){return`${S_()}${S_()}${S_()}`}});function S_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Dk=new G("Platform Initializer"),Qh=new G("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ck=new G("appBootstrapListener");let w8=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const yi=new G("LocaleId",{providedIn:"root",factory:()=>me(yi,X.Optional|X.SkipSelf)||function I8(){return typeof $localize<"u"&&$localize.locale||Da}()});class E8{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let Tk=(()=>{class t{compileModuleSync(n){return new d_(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=pi(Bn(n).declarations).reduce((o,a)=>{const u=Se(a);return u&&o.push(new fc(u)),o},[]);return new E8(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const T8=(()=>Promise.resolve(0))();function A_(t){typeof Zone>"u"?T8.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Ue{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Me(!1),this.onMicrotaskEmpty=new Me(!1),this.onStable=new Me(!1),this.onError=new Me(!1),typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function S8(){let t=Fe.requestAnimationFrame,e=Fe.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function M8(t){const e=()=>{!function x8(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Fe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,M_(t),t.isCheckStableRunning=!0,x_(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),M_(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return xk(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),Mk(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return xk(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),Mk(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,M_(t),x_(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ue.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(Ue.isInAngularZone())throw new x(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,A8,zh,zh);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const A8={};function x_(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function M_(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function xk(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Mk(t){t._nesting--,x_(t)}class k8{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Me,this.onMicrotaskEmpty=new Me,this.onStable=new Me,this.onError=new Me}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const kk=new G(""),Yh=new G("");let N_,k_=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,N_||(function R8(t){N_=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ue.assertNotInAngularZone(),A_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())A_(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(H(Ue),H(R_),H(Yh))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),R_=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return N_?.findTestabilityInTree(this,n,r)??null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),Ki=null;const Rk=new G("AllowMultipleToken"),P_=new G("PlatformDestroyListeners");class Nk{constructor(e,n){this.name=e,this.token=n}}function Ok(t,e,n=[]){const r=`Platform: ${e}`,i=new G(r);return(s=[])=>{let o=O_();if(!o||o.injector.get(Rk,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function O8(t){if(Ki&&!Ki.get(Rk,!1))throw new x(400,!1);Ki=t;const e=t.get(Lk);(function Pk(t){const e=t.get(Dk,null);e&&e.forEach(n=>n())})(t)}(function Fk(t=[],e){return mn.create({name:e,providers:[{provide:Dy,useValue:"platform"},{provide:P_,useValue:new Set([()=>Ki=null])},...t]})}(a,r))}return function L8(t){const e=O_();if(!e)throw new x(401,!1);return e}()}}function O_(){return Ki?.get(Lk)??null}let Lk=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Uk(t,e){let n;return n="noop"===t?new k8:("zone.js"===t?void 0:t)||new Ue(e),n}(r?.ngZone,function Vk(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:Ue,useValue:i}];return i.run(()=>{const o=mn.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),u=a.injector.get(ca,null);if(!u)throw new x(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:l=>{u.handleError(l)}});a.onDestroy(()=>{Zh(this._modules,a),c.unsubscribe()})}),function Bk(t,e,n){try{const r=n();return mc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(u,i,()=>{const c=a.injector.get(Kh);return c.runInitializers(),c.donePromise.then(()=>(function lM(t){rr(t,"Expected localeId to be defined"),"string"==typeof t&&(cM=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(yi,Da)||Da),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=$k({},r);return function N8(t,e,n){const r=new d_(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(Xh);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new x(403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(P_,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(H(mn))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function $k(t,e){return Array.isArray(e)?e.reduce($k,t):{...t,...e}}let Xh=(()=>{class t{constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Xe(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new Xe(a=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{Ue.assertNotInAngularZone(),A_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{Ue.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{u.unsubscribe(),c.unsubscribe()}});this.isStable=function Gj(...t){const e=Uu(t),n=function Lj(t,e){return"number"==typeof fm(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?gr(r[0]):jo(n)(ct(r,e)):si}(s,o.pipe(function qj(t={}){const{connector:e=(()=>new ri),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,u,c=0,l=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=u=void 0,l=d=!1},p=()=>{const m=o;f(),m?.unsubscribe()};return St((m,y)=>{c++,!d&&!l&&h();const I=u=u??e();y.add(()=>{c--,0===c&&!d&&!l&&(a=pm(p,i))}),I.subscribe(y),!o&&c>0&&(o=new Vu({next:E=>I.next(E),error:E=>{d=!0,h(),a=pm(f,n,E),I.error(E)},complete:()=>{l=!0,h(),a=pm(f,r),I.complete()}}),gr(m).subscribe(o))})(s)}}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof gx;if(!this._injector.get(Kh).done)throw!i&&function Go(t){const e=Se(t)||Zt(t)||hn(t);return null!==e&&e.standalone}(n),new x(405,false);let o;o=i?n:this._injector.get(lc).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function P8(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Ca),c=o.create(mn.NULL,[],r||o.selector,a),l=c.location.nativeElement,d=c.injector.get(kk,null);return d?.registerApplication(l),c.onDestroy(()=>{this.detachView(c.hostView),Zh(this.components,c),d?.unregisterApplication(l)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new x(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Zh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(Ck,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Zh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new x(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(H(Ue),H(hi),H(ca))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Zh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let Jh=(()=>{class t{}return t.__NG_ELEMENT_ID__=U8,t})();function U8(t){return function B8(t,e,n){if(Wu(t)&&!n){const r=Hn(t.index,e);return new hc(r,r)}return 47&t.type?new hc(e[16],e):null}(Lt(),T(),16==(16&t))}class zk{constructor(){}supports(e){return pc(e)}create(e){return new z8(e)}}const q8=(t,e)=>e;class z8{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||q8}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<Kk(r,i,s)?n:r,a=Kk(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,l=u-i;if(c!=l){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;l<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=l-c}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!pc(e))throw new x(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function yz(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Fs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new W8(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new Wk),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Wk),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class W8{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class K8{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class Wk{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new K8,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Kk(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Yk(){return new nf([new zk])}let nf=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Yk()),deps:[[t,new ec,new lt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new x(901,!1)}}return t.\u0275prov=z({token:t,providedIn:"root",factory:Yk}),t})();const J8=Ok(null,"core",[]);let eW=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(H(Xh))},t.\u0275mod=Tn({type:t}),t.\u0275inj=dn({}),t})();function Aa(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let B_=null;function $r(){return B_}class rW{}const Mn=new G("DocumentToken");let $_=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return function iW(){return H(Zk)}()},providedIn:"platform"}),t})();const sW=new G("Location Initialized");let Zk=(()=>{class t extends $_{constructor(n){super(),this._doc=n,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return $r().getBaseHref(this._doc)}onPopState(n){const r=$r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=$r().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(n){this.location.pathname=n}pushState(n,r,i){Jk()?this._history.pushState(n,r,i):this.location.hash=i}replaceState(n,r,i){Jk()?this._history.replaceState(n,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(H(Mn))},t.\u0275prov=z({token:t,factory:function(){return function oW(){return new Zk(H(Mn))}()},providedIn:"platform"}),t})();function Jk(){return!!window.history.pushState}function j_(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function eR(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function vi(t){return t&&"?"!==t[0]?"?"+t:t}let $s=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return me(nR)},providedIn:"root"}),t})();const tR=new G("appBaseHref");let nR=(()=>{class t extends $s{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??me(Mn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return j_(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+vi(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+vi(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+vi(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(H($_),H(tR,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),aW=(()=>{class t extends $s{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=j_(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+vi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+vi(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return t.\u0275fac=function(n){return new(n||t)(H($_),H(tR,8))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),H_=(()=>{class t{constructor(n){this._subject=new Me,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function lW(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(eR(rR(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+vi(r))}normalize(n){return t.stripTrailingSlash(function cW(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._basePath,rR(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vi(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vi(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=vi,t.joinWithSlash=j_,t.stripTrailingSlash=eR,t.\u0275fac=function(n){return new(n||t)(H($s))},t.\u0275prov=z({token:t,factory:function(){return function uW(){return new H_(H($s))}()},providedIn:"root"}),t})();function rR(t){return t.replace(/\/index.html$/,"")}class YW{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Mc=(()=>{class t{constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new YW(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),pR(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{pR(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(Dr),D(mi),D(nf))},t.\u0275dir=J({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function pR(t,e){t.context.$implicit=e.item}let jr=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new ZW,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){gR("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){gR("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(D(Dr),D(mi))},t.\u0275dir=J({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class ZW{constructor(){this.$implicit=null,this.ngIf=null}}function gR(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Ne(e)}'.`)}let S6=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Tn({type:t}),t.\u0275inj=dn({}),t})();let k6=(()=>{class t{}return t.\u0275prov=z({token:t,providedIn:"root",factory:()=>new R6(H(Mn),window)}),t})();class R6{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function N6(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vR(this.window.history)||vR(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vR(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class a7 extends rW{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class sv extends a7{static makeCurrent(){!function nW(t){B_||(B_=t)}(new sv)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function u7(){return Rc=Rc||document.querySelector("base"),Rc?Rc.getAttribute("href"):null}();return null==n?null:function c7(t){gf=gf||document.createElement("a"),gf.setAttribute("href",t);const e=gf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Rc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function WW(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let gf,Rc=null;const CR=new G("TRANSITION_ID"),d7=[{provide:Wh,useFactory:function l7(t,e,n){return()=>{n.get(Kh).donePromise.then(()=>{const r=$r(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[CR,Mn,mn],multi:!0}];let f7=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();const mf=new G("EventManagerPlugins");let yf=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>i.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(H(mf),H(Ue))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class TR{constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=$r().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let SR=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(n){const r=new Set;n.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),Nc=(()=>{class t extends SR{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,r,i){n.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,i.push(r.appendChild(o))})}addHost(n){const r=[];this._addStylesToHost(this._stylesSet,n,r),this._hostNodes.set(n,r)}removeHost(n){const r=this._hostNodes.get(n);r&&r.forEach(AR),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(n,i,r)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(AR))}}return t.\u0275fac=function(n){return new(n||t)(H(Mn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();function AR(t){$r().remove(t)}const ov={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},av=/%COMP%/g;function uv(t,e){return e.flat(100).map(n=>n.replace(av,t))}function kR(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let cv=(()=>{class t{constructor(n,r,i){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new lv(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;switch(r.encapsulation){case kr.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new v7(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(n),i}case 1:case kr.ShadowDom:return new w7(this.eventManager,this.sharedStylesHost,n,r);default:if(!this.rendererByCompId.has(r.id)){const i=uv(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(H(yf),H(Nc),H(Tc))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();class lv{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(ov[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(NR(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(NR(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=ov[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=ov[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(An.DashCase|An.Important)?e.style.setProperty(n,r,i&An.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&An.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,kR(r)):this.eventManager.addEventListener(e,n,kR(r))}}function NR(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class v7 extends lv{constructor(e,n,r,i){super(e),this.component=r;const s=uv(i+"-"+r.id,r.styles);n.addStyles(s),this.contentAttr=function m7(t){return"_ngcontent-%COMP%".replace(av,t)}(i+"-"+r.id),this.hostAttr=function y7(t){return"_nghost-%COMP%".replace(av,t)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}class w7 extends lv{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=uv(i.id,i.styles);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let I7=(()=>{class t extends TR{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(H(Mn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();const PR=["alt","control","meta","shift"],b7={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},E7={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let D7=(()=>{class t extends TR{constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$r().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),PR.forEach(c=>{const l=r.indexOf(c);l>-1&&(r.splice(l,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=b7[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),PR.forEach(o=>{o!==i&&(0,E7[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(H(Mn))},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();const FR=[{provide:Qh,useValue:"browser"},{provide:Dk,useValue:function C7(){sv.makeCurrent()},multi:!0},{provide:Mn,useFactory:function S7(){return function tG(t){gy=t}(document),document},deps:[]}],A7=Ok(J8,"browser",FR),LR=new G(""),VR=[{provide:Yh,useClass:class h7{addToWindow(e){Fe.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},Fe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Fe.getAllAngularRootElements=()=>e.getAllRootElements(),Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(r=>{const i=Fe.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(u){o=o||u,s--,0==s&&r(o)};i.forEach(function(u){u.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?$r().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:kk,useClass:k_,deps:[Ue,R_,Yh]},{provide:k_,useClass:k_,deps:[Ue,R_,Yh]}],UR=[{provide:Dy,useValue:"root"},{provide:ca,useFactory:function T7(){return new ca},deps:[]},{provide:mf,useClass:I7,multi:!0,deps:[Mn,Ue,Qh]},{provide:mf,useClass:D7,multi:!0,deps:[Mn]},{provide:cv,useClass:cv,deps:[yf,Nc,Tc]},{provide:yx,useExisting:cv},{provide:SR,useExisting:Nc},{provide:Nc,useClass:Nc,deps:[Mn]},{provide:yf,useClass:yf,deps:[mf,Ue]},{provide:class P6{},useClass:f7,deps:[]},[]];let x7=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Tc,useValue:n.appId},{provide:CR,useExisting:Tc},d7]}}}return t.\u0275fac=function(n){return new(n||t)(H(LR,12))},t.\u0275mod=Tn({type:t}),t.\u0275inj=dn({providers:[...UR,...VR],imports:[S6,eW]}),t})(),BR=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(H(Mn))},t.\u0275prov=z({token:t,factory:function(n){let r=null;return r=n?new n:function k7(){return new BR(H(Mn))}(),r},providedIn:"root"}),t})();function Q(...t){return ct(t,Uu(t))}typeof window<"u"&&window;class hr extends ri{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const _f=Lu(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:U7}=Array,{getPrototypeOf:B7,prototype:$7,keys:j7}=Object;function HR(t){if(1===t.length){const e=t[0];if(U7(e))return{args:e,keys:null};if(function H7(t){return t&&"object"==typeof t&&B7(t)===$7}(e)){const n=j7(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:G7}=Array;function GR(t){return fe(e=>function q7(t,e){return G7(e)?t(...e):t(e)}(t,e))}function qR(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function zR(...t){const e=Uu(t),n=dS(t),{args:r,keys:i}=HR(t);if(0===r.length)return ct([],e);const s=new Xe(function z7(t,e,n=Ts){return r=>{WR(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let u=0;u<i;u++)WR(e,()=>{const c=ct(t[u],e);let l=!1;c.subscribe(yt(r,d=>{s[u]=d,l||(l=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>qR(i,o):Ts));return n?s.pipe(GR(n)):s}function WR(t,e,n){t?ii(n,t,e):e()}function fv(...t){return function W7(){return jo(1)}()(ct(t,Uu(t)))}function KR(t){return new Xe(e=>{gr(t()).subscribe(e)})}function Pc(t,e){const n=Pe(t)?t:()=>t,r=i=>i.error(n());return new Xe(e?i=>e.schedule(r,0,i):r)}function pv(){return St((t,e)=>{let n=null;t._refCount++;const r=yt(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class QR extends Xe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,XT(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Vn;const n=this.getSubject();e.add(this.source.subscribe(yt(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Vn.EMPTY)}return e}refCount(){return pv()(this)}}function Hr(t,e){return St((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(yt(r,u=>{i?.unsubscribe();let c=0;const l=s++;gr(t(u,l)).subscribe(i=yt(r,d=>r.next(e?e(u,d,l,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Oc(t){return t<=0?()=>si:St((e,n)=>{let r=0;e.subscribe(yt(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Yi(t,e){return St((n,r)=>{let i=0;n.subscribe(yt(r,s=>t.call(e,s,i++)&&r.next(s)))})}function vf(t){return St((e,n)=>{let r=!1;e.subscribe(yt(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function YR(t=Q7){return St((e,n)=>{let r=!1;e.subscribe(yt(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function Q7(){return new _f}function Xi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yi((i,s)=>t(i,s,r)):Ts,Oc(1),n?vf(e):YR(()=>new _f))}function js(t,e){return Pe(e)?Ot(t,e,1):Ot(t,1)}function Ut(t,e,n){const r=Pe(t)||e||n?{next:t,error:e,complete:n}:t;return r?St((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(yt(s,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),s.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),s.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),s.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ts}function Zi(t){return St((e,n)=>{let s,r=null,i=!1;r=e.subscribe(yt(n,void 0,void 0,o=>{s=gr(t(o,Zi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Y7(t,e,n,r,i){return(s,o)=>{let a=n,u=e,c=0;s.subscribe(yt(o,l=>{const d=c++;u=a?t(u,l,d):(a=!0,l),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function XR(t,e){return St(Y7(t,e,arguments.length>=2,!0))}function gv(t){return t<=0?()=>si:St((e,n)=>{let r=[];e.subscribe(yt(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ZR(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yi((i,s)=>t(i,s,r)):Ts,gv(1),n?vf(e):YR(()=>new _f))}function mv(t){return St((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const le="primary",Fc=Symbol("RouteTitle");class J7{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function xa(t){return new J7(t)}function eK(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Gr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!JR(t[i],e[i]))return!1;return!0}function JR(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function eN(t){return Array.prototype.concat.apply([],t)}function tN(t){return t.length>0?t[t.length-1]:null}function Bt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ji(t){return Jy(t)?t:mc(t)?ct(Promise.resolve(t)):Q(t)}const wf=!1,nK={exact:function iN(t,e,n){if(!Gs(t.segments,e.segments)||!If(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!iN(t.children[r],e.children[r],n))return!1;return!0},subset:sN},nN={exact:function rK(t,e){return Gr(t,e)},subset:function iK(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>JR(t[n],e[n]))},ignored:()=>!0};function rN(t,e,n){return nK[n.paths](t.root,e.root,n.matrixParams)&&nN[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function sN(t,e,n){return oN(t,e,e.segments,n)}function oN(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Gs(i,n)||e.hasChildren()||!If(i,n,r))}if(t.segments.length===n.length){if(!Gs(t.segments,n)||!If(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!sN(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Gs(t.segments,i)&&If(t.segments,i,r)&&t.children[le])&&oN(t.children[le],e,s,r)}}function If(t,e,n){return e.every((r,i)=>nN[n](t[i].parameters,r.parameters))}class Hs{constructor(e=new de([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xa(this.queryParams)),this._queryParamMap}toString(){return aK.serialize(this)}}class de{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Bt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return bf(this)}}class Lc{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=xa(this.parameters)),this._parameterMap}toString(){return cN(this)}}function Gs(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Vc=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return new yv},providedIn:"root"}),t})();class yv{parse(e){const n=new mK(e);return new Hs(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Uc(e.root,!0)}`,r=function lK(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Ef(n)}=${Ef(i)}`).join("&"):`${Ef(n)}=${Ef(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function uK(t){return encodeURI(t)}(e.fragment)}`:""}`}}const aK=new yv;function bf(t){return t.segments.map(e=>cN(e)).join("/")}function Uc(t,e){if(!t.hasChildren())return bf(t);if(e){const n=t.children[le]?Uc(t.children[le],!1):"",r=[];return Bt(t.children,(i,s)=>{s!==le&&r.push(`${s}:${Uc(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function oK(t,e){let n=[];return Bt(t.children,(r,i)=>{i===le&&(n=n.concat(e(r,i)))}),Bt(t.children,(r,i)=>{i!==le&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===le?[Uc(t.children[le],!1)]:[`${i}:${Uc(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[le]?`${bf(t)}/${n[0]}`:`${bf(t)}/(${n.join("//")})`}}function aN(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ef(t){return aN(t).replace(/%3B/gi,";")}function _v(t){return aN(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Df(t){return decodeURIComponent(t)}function uN(t){return Df(t.replace(/\+/g,"%20"))}function cN(t){return`${_v(t.path)}${function cK(t){return Object.keys(t).map(e=>`;${_v(e)}=${_v(t[e])}`).join("")}(t.parameters)}`}const dK=/^[^\/()?;=#]+/;function Cf(t){const e=t.match(dK);return e?e[0]:""}const hK=/^[^=?&#]+/,pK=/^[^&#]+/;class mK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[le]=new de(e,n)),r}parseSegment(){const e=Cf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new x(4009,wf);return this.capture(e),new Lc(Df(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Cf(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Cf(this.remaining);i&&(r=i,this.capture(r))}e[Df(n)]=Df(r)}parseQueryParam(e){const n=function fK(t){const e=t.match(hK);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function gK(t){const e=t.match(pK);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=uN(n),s=uN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Cf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new x(4010,wf);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=le);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[le]:new de([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new x(4011,wf)}}function vv(t){return t.segments.length>0?new de([],{[le]:t}):t}function Tf(t){const e={};for(const r of Object.keys(t.children)){const s=Tf(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function yK(t){if(1===t.numberOfChildren&&t.children[le]){const e=t.children[le];return new de(t.segments.concat(e.segments),e.children)}return t}(new de(t.segments,e))}function qs(t){return t instanceof Hs}function wK(t,e,n,r,i){if(0===n.length)return Ma(e.root,e.root,e.root,r,i);const s=function hN(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new dN(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Bt(s.outlets,(u,c)=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new dN(n,e,r)}(n);return s.toRoot()?Ma(e.root,e.root,new de([],{}),r,i):function o(u){const c=function bK(t,e,n,r){if(t.isAbsolute)return new ka(e.root,!0,0);if(-1===r)return new ka(n,n===e.root,0);return function fN(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new ka(r,!1,i-s)}(n,r+(Bc(t.commands[0])?0:1),t.numberOfDoubleDots)}(s,e,t.snapshot?._urlSegment,u),l=c.processChildren?jc(c.segmentGroup,c.index,s.commands):Iv(c.segmentGroup,c.index,s.commands);return Ma(e.root,c.segmentGroup,l,r,i)}(t.snapshot?._lastPathIndex)}function Bc(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function $c(t){return"object"==typeof t&&null!=t&&t.outlets}function Ma(t,e,n,r,i){let o,s={};r&&Bt(r,(u,c)=>{s[c]=Array.isArray(u)?u.map(l=>`${l}`):`${u}`}),o=t===e?n:lN(t,e,n);const a=vv(Tf(o));return new Hs(a,s,i)}function lN(t,e,n){const r={};return Bt(t.children,(i,s)=>{r[s]=i===e?n:lN(i,e,n)}),new de(t.segments,r)}class dN{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Bc(r[0]))throw new x(4003,!1);const i=r.find($c);if(i&&i!==tN(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ka{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Iv(t,e,n){if(t||(t=new de([],{})),0===t.segments.length&&t.hasChildren())return jc(t,e,n);const r=function DK(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if($c(a))break;const u=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!gN(u,c,o))return s;r+=2}else{if(!gN(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new de(t.segments.slice(0,r.pathIndex),{});return s.children[le]=new de(t.segments.slice(r.pathIndex),t.children),jc(s,0,i)}return r.match&&0===i.length?new de(t.segments,{}):r.match&&!t.hasChildren()?bv(t,e,n):r.match?jc(t,0,i):bv(t,e,n)}function jc(t,e,n){if(0===n.length)return new de(t.segments,{});{const r=function EK(t){return $c(t[0])?t[0].outlets:{[le]:t}}(n),i={};return Bt(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Iv(t.children[o],e,s))}),Bt(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new de(t.segments,i)}}function bv(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if($c(s)){const u=CK(s.outlets);return new de(r,u)}if(0===i&&Bc(n[0])){r.push(new Lc(t.segments[e].path,pN(n[0]))),i++;continue}const o=$c(s)?s.outlets[le]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Bc(a)?(r.push(new Lc(o,pN(a))),i+=2):(r.push(new Lc(o,{})),i++)}return new de(r,{})}function CK(t){const e={};return Bt(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=bv(new de([],{}),0,n))}),e}function pN(t){const e={};return Bt(t,(n,r)=>e[r]=`${n}`),e}function gN(t,e,n){return t==n.path&&Gr(e,n.parameters)}class Ii{constructor(e,n){this.id=e,this.url=n}}class Ev extends Ii{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zs extends Ii{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sf extends Ii{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class mN extends Ii{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class TK extends Ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SK extends Ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AK extends Ii{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xK extends Ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MK extends Ii{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kK{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class RK{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class NK{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PK{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OK{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FK{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yN{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let VK=(()=>{class t{createUrlTree(n,r,i,s,o,a){return wK(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})(),UK=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(e){return VK.\u0275fac(e)},providedIn:"root"}),t})();class _N{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Dv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Dv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=Cv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Cv(e,this._root).map(n=>n.value)}}function Dv(t,e){if(t===e.value)return e;for(const n of e.children){const r=Dv(t,n);if(r)return r}return null}function Cv(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Cv(t,n);if(r.length)return r.unshift(e),r}return[]}class bi{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ra(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class vN extends _N{constructor(e,n){super(e),this.snapshot=n,Tv(this,e)}toString(){return this.snapshot.toString()}}function wN(t,e){const n=function BK(t,e){const o=new Af([],{},{},"",{},le,e,null,t.root,-1,{});return new bN("",new bi(o,[]))}(t,e),r=new hr([new Lc("",{})]),i=new hr({}),s=new hr({}),o=new hr({}),a=new hr(""),u=new Na(r,i,o,a,s,le,e,n.root);return u.snapshot=n.root,new vN(new bi(u,[]),n)}class Na{constructor(e,n,r,i,s,o,a,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=this.data?.pipe(fe(c=>c[Fc]))??Q(void 0),this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(fe(e=>xa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(fe(e=>xa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function IN(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function $K(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Af{constructor(e,n,r,i,s,o,a,u,c,l,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._urlSegment=c,this._lastPathIndex=l,this._resolve=d}get title(){return this.data?.[Fc]}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=xa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=xa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bN extends _N{constructor(e,n){super(n),this.url=e,Tv(this,n)}toString(){return EN(this._root)}}function Tv(t,e){e.value._routerState=t,e.children.forEach(n=>Tv(t,n))}function EN(t){const e=t.children.length>0?` { ${t.children.map(EN).join(", ")} } `:"";return`${t.value}${e}`}function Sv(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Gr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Gr(e.params,n.params)||t.params.next(n.params),function tK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Gr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Gr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Av(t,e){const n=Gr(t.params,e.params)&&function sK(t,e){return Gs(t,e)&&t.every((n,r)=>Gr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Av(t.parent,e.parent))}function Hc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function HK(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Hc(t,r,i);return Hc(t,r)})}(t,e,n);return new bi(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Hc(t,a)),o}}const r=function GK(t){return new Na(new hr(t.url),new hr(t.params),new hr(t.queryParams),new hr(t.fragment),new hr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Hc(t,s));return new bi(r,i)}}const xv="ngNavigationCancelingError";function DN(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=qs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=CN(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function CN(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[xv]=!0,r.cancellationCode=e,n&&(r.url=n),r}function TN(t){return SN(t)&&qs(t.url)}function SN(t){return t&&t[xv]}class qK{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Gc,this.attachRef=null}}let Gc=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new qK,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const xf=!1;let Mv=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=le,this.activateEvents=new Me,this.deactivateEvents=new Me,this.attachEvents=new Me,this.detachEvents=new Me,this.parentContexts=me(Gc),this.location=me(Dr),this.changeDetector=me(Jh),this.environmentInjector=me(hi)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,xf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,xf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,xf);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new x(4013,xf);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new zK(n,a,i.injector);if(r&&function WK(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,u)}else this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=J({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[sr]}),t})();class zK{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Na?this.route:e===Gc?this.childContexts:this.parent.get(e,n)}}let kv=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=_t({type:t,selectors:[["ng-component"]],standalone:!0,features:[LM],decls:1,vars:0,template:function(n,r){1&n&&_e(0,"router-outlet")},dependencies:[Mv],encapsulation:2}),t})();function AN(t,e){return t.providers&&!t._injector&&(t._injector=Hh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Nv(t){const e=t.children&&t.children.map(Nv),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==le&&(n.component=kv),n}function fr(t){return t.outlet||le}function xN(t,e){const n=t.filter(r=>fr(r)===e);return n.push(...t.filter(r=>fr(r)!==e)),n}function qc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class ZK{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Sv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Ra(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Bt(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ra(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Ra(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=Ra(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new FK(s.value.snapshot))}),e.children.length&&this.forwardEvent(new PK(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(Sv(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Sv(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=qc(i.snapshot),u=a?.get(lc)??null;o.attachRef=null,o.route=i,o.resolver=u,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class MN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Mf{constructor(e,n){this.component=e,this.route=n}}function JK(t,e,n){const r=t._root;return zc(r,e?e._root:null,n,[r.value])}function Pa(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function Zj(t){return null!==zd(t)}(t)?e.get(t):t:r}function zc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ra(e);return t.children.forEach(o=>{(function t9(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function n9(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Gs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Gs(t.url,e.url)||!Gr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Av(t,e)||!Gr(t.queryParams,e.queryParams);default:return!Av(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new MN(r)):(s.data=o.data,s._resolvedData=o._resolvedData),zc(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Mf(a.outlet.component,o))}else o&&Wc(e,a,i),i.canActivateChecks.push(new MN(r)),zc(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Bt(s,(o,a)=>Wc(o,n.getContext(a),i)),i}function Wc(t,e,n){const r=Ra(t),i=t.value;Bt(r,(s,o)=>{Wc(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new Mf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Kc(t){return"function"==typeof t}function Pv(t){return t instanceof _f||"EmptyError"===t?.name}const kf=Symbol("INITIAL_VALUE");function Oa(){return Hr(t=>zR(t.map(e=>e.pipe(Oc(1),function K7(...t){const e=Uu(t);return St((n,r)=>{(e?fv(t,n,e):fv(t,n)).subscribe(r)})}(kf)))).pipe(fe(e=>{for(const n of e)if(!0!==n){if(n===kf)return kf;if(!1===n||n instanceof Hs)return n}return!0}),Yi(e=>e!==kf),Oc(1)))}function kN(t){return function yj(...t){return KT(t)}(Ut(e=>{if(qs(e))throw DN(0,e)}),fe(e=>!0===e))}const Ov={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RN(t,e,n,r,i){const s=Fv(t,e,n);return s.matched?function v9(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Q(i.map(o=>{const a=Pa(o,t);return Ji(function u9(t){return t&&Kc(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Oa(),kN()):Q(!0)}(r=AN(e,r),e,n).pipe(fe(o=>!0===o?s:{...Ov})):Q(s)}function Fv(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Ov}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||eK)(n,t,e);if(!i)return{...Ov};const s={};Bt(i.posParams,(a,u)=>{s[u]=a.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Rf(t,e,n,r){if(n.length>0&&function b9(t,e,n){return n.some(r=>Nf(t,e,r)&&fr(r)!==le)}(t,n,r)){const s=new de(e,function I9(t,e,n,r){const i={};i[le]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&fr(s)!==le){const o=new de([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[fr(s)]=o}return i}(t,e,r,new de(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function E9(t,e,n){return n.some(r=>Nf(t,e,r))}(t,n,r)){const s=new de(t.segments,function w9(t,e,n,r,i){const s={};for(const o of r)if(Nf(t,n,o)&&!i[fr(o)]){const a=new de([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[fr(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new de(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function Nf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function NN(t,e,n,r){return!!(fr(t)===r||r!==le&&Nf(e,n,t))&&("**"===t.path||Fv(e,t,n).matched)}function PN(t,e,n){return 0===e.length&&!t.children[n]}const Pf=!1;class Of{constructor(e){this.segmentGroup=e||null}}class ON{constructor(e){this.urlTree=e}}function Qc(t){return Pc(new Of(t))}function FN(t){return Pc(new ON(t))}class S9{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=Rf(this.urlTree.root,[],[],this.config).segmentGroup,n=new de(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,le).pipe(fe(s=>this.createUrlTree(Tf(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zi(s=>{if(s instanceof ON)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Of?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,le).pipe(fe(i=>this.createUrlTree(Tf(i),e.queryParams,e.fragment))).pipe(Zi(i=>{throw i instanceof Of?this.noMatchError(i):i}))}noMatchError(e){return new x(4002,Pf)}createUrlTree(e,n,r){const i=vv(e);return new Hs(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(fe(s=>new de([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return ct(i).pipe(js(s=>{const o=r.children[s],a=xN(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(fe(u=>({segment:u,outlet:s})))}),XR((s,o)=>(s[o.outlet]=o.segment,s),{}),ZR())}expandSegment(e,n,r,i,s,o){return ct(r).pipe(js(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Zi(c=>{if(c instanceof Of)return Q(null);throw c}))),Xi(a=>!!a),Zi((a,u)=>{if(Pv(a))return PN(n,i,s)?Q(new de([],{})):Qc(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return NN(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):Qc(n):Qc(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?FN(s):this.lineralizeSegments(r,s).pipe(Ot(o=>{const a=new de(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:l}=Fv(n,i,s);if(!a)return Qc(n);const d=this.applyRedirectCommands(u,i.redirectTo,l);return i.redirectTo.startsWith("/")?FN(d):this.lineralizeSegments(i,d).pipe(Ot(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=AN(r,e),r.loadChildren?(r._loadedRoutes?Q({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(fe(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new de(i,{})))):Q(new de(i,{}))):RN(n,r,i,e).pipe(Hr(({matched:o,consumedSegments:a,remainingSegments:u})=>o?this.getChildConfig(e=r._injector??e,r,i).pipe(Ot(l=>{const d=l.injector??e,h=l.routes,{segmentGroup:f,slicedSegments:p}=Rf(n,a,u,h),m=new de(f.segments,f.children);if(0===p.length&&m.hasChildren())return this.expandChildren(d,h,m).pipe(fe(_=>new de(a,_)));if(0===h.length&&0===p.length)return Q(new de(a,{}));const y=fr(r)===s;return this.expandSegment(d,m,h,p,y?le:s,!0).pipe(fe(E=>new de(a.concat(E.segments),E.children)))})):Qc(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):function _9(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Q(!0):Q(i.map(o=>{const a=Pa(o,t);return Ji(function i9(t){return t&&Kc(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Oa(),kN())}(e,n,r).pipe(Ot(i=>i?this.configLoader.loadChildren(e,n).pipe(Ut(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function C9(t){return Pc(CN(Pf,3))}())):Q({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Q(r);if(i.numberOfChildren>1||!i.children[le])return Pc(new x(4e3,Pf));i=i.children[le]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Hs(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Bt(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Bt(n.children,(a,u)=>{o[u]=this.createSegmentGroup(e,a,r,i)}),new de(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new x(4001,Pf);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class x9{}class R9{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=Rf(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,le).pipe(fe(n=>{if(null===n)return null;const r=new Af([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},le,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new bi(r,n),s=new bN(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=IN(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return ct(Object.keys(r.children)).pipe(js(i=>{const s=r.children[i],o=xN(n,i);return this.processSegmentGroup(e,o,s,i)}),XR((i,s)=>i&&s?(i.push(...s),i):null),function X7(t,e=!1){return St((n,r)=>{let i=0;n.subscribe(yt(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),vf(null),ZR(),fe(i=>{if(null===i)return null;const s=VN(i);return function N9(t){t.sort((e,n)=>e.value.outlet===le?-1:n.value.outlet===le?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return ct(n).pipe(js(o=>this.processSegmentAgainstRoute(o._injector??e,o,r,i,s)),Xi(o=>!!o),Zi(o=>{if(Pv(o))return PN(r,i,s)?Q([]):Q(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!NN(n,r,i,s))return Q(null);let o;if("**"===n.path){const a=i.length>0?tN(i).parameters:{},u=BN(r)+i.length;o=Q({snapshot:new Af(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$N(n),fr(n),n.component??n._loadedComponent??null,n,UN(r),u,jN(n)),consumedSegments:[],remainingSegments:[]})}else o=RN(r,n,i,e).pipe(fe(({matched:a,consumedSegments:u,remainingSegments:c,parameters:l})=>{if(!a)return null;const d=BN(r)+u.length;return{snapshot:new Af(u,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$N(n),fr(n),n.component??n._loadedComponent??null,n,UN(r),d,jN(n)),consumedSegments:u,remainingSegments:c}}));return o.pipe(Hr(a=>{if(null===a)return Q(null);const{snapshot:u,consumedSegments:c,remainingSegments:l}=a;e=n._injector??e;const d=n._loadedInjector??e,h=function P9(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:f,slicedSegments:p}=Rf(r,c,l,h.filter(y=>void 0===y.redirectTo));if(0===p.length&&f.hasChildren())return this.processChildren(d,h,f).pipe(fe(y=>null===y?null:[new bi(u,y)]));if(0===h.length&&0===p.length)return Q([new bi(u,[])]);const m=fr(n)===s;return this.processSegment(d,h,f,p,m?le:s).pipe(fe(y=>null===y?null:[new bi(u,y)]))}))}}function O9(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function VN(t){const e=[],n=new Set;for(const r of t){if(!O9(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=VN(r.children);e.push(new bi(r.value,i))}return e.filter(r=>!n.has(r))}function UN(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function BN(t){let e=t,n=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift??0;return n-1}function $N(t){return t.data||{}}function jN(t){return t.resolve||{}}function HN(t){return"string"==typeof t.title||null===t.title}function Lv(t){return Hr(e=>{const n=t(e);return n?ct(n).pipe(fe(()=>e)):Q(e)})}const Fa=new G("ROUTES");let Vv=(()=>{class t{constructor(n,r){this.injector=n,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Q(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Ji(n.loadComponent()).pipe(fe(qN),Ut(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),mv(()=>{this.componentLoaders.delete(n)})),i=new QR(r,()=>new ri).pipe(pv());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(fe(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let u,c,l=!1;Array.isArray(a)?c=a:(u=a.create(n).injector,c=eN(u.get(Fa,[],X.Self|X.Optional)));return{routes:c.map(Nv),injector:u}}),mv(()=>{this.childrenLoaders.delete(r)})),o=new QR(s,()=>new ri).pipe(pv());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Ji(n()).pipe(fe(qN),Ot(i=>i instanceof OM||Array.isArray(i)?Q(i):ct(this.compiler.compileModuleAsync(i))))}}return t.\u0275fac=function(n){return new(n||t)(H(mn),H(Tk))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function qN(t){return function G9(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Uv=(()=>{class t{constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new ri,this.configLoader=me(Vv),this.environmentInjector=me(hi),this.urlSerializer=me(Vc),this.rootContexts=me(Gc),this.navigationId=0,this.configLoader.onLoadEndListener=i=>this.events.next(new RK(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new kK(i))}get hasRequestedNavigation(){return 0!==this.navigationId}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new hr({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Yi(r=>0!==r.id),fe(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Hr(r=>{let i=!1,s=!1;return Q(r).pipe(Ut(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Hr(o=>{const a=n.browserUrlTree.toString(),u=!n.navigated||o.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(("reload"===n.onSameUrlNavigation||u)&&n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return WN(o.source)&&(n.browserUrlTree=o.extractedUrl),Q(o).pipe(Hr(l=>{const d=this.transitions?.getValue();return this.events.next(new Ev(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),d!==this.transitions?.getValue()?si:Promise.resolve(l)}),function A9(t,e,n,r){return Hr(i=>function T9(t,e,n,r,i){return new S9(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(fe(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Ut(l=>{this.currentNavigation={...this.currentNavigation,finalUrl:l.urlAfterRedirects},r.urlAfterRedirects=l.urlAfterRedirects}),function L9(t,e,n,r,i){return Ot(s=>function k9(t,e,n,r,i,s,o="emptyOnly"){return new R9(t,e,n,r,i,o,s).recognize().pipe(Hr(a=>null===a?function M9(t){return new Xe(e=>e.error(t))}(new x9):Q(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(fe(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,n.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Ut(l=>{if(r.targetSnapshot=l.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!l.extras.skipLocationChange){const h=n.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl);n.setBrowserUrl(h,l)}n.browserUrlTree=l.urlAfterRedirects}const d=new TK(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(u&&n.rawUrlTree&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:d,extractedUrl:h,source:f,restoredState:p,extras:m}=o,y=new Ev(d,this.urlSerializer.serialize(h),f,p);this.events.next(y);const I=wN(h,n.rootComponentType).snapshot;return Q(r={...o,targetSnapshot:I,urlAfterRedirects:h,extras:{...m,skipLocationChange:!1,replaceUrl:!1}})}return n.rawUrlTree=o.rawUrl,o.resolve(null),si}),Ut(o=>{const a=new SK(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),fe(o=>r={...o,guards:JK(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function l9(t,e){return Ot(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Q({...n,guardsResult:!0}):function d9(t,e,n,r){return ct(t).pipe(Ot(i=>function y9(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Q(s.map(a=>{const u=qc(e)??i,c=Pa(a,u);return Ji(function a9(t){return t&&Kc(t.canDeactivate)}(c)?c.canDeactivate(t,e,n,r):u.runInContext(()=>c(t,e,n,r))).pipe(Xi())})).pipe(Oa()):Q(!0)}(i.component,i.route,n,e,r)),Xi(i=>!0!==i,!0))}(o,r,i,t).pipe(Ot(a=>a&&function r9(t){return"boolean"==typeof t}(a)?function h9(t,e,n,r){return ct(e).pipe(js(i=>fv(function p9(t,e){return null!==t&&e&&e(new NK(t)),Q(!0)}(i.route.parent,r),function f9(t,e){return null!==t&&e&&e(new OK(t)),Q(!0)}(i.route,r),function m9(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function e9(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>KR(()=>Q(o.guards.map(u=>{const c=qc(o.node)??n,l=Pa(u,c);return Ji(function o9(t){return t&&Kc(t.canActivateChild)}(l)?l.canActivateChild(r,t):c.runInContext(()=>l(r,t))).pipe(Xi())})).pipe(Oa())));return Q(s).pipe(Oa())}(t,i.path,n),function g9(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Q(!0);const i=r.map(s=>KR(()=>{const o=qc(e)??n,a=Pa(s,o);return Ji(function s9(t){return t&&Kc(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Xi())}));return Q(i).pipe(Oa())}(t,i.route,n))),Xi(i=>!0!==i,!0))}(r,s,t,e):Q(a)),fe(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Ut(o=>{if(r.guardsResult=o.guardsResult,qs(o.guardsResult))throw DN(0,o.guardsResult);const a=new AK(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Yi(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3,n),!1)),Lv(o=>{if(o.guards.canActivateChecks.length)return Q(o).pipe(Ut(a=>{const u=new xK(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),Hr(a=>{let u=!1;return Q(a).pipe(function V9(t,e){return Ot(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let s=0;return ct(i).pipe(js(o=>function U9(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!HN(i)&&(s[Fc]=i.title),function B9(t,e,n,r){const i=function $9(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Q({});const s={};return ct(i).pipe(Ot(o=>function j9(t,e,n,r){const i=qc(e)??r,s=Pa(t,i);return Ji(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Xi(),Ut(a=>{s[o]=a}))),gv(1),function Z7(t){return fe(()=>t)}(s),Zi(o=>Pv(o)?si:Pc(o)))}(s,t,e,r).pipe(fe(o=>(t._resolvedData=o,t.data=IN(t,n).resolve,i&&HN(i)&&(t.data[Fc]=i.title),null)))}(o.route,r,t,e)),Ut(()=>s++),gv(1),Ot(o=>s===i.length?Q(n):si))})}(n.paramsInheritanceStrategy,this.environmentInjector),Ut({next:()=>u=!0,complete:()=>{u||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2,n))}}))}),Ut(a=>{const u=new MK(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),Lv(o=>{const a=u=>{const c=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(u.routeConfig).pipe(Ut(l=>{u.component=l}),fe(()=>{})));for(const l of u.children)c.push(...a(l));return c};return zR(a(o.targetSnapshot.root)).pipe(vf(),Oc(1))}),Lv(()=>n.afterPreactivation()),fe(o=>{const a=function jK(t,e,n){const r=Hc(t,e._root,n?n._root:void 0);return new vN(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Ut(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>fe(r=>(new ZK(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),Ut({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new zs(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),mv(()=>{i||s||this.cancelNavigationTransition(r,"",1,n),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Zi(o=>{if(s=!0,SN(o)){TN(o)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new Sf(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(a),TN(o)){const u=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),c={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||WN(r.source)};n.scheduleNavigation(u,"imperative",null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new mN(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(o))}catch(u){r.reject(u)}}return si}))}))}cancelNavigationTransition(n,r,i,s){const o=new Sf(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function WN(t){return"imperative"!==t}let KN=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===le);return r}getResolvedTitleForRoute(n){return n.data[Fc]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return me(q9)},providedIn:"root"}),t})(),q9=(()=>{class t extends KN{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(H(BR))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),z9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return me(K9)},providedIn:"root"}),t})();class W9{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let K9=(()=>{class t extends W9{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(t)))(r||t)}}(),t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Ff=new G("",{providedIn:"root",factory:()=>({})});let Y9=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:function(){return me(X9)},providedIn:"root"}),t})(),X9=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Z9(t){throw t}function J9(t,e,n){return e.parse("/")}const eQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $t=(()=>{class t{constructor(){this.disposed=!1,this.currentPageId=0,this.console=me(w8),this.isNgZoneEnabled=!1,this.options=me(Ff,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Z9,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||J9,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Q(void 0),this.urlHandlingStrategy=me(Y9),this.routeReuseStrategy=me(z9),this.urlCreationStrategy=me(UK),this.titleStrategy=me(KN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=eN(me(Fa,{optional:!0})??[]),this.navigationTransitions=me(Uv),this.urlSerializer=me(Vc),this.location=me(H_),this.rootComponentType=null,this.isNgZoneEnabled=me(Ue)instanceof Ue&&Ue.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Hs,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=wN(this.currentUrlTree,this.rootComponentType),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=n.targetPageId},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}resetRootComponentType(n){this.rootComponentType=n,this.routerState.root.component=this.rootComponentType}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},s=n.state?.navigationId?n.state:null;if(n.state){const a={...n.state};delete a.navigationId,delete a.\u0275routerPageId,0!==Object.keys(a).length&&(i.state=a)}const o=this.parseUrl(n.url);this.scheduleNavigation(o,r,s,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(Nv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:o;let l=null;switch(a){case"merge":l={...this.currentUrlTree.queryParams,...s};break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}return null!==l&&(l=this.removeEmptyProps(l)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,l,c??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=qs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(n,r={skipLocationChange:!1}){return function nQ(t){for(let e=0;e<t.length;e++){if(null==t[e])throw new x(4008,!1)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...eQ}:!1===r?{...tQ}:r,qs(n))return rN(this.currentUrlTree,n,i);const s=this.parseUrl(n);return rN(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,c,l;return o?(a=o.resolve,u=o.reject,c=o.promise):c=new Promise((d,h)=>{a=d,u=h}),"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),l=i&&i.\u0275routerPageId?i.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):l=0,this.navigationTransitions.handleNavigationRequest({targetPageId:l,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),La=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new ri;const u=o.nativeElement.tagName;this.isAnchorElement="A"===u||"AREA"===u,this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof zs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=Aa(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=Aa(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=Aa(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function sx(t,e,n){return function EG(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?ix:uc}(e,n)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return t.\u0275fac=function(n){return new(n||t)(D($t),D(Na),function hh(t){return function KH(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(QS(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(Lt(),t)}("tabindex"),D(fi),D(zn),D($s))},t.\u0275dir=J({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&W("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&n&&Lr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[sr]}),t})(),YN=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Me,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof zs&&this.update()})}ngAfterContentInit(){Q(this.links.changes,Q(null)).pipe(jo()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ct(n).pipe(jo()).subscribe(r=>{this.isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||Promise.resolve().then(()=>{const n=this.hasActiveLinks();this.isActive!==n&&(this.isActive=n,this.cdr.markForCheck(),this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function rQ(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&n.isActive(i.urlTree,r)}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}}return t.\u0275fac=function(n){return new(n||t)(D($t),D(zn),D(fi),D(Jh),D(La,8))},t.\u0275dir=J({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,i){if(1&n&&function tk(t,e,n,r){const i=ye();if(i.firstCreatePass){const s=Lt();rk(i,new ZM(e,n,r),s.index),function J5(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}nk(i,T(),n)}(i,La,5),2&n){let s;I_(s=b_())&&(r.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[sr]}),t})();class XN{}let iQ=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Yi(n=>n instanceof zs),js(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Hh(s.providers,n,`Route: ${s.path}`));const o=s._injector??n,a=s._loadedInjector??o;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?i.push(this.preloadConfig(o,s)):(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ct(i).pipe(jo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Q(null);const s=i.pipe(Ot(o=>null===o?Q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));return r.loadComponent&&!r._loadedComponent?ct([s,this.loader.loadComponent(r)]).pipe(jo()):s})}}return t.\u0275fac=function(n){return new(n||t)(H($t),H(Tk),H(hi),H(XN),H(Vv))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const Bv=new G("");let ZN=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ev?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof zs&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof yN&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new yN(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return t.\u0275fac=function(n){!function Vx(){throw new Error("invalid")}()},t.\u0275prov=z({token:t,factory:t.\u0275fac}),t})();function Ua(t,e){return{\u0275kind:t,\u0275providers:e}}function eP(){const t=me(mn);return e=>{const n=t.get(Xh);if(e!==n.components[0])return;const r=t.get($t),i=t.get(tP);1===t.get(jv)&&r.initialNavigation(),t.get(nP,null,X.Optional)?.setUpPreloading(),t.get(Bv,null,X.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const tP=new G("",{factory:()=>new ri}),jv=new G("",{providedIn:"root",factory:()=>1});const nP=new G("");function cQ(t){return Ua(0,[{provide:nP,useExisting:iQ},{provide:XN,useExisting:t}])}const rP=new G("ROUTER_FORROOT_GUARD"),lQ=[H_,{provide:Vc,useClass:yv},$t,Gc,{provide:Na,useFactory:function JN(t){return t.routerState.root},deps:[$t]},Vv,[]];function dQ(){return new Nk("Router",$t)}let iP=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[lQ,[],{provide:Fa,multi:!0,useValue:n},{provide:rP,useFactory:gQ,deps:[[$t,new lt,new ec]]},{provide:Ff,useValue:r||{}},r?.useHash?{provide:$s,useClass:aW}:{provide:$s,useClass:nR},{provide:Bv,useFactory:()=>{const t=me(k6),e=me(Ue),n=me(Ff),r=me(Uv),i=me(Vc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new ZN(i,r,t,e,n)}},r?.preloadingStrategy?cQ(r.preloadingStrategy).\u0275providers:[],{provide:Nk,multi:!0,useFactory:dQ},r?.initialNavigation?mQ(r):[],[{provide:sP,useFactory:eP},{provide:Ck,multi:!0,useExisting:sP}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Fa,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(H(rP,8))},t.\u0275mod=Tn({type:t}),t.\u0275inj=dn({imports:[kv]}),t})();function gQ(t){return"guarded"}function mQ(t){return["disabled"===t.initialNavigation?Ua(3,[{provide:Wh,multi:!0,useFactory:()=>{const e=me($t);return()=>{e.setUpLocationChangeListener()}}},{provide:jv,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ua(2,[{provide:jv,useValue:0},{provide:Wh,multi:!0,deps:[mn],useFactory:e=>{const n=e.get(sW,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const s=e.get($t),o=e.get(tP);(function r(i){e.get($t).events.pipe(Yi(o=>o instanceof zs||o instanceof Sf||o instanceof mN),fe(o=>o instanceof zs||o instanceof Sf&&(0===o.code||1===o.code)&&null),Yi(o=>null!==o),Oc(1)).subscribe(()=>{i()})})(()=>{i(!0)}),s.afterPreactivation=()=>(i(!0),o.closed?Q(void 0):o),s.initialNavigation()}))}}]).\u0275providers:[]]}const sP=new G("");class Ws{}function oP(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(u){oP(s,r,i,o,a,"next",u)}function a(u){oP(s,r,i,o,a,"throw",u)}o(void 0)})}}Ws.\u0275fac=function(e){return new(e||Ws)},Ws.\u0275cmp=_t({type:Ws,selectors:[["app-navbar"]],decls:16,vars:0,consts:[[1,"grid","grid-cols-3","gap-2","bg-black/90","drop-shadow-lg","text-white","md:text-slate-300","backdrop-blur-sm","border-b","border-b-neutral-500","2xl:px-[25%]"],["routerLink","/home","routerLinkActive","active","ariaCurrentWhenActive","page",1,"flex","mx-auto","p-4","md:hover:text-white","transition-colors","max-w-fit"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-lungs-fill","my-auto"],["d","M8 1a.5.5 0 0 1 .5.5v5.243L9 7.1V4.72C9 3.77 9.77 3 10.72 3c.524 0 1.023.27 1.443.592.431.332.847.773 1.216 1.229.736.908 1.347 1.946 1.58 2.48.176.405.393 1.16.556 2.011.165.857.283 1.857.24 2.759-.04.867-.232 1.79-.837 2.33-.67.6-1.622.556-2.741-.004l-1.795-.897A2.5 2.5 0 0 1 9 11.264V8.329l-1-.715-1 .715V7.214c-.1 0-.202.03-.29.093l-2.5 1.786a.5.5 0 1 0 .58.814L7 8.329v2.935A2.5 2.5 0 0 1 5.618 13.5l-1.795.897c-1.12.56-2.07.603-2.741.004-.605-.54-.798-1.463-.838-2.33-.042-.902.076-1.902.24-2.759.164-.852.38-1.606.558-2.012.232-.533.843-1.571 1.579-2.479.37-.456.785-.897 1.216-1.229C4.257 3.27 4.756 3 5.28 3 6.23 3 7 3.77 7 4.72V7.1l.5-.357V1.5A.5.5 0 0 1 8 1Zm3.21 8.907a.5.5 0 1 0 .58-.814l-2.5-1.786A.498.498 0 0 0 9 7.214V8.33l2.21 1.578Z"],[1,"sr-only","md:not-sr-only","md:ml-1.5","text-lg","font-light"],["routerLink","/you","routerLinkActive","active","ariaCurrentWhenActive","page",1,"flex","mx-auto","p-4","md:hover:text-white","transition-colors"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-fill","my-auto"],["d","M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"],["routerLink","/settings","routerLinkActive","active","ariaCurrentWhenActive","page",1,"flex","mx-auto","p-4","md:hover:text-white","transition-colors"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-gear-fill","my-auto"],["d","M9.405 1.05c-.413-1.4-2.397-1.4-2.81 0l-.1.34a1.464 1.464 0 0 1-2.105.872l-.31-.17c-1.283-.698-2.686.705-1.987 1.987l.169.311c.446.82.023 1.841-.872 2.105l-.34.1c-1.4.413-1.4 2.397 0 2.81l.34.1a1.464 1.464 0 0 1 .872 2.105l-.17.31c-.698 1.283.705 2.686 1.987 1.987l.311-.169a1.464 1.464 0 0 1 2.105.872l.1.34c.413 1.4 2.397 1.4 2.81 0l.1-.34a1.464 1.464 0 0 1 2.105-.872l.31.17c1.283.698 2.686-.705 1.987-1.987l-.169-.311a1.464 1.464 0 0 1 .872-2.105l.34-.1c1.4-.413 1.4-2.397 0-2.81l-.34-.1a1.464 1.464 0 0 1-.872-2.105l.17-.31c.698-1.283-.705-2.686-1.987-1.987l-.311.169a1.464 1.464 0 0 1-2.105-.872l-.1-.34zM8 10.93a2.929 2.929 0 1 1 0-5.86 2.929 2.929 0 0 1 0 5.858z"]],template:function(e,n){1&e&&(b(0,"header",0)(1,"a",1),rn(),b(2,"svg",2),_e(3,"path",3),C(),Gn(),b(4,"p",4),U(5,"Exercises"),C()(),b(6,"a",5),rn(),b(7,"svg",6),_e(8,"path",7),C(),Gn(),b(9,"p",4),U(10,"You"),C()(),b(11,"a",8),rn(),b(12,"svg",9),_e(13,"path",10),C(),Gn(),b(14,"p",4),U(15,"Settings"),C()()())},dependencies:[La,YN]});const aP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;u||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aP(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const u=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw Error();r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Lf=function(t){return function(t){const e=aP(t);return Gv.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Vf=function(t){try{return Gv.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function xt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function qv(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Ks(){try{return"object"==typeof indexedDB}catch{return!1}}function Xc(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function zv(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Wv=()=>{try{return function SQ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vf(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},cP=t=>{var e,n;return null===(n=null===(e=Wv())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},lP=t=>{const e=cP(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},dP=t=>{var e;return null===(e=Wv())||void 0===e?void 0:e[`_${t}`]};class Uf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function hP(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Lf(JSON.stringify({alg:"none",type:"JWT"})),Lf(JSON.stringify(o)),""].join(".")}class Kn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qr.prototype.create)}}class qr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function NQ(t,e){return t.replace(PQ,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Kn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const PQ=/\{\$([^}]+)}/g;function $f(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(pP(s)&&pP(o)){if(!$f(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pP(t){return null!==t&&"object"==typeof t}function Zc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class LQ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function VQ(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=Kv),void 0===i.error&&(i.error=Kv),void 0===i.complete&&(i.complete=Kv);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kv(){}function Yv(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function pt(t){return t&&t._delegate?t._delegate:t}class jt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Qs="[DEFAULT]";class GQ{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Uf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function zQ(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return g(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Qs?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class WQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GQ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const Xv=[];var ve=(()=>{return(t=ve||(ve={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",ve;var t})();const gP={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},KQ=ve.INFO,QQ={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},YQ=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=QQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class Ba{constructor(e){this.name=e,this._logLevel=KQ,this._logHandler=YQ,this._userLogHandler=null,Xv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?gP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}}let mP,yP;const _P=new WeakMap,Zv=new WeakMap,vP=new WeakMap,Jv=new WeakMap,ew=new WeakMap;let tw={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Zv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||vP.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function iY(t){return"function"==typeof t?function rY(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function JQ(){return yP||(yP=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(nw(this),e),Ei(_P.get(this))}:function(...e){return Ei(t.apply(nw(this),e))}:function(e,...n){const r=t.call(nw(this),e,...n);return vP.set(r,e.sort?e.sort():[e]),Ei(r)}}(t):(t instanceof IDBTransaction&&function tY(t){if(Zv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Zv.set(t,e)}(t),((t,e)=>e.some(n=>t instanceof n))(t,function ZQ(){return mP||(mP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,tw):t)}function Ei(t){if(t instanceof IDBRequest)return function eY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ei(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&_P.set(n,t)}).catch(()=>{}),ew.set(e,t),e}(t);if(Jv.has(t))return Jv.get(t);const e=iY(t);return e!==t&&(Jv.set(t,e),ew.set(e,t)),e}const nw=t=>ew.get(t);function jf(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ei(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Ei(o.result),u.oldVersion,u.newVersion,Ei(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function rw(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ei(n).then(()=>{})}const sY=["get","getKey","getAll","getAllKeys","count"],oY=["put","add","delete","clear"],iw=new Map;function wP(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(iw.get(e))return iw.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=oY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!sY.includes(n))return;const s=function(){var o=g(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let l=c.store;return r&&(l=l.index(u.shift())),(yield Promise.all([l[n](...u),i&&c.done]))[0]});return function(u){return o.apply(this,arguments)}}();return iw.set(e,s),s}!function nY(t){tw=t(tw)}(t=>({...t,get:(e,n,r)=>wP(e,n)||t.get(e,n,r),has:(e,n)=>!!wP(e,n)||t.has(e,n)}));class aY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function uY(t){return"VERSION"===t.getComponent()?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const sw="@firebase/app",Ys=new Ba("@firebase/app"),Hf="[DEFAULT]",PY={[sw]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xs=new Map,Gf=new Map;function OY(t,e){try{t.container.addComponent(e)}catch(n){Ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function an(t){const e=t.name;if(Gf.has(e))return Ys.debug(`There were multiple attempts to register component ${e}.`),!1;Gf.set(e,t);for(const n of Xs.values())OY(n,t);return!0}function Zs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Di=new qr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class LY{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}const Js="9.15.0";function bP(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Hf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Di.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=Wv())||void 0===t?void 0:t.config})()),!n)throw Di.create("no-options");const s=Xs.get(i);if(s){if($f(n,s.options)&&$f(r,s.config))return s;throw Di.create("duplicate-app",{appName:i})}const o=new WQ(i);for(const u of Gf.values())o.addComponent(u);const a=new LY(n,r,o);return Xs.set(i,a),a}function qf(t=Hf){const e=Xs.get(t);if(!e&&t===Hf)return bP();if(!e)throw Di.create("no-app",{appName:t});return e}function EP(){return Array.from(Xs.values())}function Be(t,e,n){var r;let i=null!==(r=PY[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ys.warn(a.join(" "))}an(new jt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Jc="firebase-heartbeat-store";let aw=null;function DP(){return aw||(aw=jf("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Jc)}}).catch(t=>{throw Di.create("idb-open",{originalErrorMessage:t.message})})),aw}function uw(){return(uw=g(function*(t){try{return(yield DP()).transaction(Jc).objectStore(Jc).get(TP(t))}catch(e){if(e instanceof Kn)Ys.warn(e.message);else{const n=Di.create("idb-get",{originalErrorMessage:e?.message});Ys.warn(n.message)}}})).apply(this,arguments)}function CP(t,e){return cw.apply(this,arguments)}function cw(){return(cw=g(function*(t,e){try{const r=(yield DP()).transaction(Jc,"readwrite");return yield r.objectStore(Jc).put(e,TP(t)),r.done}catch(n){if(n instanceof Kn)Ys.warn(n.message);else{const r=Di.create("idb-set",{originalErrorMessage:n?.message});Ys.warn(r.message)}}})).apply(this,arguments)}function TP(t){return`${t.name}!${t.options.appId}`}class HY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new qY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return g(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=SP();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return g(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=SP(),{heartbeatsToSend:r,unsentEntries:i}=function GY(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),AP(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AP(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Lf(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function SP(){return(new Date).toISOString().substring(0,10)}class qY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return g(function*(){return!!Ks()&&Xc().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return g(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function BY(t){return uw.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return CP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return g(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return CP(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function AP(t){return Lf(JSON.stringify({version:2,heartbeats:t})).length}!function zY(t){an(new jt("platform-logger",e=>new aY(e),"PRIVATE")),an(new jt("heartbeat",e=>new HY(e),"PRIVATE")),Be(sw,"0.9.0",t),Be(sw,"0.9.0","esm2017"),Be("fire-js","")}(""),Be("firebase","9.15.0","app");const xP="@firebase/installations",kP="w:0.6.0",RP="FIS_v2",Ci=new qr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function NP(t){return t instanceof Kn&&t.code.includes("request-failed")}function dw({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function PP(t){return{token:t.token,requestStatus:2,expiresIn:eX(t.expiresIn),creationTime:Date.now()}}function hw(t,e){return fw.apply(this,arguments)}function fw(){return(fw=g(function*(t,e){const r=(yield e.json()).error;return Ci.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function OP({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function FP(t,{refreshToken:e}){const n=OP(t);return n.append("Authorization",function tX(t){return`${RP} ${t}`}(e)),n}function pw(t){return gw.apply(this,arguments)}function gw(){return(gw=g(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function eX(t){return Number(t.replace("s","000"))}function nX(t,e){return mw.apply(this,arguments)}function mw(){return(mw=g(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=dw(t),i=OP(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:RP,appId:t.appId,sdkVersion:kP})},u=yield pw(()=>fetch(r,a));if(u.ok){const c=yield u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:PP(c.authToken)}}throw yield hw("Create Installation",u)})).apply(this,arguments)}function LP(t){return new Promise(e=>{setTimeout(e,t)})}const iX=/^[cdef][\w-]{21}$/;function sX(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function oX(t){return function rX(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return iX.test(n)?n:""}catch{return""}}function $a(t){return`${t.appName}!${t.appId}`}const ja=new Map;function VP(t,e){const n=$a(t);UP(n,e),function cX(t,e){const n=function BP(){return!eo&&"BroadcastChannel"in self&&(eo=new BroadcastChannel("[Firebase] FID Change"),eo.onmessage=t=>{UP(t.data.key,t.data.fid)}),eo}();n&&n.postMessage({key:t,fid:e}),function $P(){0===ja.size&&eo&&(eo.close(),eo=null)}()}(n,e)}function UP(t,e){const n=ja.get(t);if(n)for(const r of n)r(e)}let eo=null;const to="firebase-installations-store";let _w=null;function vw(){return _w||(_w=jf("firebase-installations-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(to)}})),_w}function zf(t,e){return ww.apply(this,arguments)}function ww(){return(ww=g(function*(t,e){const n=$a(t),i=(yield vw()).transaction(to,"readwrite"),s=i.objectStore(to),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&VP(t,e.fid),e})).apply(this,arguments)}function Iw(t){return bw.apply(this,arguments)}function bw(){return(bw=g(function*(t){const e=$a(t),r=(yield vw()).transaction(to,"readwrite");yield r.objectStore(to).delete(e),yield r.done})).apply(this,arguments)}function el(t,e){return Ew.apply(this,arguments)}function Ew(){return(Ew=g(function*(t,e){const n=$a(t),i=(yield vw()).transaction(to,"readwrite"),s=i.objectStore(to),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&VP(t,a.fid),a})).apply(this,arguments)}function Dw(t){return Cw.apply(this,arguments)}function Cw(){return(Cw=g(function*(t){let e;const n=yield el(t.appConfig,r=>{const i=hX(r),s=fX(t,i);return e=s.registrationPromise,s.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function hX(t){return HP(t||{fid:sX(),registrationStatus:0})}function fX(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ci.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function pX(t,e){return Tw.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:gX(t)}:{installationEntry:e}}function Tw(){return(Tw=g(function*(t,e){try{const n=yield nX(t,e);return zf(t.appConfig,n)}catch(n){throw NP(n)&&409===n.customData.serverCode?yield Iw(t.appConfig):yield zf(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function gX(t){return Sw.apply(this,arguments)}function Sw(){return(Sw=g(function*(t){let e=yield jP(t.appConfig);for(;1===e.registrationStatus;)yield LP(100),e=yield jP(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield Dw(t);return r||n}return e})).apply(this,arguments)}function jP(t){return el(t,e=>{if(!e)throw Ci.create("installation-not-found");return HP(e)})}function HP(t){return function mX(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function yX(t,e){return Aw.apply(this,arguments)}function Aw(){return(Aw=g(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=_X(t,n),i=FP(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:kP,appId:t.appId}})},u=yield pw(()=>fetch(r,a));if(u.ok)return PP(yield u.json());throw yield hw("Generate Auth Token",u)})).apply(this,arguments)}function _X(t,{fid:e}){return`${dw(t)}/${e}/authTokens:generate`}function xw(t){return Mw.apply(this,arguments)}function Mw(){return(Mw=g(function*(t,e=!1){let n;const r=yield el(t.appConfig,s=>{if(!qP(s))throw Ci.create("not-registered");const o=s.authToken;if(!e&&IX(o))return s;if(1===o.requestStatus)return n=vX(t,e),s;{if(!navigator.onLine)throw Ci.create("app-offline");const a=EX(s);return n=wX(t,a),a}});return n?yield n:r.authToken})).apply(this,arguments)}function vX(t,e){return kw.apply(this,arguments)}function kw(){return(kw=g(function*(t,e){let n=yield GP(t.appConfig);for(;1===n.authToken.requestStatus;)yield LP(100),n=yield GP(t.appConfig);const r=n.authToken;return 0===r.requestStatus?xw(t,e):r})).apply(this,arguments)}function GP(t){return el(t,e=>{if(!qP(e))throw Ci.create("not-registered");return function DX(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function wX(t,e){return Rw.apply(this,arguments)}function Rw(){return(Rw=g(function*(t,e){try{const n=yield yX(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield zf(t.appConfig,r),n}catch(n){if(!NP(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield zf(t.appConfig,r)}else yield Iw(t.appConfig);throw n}})).apply(this,arguments)}function qP(t){return void 0!==t&&2===t.registrationStatus}function IX(t){return 2===t.requestStatus&&!function bX(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function EX(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Nw(){return(Nw=g(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield Dw(e);return r?r.catch(console.error):xw(e).catch(console.error),n.fid})).apply(this,arguments)}function Pw(){return(Pw=g(function*(t,e=!1){const n=t;return yield SX(n),(yield xw(n,e)).token})).apply(this,arguments)}function SX(t){return Ow.apply(this,arguments)}function Ow(){return(Ow=g(function*(t){const{registrationPromise:e}=yield Dw(t);e&&(yield e)})).apply(this,arguments)}function Vw(t){return Ci.create("missing-app-config-values",{valueName:t})}const zP="installations",RX=t=>{const e=t.getProvider("app").getImmediate(),n=function MX(t){if(!t||!t.options)throw Vw("App Configuration");if(!t.name)throw Vw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Vw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Zs(e,"heartbeat"),_delete:()=>Promise.resolve()}},NX=t=>{const n=Zs(t.getProvider("app").getImmediate(),zP).getImmediate();return{getId:()=>function CX(t){return Nw.apply(this,arguments)}(n),getToken:i=>function TX(t){return Pw.apply(this,arguments)}(n,i)}};(function PX(){an(new jt(zP,RX,"PUBLIC")),an(new jt("installations-internal",NX,"PRIVATE"))})(),Be(xP,"0.6.0"),Be(xP,"0.6.0","esm2017");const Uw="@firebase/remote-config",Rn=new qr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qX{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function zX(t=navigator){return t.languages&&t.languages[0]||t.language}class WX{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return g(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:zX()},c={method:"POST",headers:a,body:JSON.stringify(u)},l=fetch(o,c),d=new Promise((I,E)=>{e.signal.addEventListener(()=>{const _=new Error("The operation was aborted.");_.name="AbortError",E(_)})});let h;try{yield Promise.race([l,d]),h=yield l}catch(I){let E="fetch-client-network";throw"AbortError"===I?.name&&(E="fetch-timeout"),Rn.create(E,{originalErrorMessage:I?.message})}let f=h.status;const p=h.headers.get("ETag")||void 0;let m,y;if(200===h.status){let I;try{I=yield h.json()}catch(E){throw Rn.create("fetch-client-parse",{originalErrorMessage:E?.message})}m=I.entries,y=I.state}if("INSTANCE_STATE_UNSPECIFIED"===y?f=500:"NO_CHANGE"===y?f=304:("NO_TEMPLATE"===y||"EMPTY_CONFIG"===y)&&(m={}),304!==f&&200!==f)throw Rn.create("fetch-status",{httpStatus:f});return{status:f,eTag:p,config:m}})()}}class YX{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return g(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return g(function*(){yield function KX(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function QX(t){if(!(t instanceof Kn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+Yv(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class JX{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Kf(t,e){const n=t.target.error||void 0;return Rn.create(e,{originalErrorMessage:n&&n?.message})}const no="app_namespace_store";class rZ{constructor(e,n,r,i=function nZ(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Kf(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(no,{keyPath:"compositeKey"})}}catch(n){e(Rn.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([no],"readonly").objectStore(no),u=n.createCompositeKey(e);try{const c=a.get(u);c.onerror=l=>{s(Kf(l,"storage-get"))},c.onsuccess=l=>{const d=l.target.result;i(d?d.value:void 0)}}catch(c){s(Rn.create("storage-get",{originalErrorMessage:c?.message}))}})})()}set(e,n){var r=this;return g(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const u=i.transaction([no],"readwrite").objectStore(no),c=r.createCompositeKey(e);try{const l=u.put({compositeKey:c,value:n});l.onerror=d=>{o(Kf(d,"storage-set"))},l.onsuccess=()=>{s()}}catch(l){o(Rn.create("storage-set",{originalErrorMessage:l?.message}))}})})()}delete(e){var n=this;return g(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([no],"readwrite").objectStore(no),u=n.createCompositeKey(e);try{const c=a.delete(u);c.onerror=l=>{s(Kf(l,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(Rn.create("storage-delete",{originalErrorMessage:c?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class iZ{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return g(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function oZ(){return Gw.apply(this,arguments)}function Gw(){return(Gw=g(function*(){if(!Ks())return!1;try{return yield Xc()}catch{return!1}})).apply(this,arguments)}!function sZ(){an(new jt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Rn.create("registration-window");if(!Ks())throw Rn.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Rn.create("registration-project-id");if(!o)throw Rn.create("registration-api-key");if(!a)throw Rn.create("registration-app-id");const u=new rZ(a,r.name,n=n||"firebase"),c=new iZ(u),l=new Ba(Uw);l.logLevel=ve.ERROR;const d=new WX(i,Js,n,s,o,a),h=new YX(d,u),f=new qX(h,u,c,l),p=new JX(r,f,c,u,l);return function jX(t){const e=pt(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(p),p},"PUBLIC").setMultipleInstances(!0)),Be(Uw,"0.4.0"),Be(Uw,"0.4.0","esm2017")}();const aZ="/firebase-messaging-sw.js",uZ="/firebase-cloud-messaging-push-scope",YP="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",XP="google.c.a.c_id",lZ="google.c.a.c_l",dZ="google.c.a.ts",hZ="google.c.a.e";var Ha=(()=>{return(t=Ha||(Ha={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Ha;var t})();function Ti(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fZ(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const qw="fcm_token_details_db",ZP="fcm_token_object_Store";function gZ(t){return zw.apply(this,arguments)}function zw(){return zw=g(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(qw))return null;let e=null;return(yield jf(qw,5,{upgrade:(r=g(function*(i,s,o,a){var u;if(s<2||!i.objectStoreNames.contains(ZP))return;const c=a.objectStore(ZP),l=yield c.index("fcmSenderId").get(t);if(yield c.clear(),l)if(2===s){const d=l;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(u=d.createTime)&&void 0!==u?u:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Ti(d.vapidKey)}}}else if(3===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ti(d.auth),p256dh:Ti(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ti(d.vapidKey)}}}else if(4===s){const d=l;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Ti(d.auth),p256dh:Ti(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Ti(d.vapidKey)}}}}),function(s,o,a,u){return r.apply(this,arguments)})})).close(),yield rw(qw),yield rw("fcm_vapid_details_db"),yield rw("undefined"),mZ(e)?e:null;var r}),zw.apply(this,arguments)}function mZ(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const ro="firebase-messaging-store";let Ww=null;function Kw(){return Ww||(Ww=jf("firebase-messaging-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ro)}})),Ww}function JP(t){return Qw.apply(this,arguments)}function Qw(){return(Qw=g(function*(t){const e=Jw(t),r=yield(yield Kw()).transaction(ro).objectStore(ro).get(e);if(r)return r;{const i=yield gZ(t.appConfig.senderId);if(i)return yield Yw(t,i),i}})).apply(this,arguments)}function Yw(t,e){return Xw.apply(this,arguments)}function Xw(){return(Xw=g(function*(t,e){const n=Jw(t),i=(yield Kw()).transaction(ro,"readwrite");return yield i.objectStore(ro).put(e,n),yield i.done,e})).apply(this,arguments)}function vZ(t){return Zw.apply(this,arguments)}function Zw(){return(Zw=g(function*(t){const e=Jw(t),r=(yield Kw()).transaction(ro,"readwrite");yield r.objectStore(ro).delete(e),yield r.done})).apply(this,arguments)}function Jw({appConfig:t}){return t.appId}const Ht=new qr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function IZ(t,e){return eI.apply(this,arguments)}function eI(){return(eI=g(function*(t,e){const n=yield iI(t),r=tO(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(rI(t.appConfig),i)).json()}catch(o){throw Ht.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Ht.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Ht.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function bZ(t,e){return tI.apply(this,arguments)}function tI(){return(tI=g(function*(t,e){const n=yield iI(t),r=tO(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${rI(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Ht.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Ht.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Ht.create("token-update-no-token");return s.token})).apply(this,arguments)}function eO(t,e){return nI.apply(this,arguments)}function nI(){return(nI=g(function*(t,e){const r={method:"DELETE",headers:yield iI(t)};try{const s=yield(yield fetch(`${rI(t.appConfig)}/${e}`,r)).json();if(s.error)throw Ht.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Ht.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function rI({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function iI(t){return sI.apply(this,arguments)}function sI(){return(sI=g(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function tO({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==YP&&(i.web.applicationPubKey=r),i}const EZ=6048e5;function DZ(t){return oI.apply(this,arguments)}function oI(){return(oI=g(function*(t){const e=yield TZ(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ti(e.getKey("auth")),p256dh:Ti(e.getKey("p256dh"))},r=yield JP(t.firebaseDependencies);if(r){if(SZ(r.subscriptionOptions,n))return Date.now()>=r.createTime+EZ?CZ(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield eO(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return rO(t.firebaseDependencies,n)}return rO(t.firebaseDependencies,n)})).apply(this,arguments)}function nO(t){return aI.apply(this,arguments)}function aI(){return(aI=g(function*(t){const e=yield JP(t.firebaseDependencies);e&&(yield eO(t.firebaseDependencies,e.token),yield vZ(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function CZ(t,e){return uI.apply(this,arguments)}function uI(){return(uI=g(function*(t,e){try{const n=yield bZ(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Yw(t.firebaseDependencies,r),n}catch(n){throw yield nO(t),n}})).apply(this,arguments)}function rO(t,e){return cI.apply(this,arguments)}function cI(){return(cI=g(function*(t,e){const r={token:yield IZ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Yw(t,r),r.token})).apply(this,arguments)}function TZ(t,e){return lI.apply(this,arguments)}function lI(){return(lI=g(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fZ(e)})})).apply(this,arguments)}function SZ(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function iO(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function AZ(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function xZ(t,e){!e.data||(t.data=e.data)}(e,t),function MZ(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const u=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;u&&(t.fcmOptions.analyticsLabel=u)}(e,t),e}function kZ(t){return"object"==typeof t&&!!t&&XP in t}function sO(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function dI(t){return Ht.create("missing-app-config-values",{valueName:t})}sO("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),sO("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class NZ{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function RZ(t){if(!t||!t.options)throw dI("App Configuration Object");if(!t.name)throw dI("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw dI(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function oO(t){return hI.apply(this,arguments)}function hI(){return(hI=g(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(aZ,{scope:uZ}),t.swRegistration.update().catch(()=>{})}catch(e){throw Ht.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function PZ(t,e){return fI.apply(this,arguments)}function fI(){return(fI=g(function*(t,e){if(!e&&!t.swRegistration&&(yield oO(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ht.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function OZ(t,e){return pI.apply(this,arguments)}function pI(){return(pI=g(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=YP)})).apply(this,arguments)}function gI(){return(gI=g(function*(t,e){if(!navigator)throw Ht.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ht.create("permission-blocked");return yield OZ(t,e?.vapidKey),yield PZ(t,e?.serviceWorkerRegistration),DZ(t)})).apply(this,arguments)}function FZ(t,e,n){return mI.apply(this,arguments)}function mI(){return(mI=g(function*(t,e,n){const r=LZ(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[XP],message_name:n[lZ],message_time:n[dZ],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function LZ(t){switch(t){case Ha.NOTIFICATION_CLICKED:return"notification_open";case Ha.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function yI(){return(yI=g(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Ha.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(iO(n)):t.onMessageHandler.next(iO(n)));const r=n.data;kZ(r)&&"1"===r[hZ]&&(yield FZ(t,n.messageType,r))})).apply(this,arguments)}const uO="@firebase/messaging",UZ=t=>{const e=new NZ(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function VZ(t,e){return yI.apply(this,arguments)}(e,n)),e},BZ=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function aO(t,e){return gI.apply(this,arguments)}(e,r)}};function lO(){return _I.apply(this,arguments)}function _I(){return(_I=g(function*(){try{yield Xc()}catch{return!1}return typeof window<"u"&&Ks()&&zv()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $Z(){an(new jt("messaging",UZ,"PUBLIC")),an(new jt("messaging-internal",BZ,"PRIVATE")),Be(uO,"0.12.0"),Be(uO,"0.12.0","esm2017")}();const Qf="analytics",GZ="firebase_id",WZ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dO="https://www.googletagmanager.com/gtag/js",Gt=new Ba("@firebase/analytics");function hO(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function KZ(t,e){const n=document.createElement("script");n.src=`${dO}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function YZ(t,e,n,r,i,s){return II.apply(this,arguments)}function II(){return(II=g(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const u=(yield hO(n)).find(c=>c.measurementId===i);u&&(yield e[u.appId])}}catch(a){Gt.error(a)}t("config",i,s)})).apply(this,arguments)}function XZ(t,e,n,r,i){return bI.apply(this,arguments)}function bI(){return(bI=g(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield hO(n);for(const u of o){const c=a.find(d=>d.measurementId===u),l=c&&e[c.appId];if(!l){s=[];break}s.push(l)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){Gt.error(s)}})).apply(this,arguments)}function eJ(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(dO)&&n.src.includes(t))return n;return null}const Qn=new qr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),fO=new class iJ{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function sJ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function oJ(t){return EI.apply(this,arguments)}function EI(){return(EI=g(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:sJ(r)},s=WZ.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const u=yield o.json();null!==(e=u.error)&&void 0!==e&&e.message&&(a=u.error.message)}catch{}throw Qn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function aJ(t){return DI.apply(this,arguments)}function DI(){return(DI=g(function*(t,e=fO,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Qn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Qn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new lJ;return setTimeout(g(function*(){a.abort()}),void 0!==n?n:6e4),pO({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function pO(t,e,n){return CI.apply(this,arguments)}function CI(){return(CI=g(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=fO){var s;const{appId:o,measurementId:a}=t;try{yield uJ(r,e)}catch(u){if(a)return Gt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:o,measurementId:a};throw u}try{const u=yield oJ(t);return i.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!cJ(c)){if(i.deleteThrottleMetadata(o),a)return Gt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw u}const l=503===Number(null===(s=c?.customData)||void 0===s?void 0:s.httpStatus)?Yv(n,i.intervalMillis,30):Yv(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+l,backoffCount:n+1};return i.setThrottleMetadata(o,d),Gt.debug(`Calling attemptFetch again in ${l} millis`),pO(t,d,r,i)}})).apply(this,arguments)}function uJ(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function cJ(t){if(!(t instanceof Kn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class lJ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let TI,RI;function SI(){return(SI=g(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function gO(t){RI=t}function mO(t){TI=t}function mJ(){return NI.apply(this,arguments)}function NI(){return(NI=g(function*(){if(!Ks())return Gt.warn(Qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Xc()}catch(t){return Gt.warn(Qn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function PI(){return(PI=g(function*(t,e,n,r,i,s,o){var a;const u=aJ(t);u.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&Gt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>Gt.error(f)),e.push(u);const c=mJ().then(f=>{if(f)return r.getId()}),[l,d]=yield Promise.all([u,c]);eJ(s)||KZ(s,l.measurementId),RI&&(i("consent","default",RI),gO(void 0)),i("js",new Date);const h=null!==(a=o?.config)&&void 0!==a?a:{};return h.origin="firebase",h.update=!0,null!=d&&(h[GZ]=d),i("config",l.measurementId,h),TI&&(i("set",TI),mO(void 0)),l.measurementId})).apply(this,arguments)}class _J{constructor(e){this.app=e}_delete(){return delete Si[this.app.options.appId],Promise.resolve()}}let Si={},yO=[];const _O={};let wO,Ai,Yf="dataLayer",OI=!1;function wJ(t,e,n){!function vJ(){const t=[];if(qv()&&t.push("This is a browser extension environment."),zv()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Qn.create("invalid-analytics-context",{errorInfo:e});Gt.warn(n.message)}}();const r=t.options.appId;if(!r)throw Qn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Qn.create("no-api-key");Gt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Si[r])throw Qn.create("already-exists",{id:r});if(!OI){!function QZ(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Yf);const{wrappedGtag:s,gtagCore:o}=function JZ(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function ZZ(t,e,n,r){function s(){return(s=g(function*(o,a,u){try{"event"===o?yield XZ(t,e,n,a,u):"config"===o?yield YZ(t,e,n,r,a,u):"consent"===o?t("consent","update",u):t("set",a)}catch(c){Gt.error(c)}})).apply(this,arguments)}return function i(o,a,u){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Si,yO,_O,Yf,"gtag");Ai=s,wO=o,OI=!0}return Si[r]=function yJ(t,e,n,r,i,s,o){return PI.apply(this,arguments)}(t,yO,_O,e,wO,Yf,n),new _J(t)}function bJ(){return FI.apply(this,arguments)}function FI(){return(FI=g(function*(){if(qv()||!zv()||!Ks())return!1;try{return yield Xc()}catch{return!1}})).apply(this,arguments)}const IO="@firebase/analytics";!function DJ(){an(new jt(Qf,(e,{options:n})=>wJ(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),an(new jt("analytics-internal",function t(e){try{const n=e.getProvider(Qf).getImmediate();return{logEvent:(r,i,s)=>function EJ(t,e,n,r){t=pt(t),function dJ(t,e,n,r,i){return SI.apply(this,arguments)}(Ai,Si[t.app.options.appId],e,n,r).catch(i=>Gt.error(i))}(n,r,i,s)}}catch(n){throw Qn.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Be(IO,"0.9.0"),Be(IO,"0.9.0","esm2017")}();class CJ extends Vn{constructor(e,n){super()}schedule(e,n=0){return this}}const Xf={setInterval(t,e,...n){const{delegate:r}=Xf;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Xf;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class EO extends CJ{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Xf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Xf.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,$o(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const DO={now:()=>(DO.delegate||Date).now(),delegate:void 0};class tl{constructor(e,n=tl.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}tl.now=DO.now;class CO extends tl{constructor(e,n=tl.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const AJ=new class SJ extends CO{}(class TJ extends EO{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),xJ=new CO(EO),nl=new ua("7.5.0"),LI="__angularfire_symbol__analyticsIsSupportedValue",VI="__angularfire_symbol__analyticsIsSupported",UI="__angularfire_symbol__remoteConfigIsSupportedValue",BI="__angularfire_symbol__remoteConfigIsSupported",$I="__angularfire_symbol__messagingIsSupportedValue",jI="__angularfire_symbol__messagingIsSupported";function Zf(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[VI]||(globalThis[VI]=bJ().then(t=>globalThis[LI]=t).catch(()=>globalThis[LI]=!1)),globalThis[jI]||(globalThis[jI]=lO().then(t=>globalThis[$I]=t).catch(()=>globalThis[$I]=!1)),globalThis[BI]||(globalThis[BI]=oZ().then(t=>globalThis[UI]=t).catch(()=>globalThis[UI]=!1));const Jf=(t,e)=>{const n=e?[e]:EP(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Ga(){}class TO{constructor(e,n=AJ){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class MJ{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ga,{},Ga,Ga)),n.pipe(Ut({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ep=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new TO(Zone.current)),this.insideAngular=n.run(()=>new TO(Zone.current,xJ)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(H(Ue))},t.\u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function io(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function kJ(t){return io().ngZone.runOutsideAngular(()=>t())}function so(t){return io().ngZone.run(()=>t())}function RJ(t){return io(),function NJ(t){return function(n){return(n=n.lift(new MJ(t.ngZone))).pipe(Hd(t.outsideAngular),jd(t.insideAngular))}}(io())(t)}const PJ=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),so(()=>t.apply(void 0,r))},qt=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=so(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ga,{},Ga,Ga)))),r[s]=PJ(r[s],n));const i=kJ(()=>t.apply(this,r));if(!e){if(i instanceof Xe){const s=io();return i.pipe(Hd(s.outsideAngular),jd(s.insideAngular))}return so(()=>i)}return i instanceof Xe?i.pipe(RJ):i instanceof Promise?so(()=>new Promise((s,o)=>i.then(a=>so(()=>s(a)),a=>so(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:so(()=>i)};class oo{constructor(e){return e}}class tp{constructor(){return EP()}}const GI=new G("angularfire2._apps"),FJ={provide:oo,useFactory:function OJ(t){return t&&1===t.length?t[0]:new oo(qf())},deps:[[new lt,GI]]},LJ={provide:tp,deps:[[new lt,GI]]};function VJ(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new oo(r)}}let UJ=(()=>{class t{constructor(n){Be("angularfire",nl.full,"core"),Be("angularfire",nl.full,"app"),Be("angular",_x.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(H(Qh))},t.\u0275mod=Tn({type:t}),t.\u0275inj=dn({providers:[FJ,LJ]}),t})();const $J=qt(bP,!0),qI=new Map,SO={activated:!1,tokenObservers:[]},jJ={initialized:!1,enabled:!1};function zt(t){return qI.get(t)||Object.assign({},SO)}function np(){return jJ}class KJ{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return g(function*(){n.stop();try{n.pending=new Uf,yield function QJ(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Uf,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const vn=new qr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function xO(t){if(!zt(t).activated)throw vn.create("use-before-activation",{appName:t.name})}function KI(t,e){return QI.apply(this,arguments)}function QI(){return(QI=g(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw vn.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw vn.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw vn.create("fetch-parse-error",{originalErrorMessage:d?.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw vn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.token,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function JJ(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const rl="firebase-app-check-store";let sp=null;function kO(){return sp||(sp=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(vn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(rl,{keyPath:"compositeKey"})}}catch(n){e(vn.create("storage-open",{originalErrorMessage:n?.message}))}}),sp)}function YI(){return(YI=g(function*(t,e){const r=(yield kO()).transaction(rl,"readwrite"),s=r.objectStore(rl).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=u=>{o()},r.onerror=u=>{var c;a(vn.create("storage-set",{originalErrorMessage:null===(c=u.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const il=new Ba("@firebase/app-check");function JI(t,e){return Ks()?function ree(t,e){return function RO(t,e){return YI.apply(this,arguments)}(function PO(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{il.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function OO(){return np().enabled}function FO(){return t0.apply(this,arguments)}function t0(){return(t0=g(function*(){const t=np();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const cee={error:"UNKNOWN_ERROR"};function lee(t){return Gv.encodeString(JSON.stringify(t),!1)}function op(t){return n0.apply(this,arguments)}function n0(){return(n0=g(function*(t,e=!1){const n=t.app;xO(n);const r=zt(n);let s,i=r.token;if(i&&!qa(i)&&(r.token=void 0,i=void 0),!i){const u=yield r.cachedTokenPromise;u&&(qa(u)?i=u:yield JI(n,void 0))}if(!e&&i&&qa(i))return{token:i.token};let a,o=!1;if(OO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=KI(JJ(n,yield FO()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const u=yield r.exchangeTokenPromise;return yield JI(n,u),r.token=u,{token:u.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield zt(n).exchangeTokenPromise}catch(u){"appCheck/throttled"===u.code?il.warn(u.message):il.error(u),s=u}return i?s?a=qa(i)?{token:i.token,internalError:s}:UO(s):(a={token:i.token},r.token=i,yield JI(n,i)):a=UO(s),o&&VO(n,a),a})).apply(this,arguments)}function s0(t,e){const n=zt(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function LO(t){const{app:e}=t,n=zt(e);let r=n.tokenRefresher;r||(r=function dee(t){const{app:e}=t;return new KJ(g(function*(){let r;if(r=zt(e).token?yield op(t,!0):yield op(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=zt(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function VO(t,e){const n=zt(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function qa(t){return t.expireTimeMillis-Date.now()>0}function UO(t){return{token:lee(cee),error:t}}class hee{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=zt(this.app);for(const n of e)s0(this.app,n.next);return Promise.resolve()}}const WO="app-check-internal";!function Tee(){an(new jt("app-check",t=>function fee(t,e){return new hee(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(WO).initialize()})),an(new jt(WO,t=>function pee(t){return{getToken:e=>op(t,e),addTokenListener:e=>function r0(t,e,n,r){const{app:i}=t,s=zt(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&qa(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),LO(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>LO(t))}(t,"INTERNAL",e),removeTokenListener:e=>s0(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Be("@firebase/app-check","0.6.0")}();class up{constructor(){return Jf("app-check")}}typeof window<"u"&&window;const kee=function QO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},YO=new qr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),XO=new Ba("@firebase/auth");function cp(t,...e){XO.logLevel<=ve.ERROR&&XO.error(`Auth (${Js}): ${t}`,...e)}function Nn(t,...e){throw l0(t,...e)}function Yn(t,...e){return l0(t,...e)}function ZO(t,e,n){const r=Object.assign(Object.assign({},kee()),{[e]:n});return new qr("auth","Firebase",r).create(e,{appName:t.name})}function za(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&Nn(t,"argument-error"),ZO(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function l0(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return YO.create(t,...e)}function k(t,e,...n){if(!t)throw l0(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw cp(e),new Error(e)}function xi(t,e){t||zr(e)}const JO=new Map;function Mi(t){xi(t instanceof Function,"Expected a class definition");let e=JO.get(t);return e?(xi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JO.set(t,e),e)}function sl(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function eF(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class ol{constructor(e,n){this.shortDelay=e,this.longDelay=n,xi(n>e,"Short delay should be less than long delay!"),this.isMobile=function EQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}()||function CQ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return function Pee(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function d0(){return"http:"===eF()||"https:"===eF()}()||qv()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function h0(t,e){xi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class tF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Lee=new ol(3e4,6e4);function Et(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Mt(t,e,n,r){return f0.apply(this,arguments)}function f0(){return(f0=g(function*(t,e,n,r,i={}){return nF(t,i,g(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Zc(Object.assign({key:t.config.apiKey},o)).slice(1),u=yield t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),tF.fetch()(rF(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function nF(t,e,n){return p0.apply(this,arguments)}function p0(){return(p0=g(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Fee),e);try{const i=new Vee(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw al(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw al(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===u)throw al(t,"email-already-in-use",o);if("USER_DISABLED"===u)throw al(t,"user-disabled",o);const l=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw ZO(t,l,c);Nn(t,l)}}catch(i){if(i instanceof Kn)throw i;Nn(t,"network-request-failed")}})).apply(this,arguments)}function ki(t,e,n,r){return g0.apply(this,arguments)}function g0(){return(g0=g(function*(t,e,n,r,i={}){const s=yield Mt(t,e,n,r,i);return"mfaPendingCredential"in s&&Nn(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function rF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?h0(t.config,i):`${t.config.apiScheme}://${i}`}class Vee{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yn(this.auth,"network-request-failed")),Lee.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function al(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yn(t,e,r);return i.customData._tokenResponse=n,i}function m0(){return(m0=g(function*(t,e){return Mt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function $ee(t,e){return _0.apply(this,arguments)}function _0(){return(_0=g(function*(t,e){return Mt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function ul(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function v0(){return(v0=g(function*(t,e=!1){const n=pt(t),r=yield n.getIdToken(e),i=lp(r);k(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ul(w0(i.auth_time)),issuedAtTime:ul(w0(i.iat)),expirationTime:ul(w0(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function w0(t){return 1e3*Number(t)}function lp(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return cp("JWT malformed, contained fewer than 3 sections"),null;try{const i=Vf(n);return i?JSON.parse(i):(cp("Failed to decode base64 JWT payload"),null)}catch(i){return cp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Ri(t,e){return I0.apply(this,arguments)}function I0(){return(I0=g(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Kn&&Gee(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function Gee({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class qee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(g(function*(){yield n.iteration()}),r)}iteration(){var e=this;return g(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class iF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ul(this.lastLoginAt),this.creationTime=ul(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function cl(t){return b0.apply(this,arguments)}function b0(){return(b0=g(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Ri(t,$ee(n,{idToken:r}));k(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?Kee(s.providerUserInfo):[],a=Wee(t.providerData,o),l=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new iF(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(t,d)})).apply(this,arguments)}function E0(){return(E0=g(function*(t){const e=pt(t);yield cl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Wee(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Kee(t){return t.map(e=>{var{providerId:n}=e,r=hm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function D0(){return(D0=g(function*(t,e){const n=yield nF(t,{},g(function*(){const r=Zc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=rF(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tF.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k(typeof e.idToken<"u","internal-error"),k(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Hee(t){const e=lp(t);return k(e,"internal-error"),k(typeof e.exp<"u","internal-error"),k(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return g(function*(){return k(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return g(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Qee(t,e){return D0.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new ll;return r&&(k("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(k("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(k("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return zr("not implemented")}}function es(t,e){k("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class ao{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=hm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new iF(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return g(function*(){const r=yield Ri(n,n.stsTokenManager.getToken(n.auth,e));return k(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function jee(t){return v0.apply(this,arguments)}(this,e)}reload(){return function zee(t){return E0.apply(this,arguments)}(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ao(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return g(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield cl(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return g(function*(){const n=yield e.getIdToken();return yield Ri(e,function Uee(t,e){return m0.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,c,l;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,m=null!==(a=n.tenantId)&&void 0!==a?a:void 0,y=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,I=null!==(c=n.createdAt)&&void 0!==c?c:void 0,E=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,{uid:_,emailVerified:M,isAnonymous:V,providerData:B,stsTokenManager:He}=n;k(_&&He,e,"internal-error");const nr=ll.fromJSON(this.name,He);k("string"==typeof _,e,"internal-error"),es(d,e.name),es(h,e.name),k("boolean"==typeof M,e,"internal-error"),k("boolean"==typeof V,e,"internal-error"),es(f,e.name),es(p,e.name),es(m,e.name),es(y,e.name),es(I,e.name),es(E,e.name);const Bo=new ao({uid:_,auth:e,email:h,emailVerified:M,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:nr,createdAt:I,lastLoginAt:E});return B&&Array.isArray(B)&&(Bo.providerData=B.map(kde=>Object.assign({},kde))),y&&(Bo._redirectEventId=y),Bo}static _fromIdTokenResponse(e,n,r=!1){return g(function*(){const i=new ll;i.updateFromServerResponse(n);const s=new ao({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield cl(s),s})()}}const sF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return g(function*(){return!0})()}_set(n,r){var i=this;return g(function*(){i.storage[n]=r})()}_get(n){var r=this;return g(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return g(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function dp(t,e,n){return`firebase:${t}:${e}:${n}`}class Wa{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=dp(this.userKey,i.apiKey,s),this.fullPersistenceKey=dp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return g(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?ao._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return g(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return g(function*(){if(!n.length)return new Wa(Mi(sF),e,r);const i=(yield Promise.all(n.map(function(){var c=g(function*(l){if(yield l._isAvailable())return l});return function(l){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Mi(sF);const o=dp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const l=yield c._get(o);if(l){const d=ao._fromJSON(e,l);c!==s&&(a=d),s=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=g(function*(l){if(l!==s)try{yield l._remove(o)}catch{}});return function(l){return c.apply(this,arguments)}}())),new Wa(s,e,r)):new Wa(s,e,r)})()}}function oF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dF(e))return"Blackberry";if(hF(e))return"Webos";if(C0(e))return"Safari";if((e.includes("chrome/")||uF(e))&&!e.includes("edge/"))return"Chrome";if(lF(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function aF(t=xt()){return/firefox\//i.test(t)}function C0(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uF(t=xt()){return/crios\//i.test(t)}function cF(t=xt()){return/iemobile/i.test(t)}function lF(t=xt()){return/android/i.test(t)}function dF(t=xt()){return/blackberry/i.test(t)}function hF(t=xt()){return/webos/i.test(t)}function hp(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fF(t=xt()){return hp(t)||lF(t)||hF(t)||dF(t)||/windows phone/i.test(t)||cF(t)}function pF(t,e=[]){let n;switch(t){case"Browser":n=oF(xt());break;case"Worker":n=`${oF(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Js}/${r}`}class Jee{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return g(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class ete{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gF(this),this.idTokenSubscription=new gF(this),this.beforeStateQueue=new Jee(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YO,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Mi(n)),this._initializationPromise=this.queue(g(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Wa.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return g(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return g(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,u=s?._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return k(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return g(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return g(function*(){try{yield cl(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Oee(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return g(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return g(function*(){const r=e?pt(e):null;return r&&k(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return g(function*(){if(!r._deleted)return e&&k(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(g(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return g(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(g(function*(){yield n.assertedPersistence.setPersistence(Mi(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return g(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return g(function*(){if(!n.redirectPersistenceManager){const r=e&&Mi(e)||n._popupRedirectResolver;k(r,n,"argument-error"),n.redirectPersistenceManager=yield Wa.create(n,[Mi(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return g(function*(){var r,i;return n._isInitialized&&(yield n.queue(g(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return g(function*(){if(e===n.currentUser)return n.queue(g(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return k(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return g(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return g(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function Pn(t){return pt(t)}class gF{constructor(e){this.auth=e,this.observer=null,this.addObserver=function FQ(t,e){const n=new LQ(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yF(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class _F{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}function Ni(t,e){return V0.apply(this,arguments)}function V0(){return(V0=g(function*(t,e){return ki(t,"POST","/v1/accounts:signInWithIdp",Et(t,e))})).apply(this,arguments)}class Ka extends _F{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Nn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=hm(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ka(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return Ni(e,this.buildRequest())}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ni(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ni(e,n)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Zc(n)}return e}}class ts{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class bF extends ts{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let wte=(()=>{class t extends bF{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return Ka._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;const{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})();class pr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return g(function*(){const s=yield ao._fromIdTokenResponse(e,r,i),o=DF(r);return new pr({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return g(function*(){yield e._updateTokensIfNecessary(r,!0);const i=DF(r);return new pr({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function DF(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class mp extends Kn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,mp.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new mp(e,n,r,i)}}function CF(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?mp._fromErrorAndOperation(t,s,e,r):s})}function W0(t,e){return K0.apply(this,arguments)}function K0(){return(K0=g(function*(t,e,n=!1){const r=yield Ri(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return pr._forOperation(t,"link",r)})).apply(this,arguments)}function Y0(){return(Y0=g(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Ri(t,CF(r,i,e,t),n);k(s.idToken,r,"internal-error");const o=lp(s.idToken);k(o,r,"internal-error");const{sub:a}=o;return k(t.uid===a,r,"user-mismatch"),pr._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Nn(r,"user-mismatch"),s}})).apply(this,arguments)}function X0(){return(X0=g(function*(t,e,n=!1){const r="signIn",i=yield CF(t,r,e),s=yield pr._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Fte(t,e,n,r){return pt(t).onAuthStateChanged(e,n,r)}function Lte(t){return pt(t).signOut()}const vp="__sak";class MF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vp,"1"),this.storage.removeItem(vp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gte=(()=>{class t extends MF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $te(){const t=xt();return C0(t)||hp(t)}()&&function Zee(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=fF(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,u,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Xee(){return function TQ(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return g(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return g(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return g(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),kF=(()=>{class t extends MF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let zte=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return g(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,u=r.handlersMap[o];if(!u?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(u).map(function(){var d=g(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),l=yield function qte(t){return Promise.all(t.map(function(){var e=g(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:l})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function wp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Wte{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return g(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((u,c)=>{const l=wp("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===l)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:l,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Dt(){return window}function Tb(){return typeof Dt().WorkerGlobalScope<"u"&&"function"==typeof Dt().importScripts}function Sb(){return(Sb=g(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const RF="firebaseLocalStorageDb",Ip="firebaseLocalStorage",NF="fbase_key";class fl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bp(t,e){return t.transaction([Ip],e?"readwrite":"readonly").objectStore(Ip)}function Ab(){const t=indexedDB.open(RF,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ip,{keyPath:NF})}catch(i){n(i)}}),t.addEventListener("success",g(function*(){const r=t.result;r.objectStoreNames.contains(Ip)?e(r):(r.close(),yield function Jte(){const t=indexedDB.deleteDatabase(RF);return new fl(t).toPromise()}(),e(yield Ab()))}))})}function PF(t,e,n){return xb.apply(this,arguments)}function xb(){return(xb=g(function*(t,e,n){const r=bp(t,!0).put({[NF]:e,value:n});return new fl(r).toPromise()})).apply(this,arguments)}function Mb(){return(Mb=g(function*(t,e){const n=bp(t,!1).get(e),r=yield new fl(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function OF(t,e){const n=bp(t,!0).delete(e);return new fl(n).toPromise()}const rne=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return g(function*(){return n.db||(n.db=yield Ab()),n.db})()}_withRetries(n){var r=this;return g(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return g(function*(){return Tb()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return g(function*(){n.receiver=zte._getInstance(function Xte(){return Tb()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=g(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=g(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return g(function*(){var r,i;if(n.activeServiceWorker=yield function Qte(){return Sb.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Wte(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);!s||(null===(r=s[0])||void 0===r?void 0:r.fulfilled)&&(null===(i=s[0])||void 0===i?void 0:i.value.includes("keyChanged"))&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return g(function*(){if(r.sender&&r.activeServiceWorker&&function Yte(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return g(function*(){try{if(!indexedDB)return!1;const n=yield Ab();return yield PF(n,vp,"1"),yield OF(n,vp),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return g(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return g(function*(){return i._withPendingWrite(g(function*(){return yield i._withRetries(s=>PF(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return g(function*(){const i=yield r._withRetries(s=>function ene(t,e){return Mb.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return g(function*(){return r._withPendingWrite(g(function*(){return yield r._withRetries(i=>OF(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return g(function*(){const r=yield n._withRetries(o=>{const a=bp(o,!1).getAll();return new fl(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(g(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function LF(t){return`__${t}${Math.floor(1e6*Math.random())}`}function co(t,e){return e?Mi(e):(k(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}LF("rcb"),new ol(3e4,6e4);class Bb extends _F{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ni(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ni(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ni(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wne(t){return function AF(t,e){return X0.apply(this,arguments)}(t.auth,new Bb(t),t.bypassAuthState)}function Ine(t){const{auth:e,user:n}=t;return k(n,e,"internal-error"),function SF(t,e){return Y0.apply(this,arguments)}(n,new Bb(t),t.bypassAuthState)}function bne(t){return $b.apply(this,arguments)}function $b(){return($b=g(function*(t){const{auth:e,user:n}=t;return k(n,e,"internal-error"),W0(n,new Bb(t),t.bypassAuthState)})).apply(this,arguments)}class UF{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=g(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return g(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:u}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(u)(c))}catch(l){n.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wne;case"linkViaPopup":case"linkViaRedirect":return bne;case"reauthViaPopup":case"reauthViaRedirect":return Ine;default:Nn(this.auth,"internal-error")}}resolve(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){xi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ene=new ol(2e3,1e4);function Dne(t,e,n){return jb.apply(this,arguments)}function jb(){return(jb=g(function*(t,e,n){const r=Pn(t);za(t,e,ts);const i=co(r,n);return new qb(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let qb=(()=>{class t extends UF{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var n=this;return g(function*(){const r=yield n.execute();return k(r,n.auth,"internal-error"),r})()}onExecution(){var n=this;return g(function*(){xi(1===n.filter.length,"Popup operations only handle one event");const r=wp();n.authWindow=yield n.resolver._openPopup(n.auth,n.provider,n.filter[0],r),n.authWindow.associatedEvent=r,n.resolver._originValidation(n.auth).catch(i=>{n.reject(i)}),n.resolver._isIframeWebStorageSupported(n.auth,i=>{i||n.reject(Yn(n.auth,"web-storage-unsupported"))}),n.pollUserCancellation()})()}get eventId(){var n;return(null===(n=this.authWindow)||void 0===n?void 0:n.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const n=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(n,Ene.get())};n()}}return t.currentPopupAction=null,t})();const pl=new Map;class Tne extends UF{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return g(function*(){let r=pl.get(n.auth._key());if(!r){try{const s=(yield function Sne(t,e){return zb.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}pl.set(n.auth._key(),r)}return n.bypassAuthState||pl.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return g(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return g(function*(){})()}cleanUp(){}}function zb(){return(zb=g(function*(t,e){const n=$F(e),r=BF(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Ane(t,e){pl.set(t._key(),e)}function BF(t){return Mi(t._redirectPersistence)}function $F(t){return dp("pendingRedirect",t.config.apiKey,t.name)}function jF(t,e){return Jb.apply(this,arguments)}function Jb(){return(Jb=g(function*(t,e,n=!1){const r=Pn(t),i=co(r,e),o=yield new Tne(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Nne{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Pne(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qF(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qF(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(GF(e))}saveEventToCache(e){this.cachedEventUids.add(GF(e)),this.lastProcessedEventTime=Date.now()}}function GF(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qF({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function One(t){return tE.apply(this,arguments)}function tE(){return(tE=g(function*(t,e={}){return Mt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Fne=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Lne=/^https?/;function nE(){return(nE=g(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield One(t);for(const n of e)try{if(Une(n))return}catch{}Nn(t,"unauthorized-domain")})).apply(this,arguments)}function Une(t){const e=sl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Lne.test(n))return!1;if(Fne.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Bne=new ol(3e4,6e4);function zF(){const t=Dt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Dp=null;function jne(t){return Dp=Dp||function $ne(t){return new Promise((e,n)=>{var r,i,s;function o(){zF(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zF(),n(Yn(t,"network-request-failed"))},timeout:Bne.get()})}if(null!==(i=null===(r=Dt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Dt().gapi)||void 0===s||!s.load){const a=LF("iframefcb");return Dt()[a]=()=>{gapi.load?o():n(Yn(t,"network-request-failed"))},function FF(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Yn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function ane(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}o()}}).catch(e=>{throw Dp=null,e})}(t),Dp}const Hne=new ol(5e3,15e3),zne={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wne=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Kne(t){const e=t.config;k(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?h0(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Js},i=Wne.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Zc(r).slice(1)}`}function rE(){return rE=g(function*(t){const e=yield jne(t),n=Dt().gapi;return k(n,t,"internal-error"),e.open({where:document.body,url:Kne(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zne,dontclear:!0},r=>new Promise(function(){var i=g(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Yn(t,"network-request-failed"),u=Dt().setTimeout(()=>{o(a)},Hne.get());function c(){Dt().clearTimeout(u),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),rE.apply(this,arguments)}const Yne={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class WF{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function KF(t,e,n,r,i,s){k(t.config.authDomain,t,"auth-domain-config-required"),k(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Js,eventId:i};if(e instanceof ts){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function OQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,c]of Object.entries(s||{}))o[u]=c}if(e instanceof bF){const u=e.getScopes().filter(c=>""!==c);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];return`${function sre({config:t}){return t.emulator?h0(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${Zc(a).slice(1)}`}const iE="webStorageSupport",are=class ore{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kF,this._completeRedirectFn=jF,this._overrideRedirectResult=Ane}_openPopup(e,n,r,i){var s=this;return g(function*(){var o;xi(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=KF(e,n,r,sl(),i);return function tre(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},Yne),{width:r.toString(),height:i.toString(),top:s,left:o}),c=xt().toLowerCase();n&&(a=uF(c)?"_blank":n),aF(c)&&(e=e||"http://localhost",u.scrollbars="yes");const l=Object.entries(u).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function Yee(t=xt()){var e;return hp(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function nre(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new WF(null);const d=window.open(e||"",a,l);k(d,t,"popup-blocked");try{d.focus()}catch{}return new WF(d)}(e,a,wp())})()}_openRedirect(e,n,r,i){var s=this;return g(function*(){return yield s._originValidation(e),function Kte(t){Dt().location.href=t}(KF(e,n,r,sl(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(xi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return g(function*(){const r=yield function Qne(t){return rE.apply(this,arguments)}(e),i=new Nne(e);return r.register("authEvent",s=>(k(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(iE,{type:iE},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[iE];void 0!==o&&n(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function Vne(t){return nE.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return fF()||C0()||hp()}};var YF="@firebase/auth";class ure{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return g(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const hre=dP("authIdTokenMaxAge")||300;let ZF=null;const fre=t=>function(){var e=g(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>hre)return;const s=r?.token;ZF!==s&&(ZF=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function pre(t=qf()){const e=Zs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Ree(t,e){const n=Zs(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if($f(n.getOptions(),e??{}))return i;Nn(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:are,persistence:[rne,Gte,kF]}),r=dP("authTokenSyncURL");if(r){const s=fre(r);(function Ote(t,e,n){pt(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Pte(t,e,n,r){pt(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=cP("auth");return i&&function tte(t,e,n){const r=Pn(t);k(r._canInitEmulator,r,"emulator-config-failed"),k(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=mF(e),{host:o,port:a}=function nte(t){const e=mF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:yF(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:yF(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function rte(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function lre(t){an(new jt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,u)=>{k(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),k(!o?.includes(":"),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pF(t)},l=new ete(a,u,c);return function Nee(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Mi);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),an(new jt("auth-internal",e=>{const n=Pn(e.getProvider("auth").getImmediate());return new ure(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Be(YF,"0.21.0",function cre(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Be(YF,"0.21.0","esm2017")}("Browser");class Cp{constructor(e){return e}}class sE{constructor(){return Jf("auth")}}const oE=new G("angularfire2.auth-instances");function mre(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Cp(r)}}const yre={provide:sE,deps:[[new lt,oE]]},_re={provide:Cp,useFactory:function gre(t,e){const n=Zf("auth",t,e);return n&&new Cp(n)},deps:[[new lt,oE],oo]};let vre=(()=>{class t{constructor(){Be("angularfire",nl.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Tn({type:t}),t.\u0275inj=dn({providers:[_re,yre]}),t})();const Ire=qt(pre,!0),bre=qt(Fte,!0),Ere=qt(Dne,!0),Dre=qt(Lte,!0);var j,Cre=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pi={},aE=aE||{},ee=Cre||self;function Tp(){}function Sp(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function gl(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var uE="closure_uid_"+(1e9*Math.random()>>>0),Sre=0;function Are(t,e,n){return t.call.apply(t.bind,arguments)}function xre(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function un(t,e,n){return(un=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Are:xre).apply(null,arguments)}function Ap(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Wt(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ns(){this.s=this.s,this.o=this.o}ns.prototype.s=!1,ns.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function Tre(t){Object.prototype.hasOwnProperty.call(t,uE)&&t[uE]||(t[uE]=++Sre)}(this)},ns.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const eL=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function cE(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function tL(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Sp(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function cn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}cn.prototype.h=function(){this.defaultPrevented=!0};var kre=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ee.addEventListener("test",Tp,e),ee.removeEventListener("test",Tp,e)}catch{}return t}();function xp(t){return/^[\s\xa0]*$/.test(t)}var nL=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function lE(t,e){return t<e?-1:t>e?1:0}function Mp(){var t=ee.navigator;return t&&(t=t.userAgent)?t:""}function Wr(t){return-1!=Mp().indexOf(t)}function dE(t){return dE[" "](t),t}dE[" "]=Tp;var kp,t,Nre=Wr("Opera"),Qa=Wr("Trident")||Wr("MSIE"),rL=Wr("Edge"),hE=rL||Qa,iL=Wr("Gecko")&&!(-1!=Mp().toLowerCase().indexOf("webkit")&&!Wr("Edge"))&&!(Wr("Trident")||Wr("MSIE"))&&!Wr("Edge"),Pre=-1!=Mp().toLowerCase().indexOf("webkit")&&!Wr("Edge");function sL(){var t=ee.document;return t?t.documentMode:void 0}e:{var fE="",pE=(t=Mp(),iL?/rv:([^\);]+)(\)|;)/.exec(t):rL?/Edge\/([\d\.]+)/.exec(t):Qa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Pre?/WebKit\/(\S+)/.exec(t):Nre?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(pE&&(fE=pE?pE[1]:""),Qa){var gE=sL();if(null!=gE&&gE>parseFloat(fE)){kp=String(gE);break e}}kp=fE}var Ore={};var Lre=ee.document&&Qa&&(sL()||parseInt(kp,10))||void 0;function ml(t,e){if(cn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(iL){e:{try{dE(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Vre[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ml.X.h.call(this)}}Wt(ml,cn);var Vre={2:"touch",3:"pen",4:"mouse"};ml.prototype.h=function(){ml.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yl="closure_listenable_"+(1e6*Math.random()|0),Ure=0;function Bre(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++Ure,this.ba=this.ea=!1}function Rp(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function yE(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function aL(t){const e={};for(const n in t)e[n]=t[n];return e}const uL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function cL(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<uL.length;s++)n=uL[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Np(t){this.src=t,this.g={},this.h=0}function _E(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=eL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Rp(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function vE(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}Np.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=vE(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new Bre(e,this.src,s,!!r,i)).ea=n,t.push(e)),e};var wE="closure_lm_"+(1e6*Math.random()|0),IE={};function lL(t,e,n,r,i){if(r&&r.once)return hL(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)lL(t,e[s],n,r,i);return null}return n=CE(n),t&&t[yl]?t.N(e,n,gl(r)?!!r.capture:!!r,i):dL(t,e,n,!1,r,i)}function dL(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=gl(i)?!!i.capture:!!i,a=EE(t);if(a||(t[wE]=a=new Np(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function $re(){const e=jre;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)kre||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(pL(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function hL(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)hL(t,e[s],n,r,i);return null}return n=CE(n),t&&t[yl]?t.O(e,n,gl(r)?!!r.capture:!!r,i):dL(t,e,n,!0,r,i)}function fL(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)fL(t,e[s],n,r,i);else r=gl(r)?!!r.capture:!!r,n=CE(n),t&&t[yl]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=vE(s=t.g[e],n,r,i))&&(Rp(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=EE(t))&&(e=t.g[e.toString()],t=-1,e&&(t=vE(e,n,r,i)),(n=-1<t?e[t]:null)&&bE(n))}function bE(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[yl])_E(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(pL(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=EE(e))?(_E(n,t),0==n.h&&(n.src=null,e[wE]=null)):Rp(t)}}}function pL(t){return t in IE?IE[t]:IE[t]="on"+t}function jre(t,e){if(t.ba)t=!0;else{e=new ml(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&bE(t),t=n.call(r,e)}return t}function EE(t){return(t=t[wE])instanceof Np?t:null}var DE="__closure_events_fn_"+(1e9*Math.random()>>>0);function CE(t){return"function"==typeof t?t:(t[DE]||(t[DE]=function(e){return t.handleEvent(e)}),t[DE])}function kt(){ns.call(this),this.i=new Np(this),this.P=this,this.I=null}function Kt(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new cn(e,t);else if(e instanceof cn)e.target=e.target||t;else{var i=e;cL(e=new cn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Pp(o,r,!0,e)&&i}if(i=Pp(o=e.g=t,r,!0,e)&&i,i=Pp(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Pp(o=e.g=n[s],r,!1,e)&&i}function Pp(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,u=o.ha||o.src;o.ea&&_E(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Wt(kt,ns),kt.prototype[yl]=!0,kt.prototype.removeEventListener=function(t,e,n,r){fL(this,t,e,n,r)},kt.prototype.M=function(){if(kt.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rp(n[r]);delete t.g[e],t.h--}}this.I=null},kt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var TE=ee.JSON.stringify;function Hre(){var t=yL;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var SE,gL=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new qre,t=>t.reset());class qre{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function zre(t){ee.setTimeout(()=>{throw t},0)}function mL(t,e){SE||function Wre(){var t=ee.Promise.resolve(void 0);SE=function(){t.then(Kre)}}(),AE||(SE(),AE=!0),yL.add(t,e)}var AE=!1,yL=new class Gre{constructor(){this.h=this.g=null}add(e,n){const r=gL.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function Kre(){for(var t;t=Hre();){try{t.h.call(t.g)}catch(n){zre(n)}var e=gL;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}AE=!1}function Op(t,e){kt.call(this),this.h=t||1,this.g=e||ee,this.j=un(this.lb,this),this.l=Date.now()}function xE(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function ME(t,e,n){if("function"==typeof t)n&&(t=un(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=un(t.handleEvent,t)}return 2147483647<Number(e)?-1:ee.setTimeout(t,e||0)}function _L(t){t.g=ME(()=>{t.g=null,t.i&&(t.i=!1,_L(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Wt(Op,kt),(j=Op.prototype).ca=!1,j.R=null,j.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Kt(this,"tick"),this.ca&&(xE(this),this.start()))}},j.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},j.M=function(){Op.X.M.call(this),xE(this),delete this.g};class Qre extends ns{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_L(this)}M(){super.M(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _l(t){ns.call(this),this.h=t,this.g={}}Wt(_l,ns);var vL=[];function wL(t,e,n,r){Array.isArray(n)||(n&&(vL[0]=n.toString()),n=vL);for(var i=0;i<n.length;i++){var s=lL(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function IL(t){yE(t.g,function(e,n){this.g.hasOwnProperty(n)&&bE(e)},t),t.g={}}function Fp(){this.g=!0}function Ya(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Jre(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return TE(n)}catch{return e}}(t,n)+(r?" "+r:"")})}_l.prototype.M=function(){_l.X.M.call(this),IL(this)},_l.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Fp.prototype.Aa=function(){this.g=!1},Fp.prototype.info=function(){};var lo={},bL=null;function Lp(){return bL=bL||new kt}function EL(t){cn.call(this,lo.Pa,t)}function vl(t){const e=Lp();Kt(e,new EL(e))}function DL(t,e){cn.call(this,lo.STAT_EVENT,t),this.stat=e}function wn(t){const e=Lp();Kt(e,new DL(e,t))}function CL(t,e){cn.call(this,lo.Qa,t),this.size=e}function wl(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){t()},e)}lo.Pa="serverreachability",Wt(EL,cn),lo.STAT_EVENT="statevent",Wt(DL,cn),lo.Qa="timingevent",Wt(CL,cn);var Vp={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},TL={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function kE(){}function AL(){}kE.prototype.h=null;var PE,Il={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function RE(){cn.call(this,"d")}function NE(){cn.call(this,"c")}function Up(){}function bl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new _l(this),this.O=eie,this.T=new Op(t=hE?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new xL}function xL(){this.i=null,this.g="",this.h=!1}Wt(RE,cn),Wt(NE,cn),Wt(Up,kE),Up.prototype.g=function(){return new XMLHttpRequest},Up.prototype.i=function(){return{}},PE=new Up;var eie=45e3,OE={},Bp={};function FE(t,e,n){t.K=1,t.v=Gp(Oi(e)),t.s=n,t.P=!0,ML(t,null)}function ML(t,e){t.F=Date.now(),El(t),t.A=Oi(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),BL(n.i,"t",r),t.C=0,n=t.l.H,t.h=new xL,t.g=l2(t.l,n?e:null,!t.s),0<t.N&&(t.L=new Qre(un(t.La,t,t.g),t.N)),wL(t.S,t.g,"readystatechange",t.ib),e=t.H?aL(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),vl(),function Yre(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var d=l.split("_");o=2<=d.length&&"type"==d[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.U,t.s)}function kL(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function RL(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=tie(t,n),i==Bp){4==e&&(t.o=4,wn(14),r=!1),Ya(t.j,t.m,null,"[Incomplete Response]");break}if(i==OE){t.o=4,wn(15),Ya(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Ya(t.j,t.m,i,null),LE(t,i)}kL(t)&&i!=Bp&&i!=OE&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,wn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),qE(e),e.K=!0,wn(11))):(Ya(t.j,t.m,n,"[Invalid Chunked Response]"),ho(t),Dl(t))}function tie(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Bp:(n=Number(e.substring(n,r)),isNaN(n)?OE:(r+=1)+n>e.length?Bp:(e=e.substr(r,n),t.C=r+n,e))}function El(t){t.V=Date.now()+t.O,NL(t,t.O)}function NL(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=wl(un(t.gb,t),e)}function $p(t){t.B&&(ee.clearTimeout(t.B),t.B=null)}function Dl(t){0==t.l.G||t.I||o2(t.l,t)}function ho(t){$p(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,xE(t.T),IL(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function LE(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||VE(n.h,t)))if(!t.J&&VE(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;Yp(n),Kp(n)}GE(n),wn(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=wl(un(n.cb,n),6e3));if(1>=HL(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else po(n,11)}else if((t.J||n.g==t)&&Yp(n),!xp(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const l=c[3];null!=l&&(n.ma=l,n.j.info("VER="+n.ma));const d=c[4];null!=d&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.J=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var s=r.h;s.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(UE(s,s.h),s.h=null))}if(r.D){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(r.za=m,qe(r.F,r.D,m))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((r=n).sa=c2(r,r.H?r.ka:null,r.V),o.J){GL(r.h,o);var a=o,u=r.J;u&&a.setTimeout(u),a.B&&($p(a),El(a)),r.g=o}else i2(r);0<n.i.length&&Qp(n)}else"stop"!=c[0]&&"close"!=c[0]||po(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?po(n,7):HE(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}vl()}catch{}}function PL(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Sp(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function rie(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Sp(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function nie(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Sp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(j=bl.prototype).setTimeout=function(t){this.O=t},j.ib=function(t){t=t.target;const e=this.L;e&&3==Fi(t)?e.l():this.La(t)},j.La=function(t){try{if(t==this.g)e:{const l=Fi(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||hE||this.g&&(this.h.h||this.g.fa()||ZL(this.g)))){this.I||4!=l||7==e||vl(),$p(this);var n=this.g.aa();this.Y=n;t:if(kL(this)){var r=ZL(this.g);t="";var i=r.length,s=4==Fi(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ho(this),Dl(this);var o="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function Xre(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xp(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,wn(12),ho(this),Dl(this);break e}Ya(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,LE(this,n)}this.P?(RL(this,l,o),hE&&this.i&&3==l&&(wL(this.S,this.T,"tick",this.hb),this.T.start())):(Ya(this.j,this.m,o,null),LE(this,o)),4==l&&ho(this),this.i&&!this.I&&(4==l?o2(this.l,this):(this.i=!1,El(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,wn(12)):(this.o=0,wn(13)),ho(this),Dl(this)}}}catch{}},j.hb=function(){if(this.g){var t=Fi(this.g),e=this.g.fa();this.C<e.length&&($p(this),RL(this,t,e),this.i&&4!=t&&El(this))}},j.cancel=function(){this.I=!0,ho(this)},j.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function Zre(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(vl(),wn(17)),ho(this),this.o=2,Dl(this)):NL(this,this.V-t)};var OL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fo(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof fo){this.h=void 0!==e?e:t.h,jp(this,t.j),this.s=t.s,this.g=t.g,Hp(this,t.m),this.l=t.l,e=t.i;var n=new Sl;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),FL(this,n),this.o=t.o}else t&&(n=String(t).match(OL))?(this.h=!!e,jp(this,n[1]||"",!0),this.s=Cl(n[2]||""),this.g=Cl(n[3]||"",!0),Hp(this,n[4]),this.l=Cl(n[5]||"",!0),FL(this,n[6]||"",!0),this.o=Cl(n[7]||"")):(this.h=!!e,this.i=new Sl(null,this.h))}function Oi(t){return new fo(t)}function jp(t,e,n){t.j=n?Cl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Hp(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function FL(t,e,n){e instanceof Sl?(t.i=e,function lie(t,e){e&&!t.j&&(rs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(VL(this,r),BL(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Tl(e,uie)),t.i=new Sl(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function Gp(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Cl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Tl(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,sie),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function sie(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}fo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Tl(e,LL,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Tl(e,LL,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Tl(n,"/"==n.charAt(0)?aie:oie,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Tl(n,cie)),t.join("")};var LL=/[#\/\?@]/g,oie=/[#\?:]/g,aie=/[#\?]/g,uie=/[#\?@]/g,cie=/#/g;function Sl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function rs(t){t.g||(t.g=new Map,t.h=0,t.i&&function iie(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function VL(t,e){rs(t),e=Xa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function UL(t,e){return rs(t),e=Xa(t,e),t.g.has(e)}function BL(t,e,n){VL(t,e),0<n.length&&(t.i=null,t.g.set(Xa(t,e),cE(n)),t.h+=n.length)}function Xa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function $L(t){this.l=t||hie,t=ee.PerformanceNavigationTiming?0<(t=ee.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ee.g&&ee.g.Ga&&ee.g.Ga()&&ee.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(j=Sl.prototype).add=function(t,e){rs(this),this.i=null,t=Xa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},j.forEach=function(t,e){rs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},j.oa=function(){rs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},j.W=function(t){rs(this);let e=[];if("string"==typeof t)UL(this,t)&&(e=e.concat(this.g.get(Xa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},j.set=function(t,e){return rs(this),this.i=null,UL(this,t=Xa(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},j.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},j.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var hie=10;function jL(t){return!!t.h||!!t.g&&t.g.size>=t.j}function HL(t){return t.h?1:t.g?t.g.size:0}function VE(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function UE(t,e){t.g?t.g.add(e):t.h=e}function GL(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function qL(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return cE(t.i)}function BE(){}function fie(){this.g=new BE}function pie(t,e,n){const r=n||"";try{PL(t,function(i,s){let o=i;gl(i)&&(o=TE(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function qp(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Al(t){this.l=t.ac||null,this.j=t.jb||!1}function zp(t,e){kt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=$E,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$L.prototype.cancel=function(){if(this.i=qL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},BE.prototype.stringify=function(t){return ee.JSON.stringify(t,void 0)},BE.prototype.parse=function(t){return ee.JSON.parse(t,void 0)},Wt(Al,kE),Al.prototype.g=function(){return new zp(this.l,this.j)},Al.prototype.i=function(t){return function(){return t}}({}),Wt(zp,kt);var $E=0;function zL(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function xl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ml(t)}function Ml(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(j=zp.prototype).open=function(t,e){if(this.readyState!=$E)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ml(this)},j.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ee).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},j.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xl(this)),this.readyState=$E},j.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ml(this)),this.g&&(this.readyState=3,Ml(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;zL(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},j.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?xl(this):Ml(this),3==this.readyState&&zL(this)}},j.Va=function(t){this.g&&(this.response=this.responseText=t,xl(this))},j.Ua=function(t){this.g&&(this.response=t,xl(this))},j.ga=function(){this.g&&xl(this)},j.setRequestHeader=function(t,e){this.v.append(t,e)},j.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},j.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(zp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var mie=ee.JSON.parse;function et(t){kt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=WL,this.K=this.L=!1}Wt(et,kt);var WL="",yie=/^https?$/i,_ie=["POST","PUT"];function KL(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,QL(t),Wp(t)}function QL(t){t.D||(t.D=!0,Kt(t,"complete"),Kt(t,"error"))}function YL(t){if(t.h&&typeof aE<"u"&&(!t.C[1]||4!=Fi(t)||2!=t.aa()))if(t.v&&4==Fi(t))ME(t.Ha,0,t);else if(Kt(t,"readystatechange"),4==Fi(t)){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(OL)[1]||null;if(!i&&ee.self&&ee.self.location){var s=ee.self.location.protocol;i=s.substr(0,s.length-1)}r=!yie.test(i?i.toLowerCase():"")}n=r}if(n)Kt(t,"complete"),Kt(t,"success");else{t.m=6;try{var o=2<Fi(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",QL(t)}}finally{Wp(t)}}}function Wp(t,e){if(t.g){XL(t);const n=t.g,r=t.C[0]?Tp:null;t.g=null,t.C=null,e||Kt(t,"ready");try{n.onreadystatechange=r}catch{}}}function XL(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ee.clearTimeout(t.A),t.A=null)}function Fi(t){return t.g?t.g.readyState:0}function ZL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case WL:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function JL(t){let e="";return yE(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function jE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=JL(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):qe(t,e,n))}function kl(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function e2(t){this.Ca=0,this.i=[],this.j=new Fp,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=kl("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=kl("baseRetryDelayMs",5e3,t),this.bb=kl("retryDelaySeedMs",1e4,t),this.$a=kl("forwardChannelMaxRetries",2,t),this.ta=kl("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new $L(t&&t.concurrentRequestLimit),this.Fa=new fie,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function HE(t){if(t2(t),3==t.G){var e=t.U++,n=Oi(t.F);qe(n,"SID",t.I),qe(n,"RID",e),qe(n,"TYPE","terminate"),Rl(t,n),(e=new bl(t,t.j,e,void 0)).K=2,e.v=Gp(Oi(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon&&(n=ee.navigator.sendBeacon(e.v.toString(),"")),!n&&ee.Image&&((new Image).src=e.v,n=!0),n||(e.g=l2(e.l,null),e.g.da(e.v)),e.F=Date.now(),El(e)}u2(t)}function Kp(t){t.g&&(qE(t),t.g.cancel(),t.g=null)}function t2(t){Kp(t),t.u&&(ee.clearTimeout(t.u),t.u=null),Yp(t),t.h.cancel(),t.m&&("number"==typeof t.m&&ee.clearTimeout(t.m),t.m=null)}function Qp(t){jL(t.h)||t.m||(t.m=!0,mL(t.Ja,t),t.C=0)}function n2(t,e){var n;n=e?e.m:t.U++;const r=Oi(t.F);qe(r,"SID",t.I),qe(r,"RID",n),qe(r,"AID",t.T),Rl(t,r),t.o&&t.s&&jE(r,t.o,t.s),n=new bl(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=r2(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),UE(t.h,n),FE(n,r,e)}function Rl(t,e){t.ia&&yE(t.ia,function(n,r){qe(e,r,n)}),t.l&&PL({},function(n,r){qe(e,r,n)})}function r2(t,e,n){n=Math.min(t.i.length,n);var r=t.l?un(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let u=0;u<n;u++){let c=i[u].h;const l=i[u].g;if(c-=s,0>c)s=Math.max(0,i[u].h-100),a=!1;else try{pie(l,o,"req"+c+"_")}catch{r&&r(l)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function i2(t){t.g||t.u||(t.Z=1,mL(t.Ia,t),t.A=0)}function GE(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=wl(un(t.Ia,t),a2(t,t.A)),t.A++,0))}function qE(t){null!=t.B&&(ee.clearTimeout(t.B),t.B=null)}function s2(t){t.g=new bl(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=Oi(t.sa);qe(e,"RID","rpc"),qe(e,"SID",t.I),qe(e,"CI",t.L?"0":"1"),qe(e,"AID",t.T),qe(e,"TYPE","xmlhttp"),Rl(t,e),t.o&&t.s&&jE(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Gp(Oi(e)),n.s=null,n.P=!0,ML(n,t)}function Yp(t){null!=t.v&&(ee.clearTimeout(t.v),t.v=null)}function o2(t,e){var n=null;if(t.g==e){Yp(t),qE(t),t.g=null;var r=2}else{if(!VE(t.h,e))return;n=e.D,GL(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Kt(r=Lp(),new CL(r,n)),Qp(t)}else i2(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function wie(t,e){return!(HL(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=wl(un(t.Ja,t,e),a2(t,t.C)),t.C++,0)))}(t,e)||2==r&&GE(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:po(t,5);break;case 4:po(t,10);break;case 3:po(t,6);break;default:po(t,2)}}function a2(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function po(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=un(t.kb,t);n||(n=new fo("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||jp(n,"https"),Gp(n)),function gie(t,e){const n=new Fp;if(ee.Image){const r=new Image;r.onload=Ap(qp,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ap(qp,n,r,"TestLoadImage: error",!1,e),r.onabort=Ap(qp,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ap(qp,n,r,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else wn(2);t.G=0,t.l&&t.l.va(e),u2(t),t2(t)}function u2(t){if(t.G=0,t.la=[],t.l){const e=qL(t.h);(0!=e.length||0!=t.i.length)&&(tL(t.la,e),tL(t.la,t.i),t.h.i.length=0,cE(t.i),t.i.length=0),t.l.ua()}}function c2(t,e,n){var r=n instanceof fo?Oi(n):new fo(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Hp(r,r.m);else{var i=ee.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new fo(null,void 0);r&&jp(s,r),e&&(s.g=e),i&&Hp(s,i),n&&(s.l=n),r=s}return e=t.za,(n=t.D)&&e&&qe(r,n,e),qe(r,"VER",t.ma),Rl(t,r),r}function l2(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new et(n&&t.Da&&!t.ra?new Al({jb:!0}):t.ra)).Ka(t.H),e}function d2(){}function Xp(){if(Qa&&!(10<=Number(Lre)))throw Error("Environmental error: no available transport.")}function Xn(t,e){kt.call(this),this.g=new e2(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!xp(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xp(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Za(this)}function h2(t){RE.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function f2(){NE.call(this),this.status=1}function Za(t){this.g=t}(j=et.prototype).Ka=function(t){this.L=t},j.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():PE.g(),this.C=function SL(t){return t.h||(t.h=t.i())}(this.u?this.u:PE),this.g.onreadystatechange=un(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void KL(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ee.FormData&&t instanceof ee.FormData,!(0<=eL(_ie,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{XL(this),0<this.B&&((this.K=function vie(t){return Qa&&function Fre(){return function Rre(t){var e=Ore;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=nL(String(kp)).split("."),n=nL("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=lE(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||lE(0==i[2].length,0==s[2].length)||lE(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=un(this.qa,this)):this.A=ME(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){KL(this,s)}},j.qa=function(){typeof aE<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kt(this,"timeout"),this.abort(8))},j.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Kt(this,"complete"),Kt(this,"abort"),Wp(this))},j.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Wp(this,!0)),et.X.M.call(this)},j.Ha=function(){this.s||(this.F||this.v||this.l?YL(this):this.fb())},j.fb=function(){YL(this)},j.aa=function(){try{return 2<Fi(this)?this.g.status:-1}catch{return-1}},j.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},j.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),mie(e)}},j.Ea=function(){return this.m},j.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(j=e2.prototype).ma=8,j.G=1,j.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new bl(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=aL(s),cL(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=r2(this,i,e),qe(n=Oi(this.F),"RID",t),qe(n,"CVER",22),this.D&&qe(n,"X-HTTP-Session-Id",this.D),Rl(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(JL(s)))+"&"+e:this.o&&jE(n,this.o,s)),UE(this.h,i),this.Ya&&qe(n,"TYPE","init"),this.O?(qe(n,"$req",e),qe(n,"SID","null"),i.Z=!0,FE(i,n,null)):FE(i,n,e),this.G=2}}else 3==this.G&&(t?n2(this,t):0==this.i.length||jL(this.h)||n2(this))},j.Ia=function(){if(this.u=null,s2(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=wl(un(this.eb,this),t)}},j.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,wn(10),Kp(this),s2(this))},j.cb=function(){null!=this.v&&(this.v=null,Kp(this),GE(this),wn(19))},j.kb=function(t){t?(this.j.info("Successfully pinged google.com"),wn(2)):(this.j.info("Failed to ping google.com"),wn(1))},(j=d2.prototype).xa=function(){},j.wa=function(){},j.va=function(){},j.ua=function(){},j.Ra=function(){},Xp.prototype.g=function(t,e){return new Xn(t,e)},Wt(Xn,kt),Xn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;wn(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=c2(t,null,t.V),Qp(t)},Xn.prototype.close=function(){HE(this.g)},Xn.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=TE(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&Qp(e)},Xn.prototype.M=function(){this.g.l=null,delete this.j,HE(this.g),delete this.g,Xn.X.M.call(this)},Wt(h2,RE),Wt(f2,NE),Wt(Za,d2),Za.prototype.xa=function(){Kt(this.g,"a")},Za.prototype.wa=function(t){Kt(this.g,new h2(t))},Za.prototype.va=function(t){Kt(this.g,new f2)},Za.prototype.ua=function(){Kt(this.g,"b")},Xp.prototype.createWebChannel=Xp.prototype.g,Xn.prototype.send=Xn.prototype.u,Xn.prototype.open=Xn.prototype.m,Xn.prototype.close=Xn.prototype.close,Vp.NO_ERROR=0,Vp.TIMEOUT=8,Vp.HTTP_ERROR=6,TL.COMPLETE="complete",AL.EventType=Il,Il.OPEN="a",Il.CLOSE="b",Il.ERROR="c",Il.MESSAGE="d",kt.prototype.listen=kt.prototype.N,et.prototype.listenOnce=et.prototype.O,et.prototype.getLastError=et.prototype.Oa,et.prototype.getLastErrorCode=et.prototype.Ea,et.prototype.getStatus=et.prototype.aa,et.prototype.getResponseJson=et.prototype.Sa,et.prototype.getResponseText=et.prototype.fa,et.prototype.send=et.prototype.da,et.prototype.setWithCredentials=et.prototype.Ka;var Iie=Pi.createWebChannelTransport=function(){return new Xp},bie=Pi.getStatEventTarget=function(){return Lp()},zE=Pi.ErrorCode=Vp,Eie=Pi.EventType=TL,Die=Pi.Event=lo,p2=Pi.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Cie=Pi.FetchXmlHttpFactory=Al,Zp=Pi.WebChannel=AL,Tie=Pi.XhrIo=et;const g2="@firebase/firestore";class Rt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");let Ja="9.15.0";const is=new Ba("@firebase/firestore");function WE(){return is.logLevel}function A(t,...e){if(is.logLevel<=ve.DEBUG){const n=e.map(KE);is.debug(`Firestore (${Ja}): ${t}`,...n)}}function st(t,...e){if(is.logLevel<=ve.ERROR){const n=e.map(KE);is.error(`Firestore (${Ja}): ${t}`,...n)}}function eu(t,...e){if(is.logLevel<=ve.WARN){const n=e.map(KE);is.warn(`Firestore (${Ja}): ${t}`,...n)}}function KE(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function L(t="Unexpected state"){const e=`FIRESTORE (${Ja}) INTERNAL ASSERTION FAILED: `+t;throw st(e),new Error(e)}function $(t,e){t||L()}function N(t,e){return t}const w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class S extends Kn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ct{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class m2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Sie{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class Aie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class xie{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new Ct;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ct,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable(g(function*(){yield c.promise,yield s(r.currentUser)}))},u=c=>{A("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(A("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ct)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(A("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($("string"==typeof r.accessToken),new m2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return $(null===e||"string"==typeof e),new Rt(e)}}class Mie{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():($(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class kie{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new Mie(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class y2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rie{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=s=>{null!=s.error&&A("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.A;return this.A=s.token,A("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{A("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?i(s):A("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($("string"==typeof n.token),this.A=n.token,new y2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Nie(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class _2{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Nie(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function te(t,e){return t<e?-1:t>e?1:0}function tu(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class Qe{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new S(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new S(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new S(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new S(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Qe(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class q{constructor(e){this.timestamp=e}static fromTimestamp(e){return new q(e)}static min(){return new q(new Qe(0,0))}static max(){return new q(new Qe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Nl{constructor(e,n,r){void 0===n?n=0:n>e.length&&L(),void 0===r?r=e.length-n:r>e.length-n&&L(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Nl.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Nl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class we extends Nl{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new S(w.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const Pie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends Nl{construct(e,n,r){return new ot(e,n,r)}static isValidIdentifier(e){return Pie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new S(w.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new S(w.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new S(w.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(n)}static emptyPath(){return new ot([])}}class R{constructor(e){this.path=e}static fromPath(e){return new R(we.fromString(e))}static fromName(e){return new R(we.fromString(e).popFirst(5))}static empty(){return new R(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===we.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new R(new we(e.slice()))}}function I2(t){return new Zn(t.readTime,t.key,-1)}class Zn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Zn(q.min(),R.empty(),-1)}static max(){return new Zn(q.max(),R.empty(),-1)}}function YE(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=R.comparator(t.documentKey,e.documentKey),0!==n?n:te(t.largestBatchId,e.largestBatchId))}const b2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lie{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ss(t){return XE.apply(this,arguments)}function XE(){return XE=g(function*(t){if(t.code!==w.FAILED_PRECONDITION||t.message!==b2)throw t;A("LocalStore","Unexpectedly lost primary lease")}),XE.apply(this,arguments)}class v{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&L(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new v((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof v?n:v.resolve(n)}catch(n){return v.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):v.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):v.reject(n)}static resolve(e){return new v((n,r)=>{n(e)})}static reject(e){return new v((n,r)=>{r(e)})}static waitFor(e){return new v((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=v.resolve(!1);for(const r of e)n=n.next(i=>i?v.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new v((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let u=0;u<s;u++){const c=u;n(e[c]).next(l=>{o[c]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,n){return new v((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function os(t){return"IndexedDbTransactionError"===t.name}let Jn=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ct&&this.ct(n),n}}return t.at=-1,t})();class jie{constructor(e,n,r,i,s,o,a,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=u}}class yo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new yo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof yo&&e.projectId===this.projectId&&e.database===this.database}}function D2(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _o(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fl(t){return null==t}function Ll(t){return 0===t&&1/t==-1/0}class Tt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new Tt(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new Tt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tt.EMPTY_BYTE_STRING=new Tt("");const Hie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(t){if($(!!t),"string"==typeof t){let e=0;const n=Hie.exec(t);if($(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tt(t.seconds),nanos:tt(t.nanos)}}function tt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function vo(t){return"string"==typeof t?Tt.fromBase64String(t):Tt.fromUint8Array(t)}function JE(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function S2(t){const e=t.mapValue.fields.__previous_value__;return JE(e)?S2(e):e}function Vl(t){const e=as(t.mapValue.fields.__local_write_time__.timestampValue);return new Qe(e.seconds,e.nanos)}const us_mapValue={fields:{__type__:{stringValue:"__max__"}}};function wo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?JE(t)?4:k2(t)?9007199254740991:10:L()}function Kr(t,e){if(t===e)return!0;const n=wo(t);if(n!==wo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vl(t).isEqual(Vl(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=as(r.timestampValue),o=as(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,vo(t.bytesValue).isEqual(vo(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return tt(r.geoPointValue.latitude)===tt(i.geoPointValue.latitude)&&tt(r.geoPointValue.longitude)===tt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return tt(r.integerValue)===tt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=tt(r.doubleValue),o=tt(i.doubleValue);return s===o?Ll(s)===Ll(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return tu(t.arrayValue.values||[],e.arrayValue.values||[],Kr);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(D2(s)!==D2(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!Kr(s[a],o[a])))return!1;return!0}(t,e);default:return L()}var i}function Ul(t,e){return void 0!==(t.values||[]).find(n=>Kr(n,e))}function cs(t,e){if(t===e)return 0;const n=wo(t),r=wo(e);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=tt(i.integerValue||i.doubleValue),a=tt(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return A2(t.timestampValue,e.timestampValue);case 4:return A2(Vl(t),Vl(e));case 5:return te(t.stringValue,e.stringValue);case 6:return function(i,s){const o=vo(i),a=vo(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=te(o[u],a[u]);if(0!==c)return c}return te(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=te(tt(i.latitude),tt(s.latitude));return 0!==o?o:te(tt(i.longitude),tt(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=cs(o[u],a[u]);if(c)return c}return te(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===us_mapValue&&s===us_mapValue)return 0;if(i===us_mapValue)return 1;if(s===us_mapValue)return-1;const o=i.fields||{},a=Object.keys(o),u=s.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let l=0;l<a.length&&l<c.length;++l){const d=te(a[l],c[l]);if(0!==d)return d;const h=cs(o[a[l]],u[c[l]]);if(0!==h)return h}return te(a.length,c.length)}(t.mapValue,e.mapValue);default:throw L()}}function A2(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return te(t,e);const n=as(t),r=as(e),i=te(n.seconds,r.seconds);return 0!==i?i:te(n.nanos,r.nanos)}function nu(t){return eD(t)}function eD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=as(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?vo(t.bytesValue).toBase64():"referenceValue"in t?R.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=eD(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${eD(r.fields[a])}`;return s+"}"}(t.mapValue):L();var e}function Io(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tD(t){return!!t&&"integerValue"in t}function Bl(t){return!!t&&"arrayValue"in t}function x2(t){return!!t&&"nullValue"in t}function M2(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function rg(t){return!!t&&"mapValue"in t}function $l(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _o(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$l(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(t.arrayValue.values[n]);return e}return Object.assign({},t)}function k2(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class ls{constructor(e,n){this.position=e,this.inclusive=n}}function P2(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?R.comparator(R.fromName(o.referenceValue),n.key):cs(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function O2(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Kr(t.position[n],e.position[n]))return!1;return!0}class F2{}class pe extends F2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new zie(e,n,r):"array-contains"===n?new Qie(e,r):"in"===n?new G2(e,r):"not-in"===n?new Yie(e,r):"array-contains-any"===n?new Xie(e,r):new pe(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Wie(e,r):new Kie(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(cs(n,this.value)):null!==n&&wo(this.value)===wo(n)&&this.matchesComparison(cs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return L()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class xe extends F2{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new xe(e,n)}matches(e){return ru(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return null!==e?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ru(t){return"and"===t.op}function L2(t){return function V2(t){for(const e of t.filters)if(e instanceof xe)return!1;return!0}(t)&&ru(t)}function U2(t){if(t instanceof pe)return t.field.canonicalString()+t.op.toString()+nu(t.value);{const e=t.filters.map(n=>U2(n)).join(",");return`${t.op}(${e})`}}function B2(t,e){return t instanceof pe?(n=t,(r=e)instanceof pe&&n.op===r.op&&n.field.isEqual(r.field)&&Kr(n.value,r.value)):t instanceof xe?function(n,r){return r instanceof xe&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&B2(s,r.filters[o]),!0)}(t,e):void L();var n,r}function j2(t){return t instanceof pe?`${(e=t).field.canonicalString()} ${e.op} ${nu(e.value)}`:t instanceof xe?function(e){return e.op.toString()+" {"+e.getFilters().map(j2).join(" ,")+"}"}(t):"Filter";var e}class zie extends pe{constructor(e,n,r){super(e,n,r),this.key=R.fromName(r.referenceValue)}matches(e){const n=R.comparator(e.key,this.key);return this.matchesComparison(n)}}class Wie extends pe{constructor(e,n){super(e,"in",n),this.keys=H2(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Kie extends pe{constructor(e,n){super(e,"not-in",n),this.keys=H2(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function H2(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>R.fromName(r.referenceValue))}class Qie extends pe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bl(n)&&Ul(n.arrayValue,this.value)}}class G2 extends pe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Ul(this.value.arrayValue,n)}}class Yie extends pe{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Ul(this.value.arrayValue,n)}}class Xie extends pe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ul(this.value.arrayValue,r))}}class iu{constructor(e,n="asc"){this.field=e,this.dir=n}}function Zie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class nt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ig(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ig(this.root,e,this.comparator,!1)}getReverseIterator(){return new ig(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ig(this.root,e,this.comparator,!0)}}class ig{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Qt.RED,this.left=i??Qt.EMPTY,this.right=s??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Qt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Qt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw L();const e=this.left.check();if(e!==this.right.check())throw L();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1,Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw L()}get value(){throw L()}get color(){throw L()}get left(){throw L()}get right(){throw L()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Qt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new q2(this.data.getIterator())}getIteratorFrom(e){return new q2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ke(this.comparator);return n.data=e,n}}class q2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class er{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new er([])}unionWith(e){let n=new ke(ot.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new er(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return tu(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!rg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=ot.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=$l(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());rg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];rg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){_o(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Yt($l(this.value))}}function z2(t){const e=[];return _o(t.fields,(n,r)=>{const i=new ot([n]);if(rg(r)){const s=z2(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new er(e)}class $e{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new $e(e,0,q.min(),q.min(),q.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new $e(e,1,n,q.min(),r,i,0)}static newNoDocument(e,n){return new $e(e,2,n,q.min(),q.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new $e(e,3,n,q.min(),q.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(q.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=q.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof $e&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Jie{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function rD(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Jie(t,e,n,r,i,s,o)}function bo(t){const e=N(t);if(null===e.ft){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>U2(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Fl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nu(r)).join(",")),e.ft=n}return e.ft}function jl(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Zie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!B2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!O2(t.startAt,e.startAt)&&O2(t.endAt,e.endAt)}function sg(t){return R.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class Li{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.dt=null,this._t=null}}function ou(t){return new Li(t)}function Y2(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function iD(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function ag(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function sD(t){return null!==t.collectionGroup}function Eo(t){const e=N(t);if(null===e.dt){e.dt=[];const n=ag(e),r=iD(e);if(null!==n&&null===r)n.isKeyField()||e.dt.push(new iu(n)),e.dt.push(new iu(ot.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new iu(ot.keyField(),s))}}}return e.dt}function In(t){const e=N(t);if(!e._t)if("F"===e.limitType)e._t=rD(e.path,e.collectionGroup,Eo(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of Eo(e))n.push(new iu(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new ls(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new ls(e.startAt.position,e.startAt.inclusive):null;e._t=rD(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function oD(t,e){e.getFirstInequalityField(),ag(t);const n=t.filters.concat([e]);return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function ug(t,e,n){return new Li(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hl(t,e){return jl(In(t),In(e))&&t.limitType===e.limitType}function X2(t){return`${bo(In(t))}|lt:${t.limitType}`}function aD(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>j2(r)).join(", ")}]`),Fl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>nu(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>nu(r)).join(",")),`Target(${n})`}(In(t))}; limitType=${t.limitType})`}function uD(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):R.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Eo(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=P2(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,Eo(n),r)||n.endAt&&!function(i,s,o){const a=P2(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,Eo(n),r)));var n,r}function J2(t){return(e,n)=>{let r=!1;for(const i of Eo(t)){const s=ese(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function ese(t,e,n){const r=t.field.isKeyField()?R.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),u=o.data.field(i);return null!==a&&null!==u?cs(a,u):L()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return L()}}function eV(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ll(e)?"-0":e}}function tV(t){return{integerValue:""+t}}function nV(t,e){return function T2(t){return"number"==typeof t&&Number.isInteger(t)&&!Ll(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?tV(e):eV(t,e)}class cg{constructor(){this._=void 0}}function tse(t,e,n){return t instanceof au?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof Do?iV(t,e):t instanceof Co?sV(t,e):function(r,i){const s=rV(r,i),o=oV(s)+oV(r.gt);return tD(s)&&tD(r.gt)?tV(o):eV(r.yt,o)}(t,e)}function nse(t,e,n){return t instanceof Do?iV(t,e):t instanceof Co?sV(t,e):n}function rV(t,e){return t instanceof uu?tD(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class au extends cg{}class Do extends cg{constructor(e){super(),this.elements=e}}function iV(t,e){const n=aV(e);for(const r of t.elements)n.some(i=>Kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Co extends cg{constructor(e){super(),this.elements=e}}function sV(t,e){let n=aV(e);for(const r of t.elements)n=n.filter(i=>!Kr(i,r));return{arrayValue:{values:n}}}class uu extends cg{constructor(e,n){super(),this.yt=e,this.gt=n}}function oV(t){return tt(t.integerValue||t.doubleValue)}function aV(t){return Bl(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class ise{constructor(e,n){this.version=e,this.transformResults=n}}class ze{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ze}static exists(e){return new ze(void 0,e)}static updateTime(e){return new ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lg(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class dg{}function uV(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new lu(t.key,ze.none()):new cu(t.key,t.data,ze.none());{const n=t.data,r=Yt.empty();let i=new ke(ot.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new Vi(t.key,r,new er(i.toArray()),ze.none())}}function sse(t,e,n){t instanceof cu?function(r,i,s){const o=r.value.clone(),a=dV(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Vi?function(r,i,s){if(!lg(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=dV(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(lV(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ql(t,e,n,r){return t instanceof cu?function(i,s,o,a){if(!lg(i.precondition,s))return o;const u=i.value.clone(),c=hV(i.fieldTransforms,a,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vi?function(i,s,o,a){if(!lg(i.precondition,s))return o;const u=hV(i.fieldTransforms,a,s),c=s.data;return c.setAll(lV(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(t,e,n,r):(o=n,lg(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function ose(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=rV(r.transform,i||null);null!=s&&(null===n&&(n=Yt.empty()),n.set(r.field,s))}return n||null}function cV(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&tu(n,r,(i,s)=>function rse(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Do&&r instanceof Do||n instanceof Co&&r instanceof Co?tu(n.elements,r.elements,Kr):n instanceof uu&&r instanceof uu?Kr(n.gt,r.gt):n instanceof au&&r instanceof au);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class cu extends dg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Vi extends dg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dV(t,e,n){const r=new Map;$(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,nse(o,a,n[i]))}return r}function hV(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,tse(s,o,e))}return r}class lu extends dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cD extends dg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ase{constructor(e){this.count=e}}var gt,Ie;function fV(t){switch(t){default:return L();case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0}}function pV(t){if(void 0===t)return st("GRPC error has no .code"),w.UNKNOWN;switch(t){case gt.OK:return w.OK;case gt.CANCELLED:return w.CANCELLED;case gt.UNKNOWN:return w.UNKNOWN;case gt.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case gt.INTERNAL:return w.INTERNAL;case gt.UNAVAILABLE:return w.UNAVAILABLE;case gt.UNAUTHENTICATED:return w.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case gt.NOT_FOUND:return w.NOT_FOUND;case gt.ALREADY_EXISTS:return w.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return w.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case gt.ABORTED:return w.ABORTED;case gt.OUT_OF_RANGE:return w.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return w.UNIMPLEMENTED;case gt.DATA_LOSS:return w.DATA_LOSS;default:return L()}}(Ie=gt||(gt={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";class ds{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_o(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return C2(this.inner)}size(){return this.innerSize}}const use=new nt(R.comparator);function On(){return use}const gV=new nt(R.comparator);function zl(...t){let e=gV;for(const n of t)e=e.insert(n.key,n);return e}function mV(t){let e=gV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Qr(){return Wl()}function yV(){return Wl()}function Wl(){return new ds(t=>t.toString(),(t,e)=>t.isEqual(e))}const cse=new nt(R.comparator),lse=new ke(R.comparator);function se(...t){let e=lse;for(const n of t)e=e.add(n);return e}const dse=new ke(te);function hg(){return dse}class Kl{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ql.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Kl(q.min(),i,hg(),On(),se())}}class Ql{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ql(r,n,se(),se(),se())}}class fg{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class _V{constructor(e,n){this.targetId=e,this.Et=n}}class vV{constructor(e,n,r=Tt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class wV{constructor(){this.At=0,this.Rt=bV(),this.bt=Tt.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=se(),n=se(),r=se();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:L()}}),new Ql(this.bt,this.Pt,e,n,r)}xt(){this.vt=!1,this.Rt=bV()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class hse{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=On(),this.qt=IV(),this.Ut=new ke(te)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const r=this.Wt(n);switch(e.state){case 0:this.zt(n)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:L()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.zt(i)&&n(i)})}Jt(e){const n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){const s=i.target;if(sg(s))if(0===r){const o=new R(s.path);this.Qt(n,o,$e.newNoDocument(o,q.min()))}else $(1===r);else this.Xt(n)!==r&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&sg(a.target)){const u=new R(a.target.path);null!==this.Lt.get(u)||this.te(o,u)||this.Qt(o,u,$e.newNoDocument(u,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=se();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Yt(u);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new Kl(e,n,this.Ut,this.Lt,r);return this.Lt=On(),this.qt=IV(),this.Ut=new ke(te),i}Gt(e,n){if(!this.zt(e))return;const r=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new wV,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new ke(te),this.qt=this.qt.insert(e,n)),n}zt(e){const n=null!==this.Yt(e);return n||A("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new wV),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function IV(){return new nt(R.comparator)}function bV(){return new nt(R.comparator)}const fse={asc:"ASCENDING",desc:"DESCENDING"},pse={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gse={and:"AND",or:"OR"};class mse{constructor(e,n){this.databaseId=e,this.wt=n}}function du(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function EV(t,e){return t.wt?e.toBase64():e.toUint8Array()}function yse(t,e){return du(t,e.toTimestamp())}function at(t){return $(!!t),q.fromTimestamp(function(e){const n=as(e);return new Qe(n.seconds,n.nanos)}(t))}function lD(t,e){return(n=t,new we(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function DV(t){const e=we.fromString(t);return $(NV(e)),e}function Yl(t,e){return lD(t.databaseId,e.path)}function Yr(t,e){const n=DV(e);if(n.get(1)!==t.databaseId.projectId)throw new S(w.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new S(w.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new R(TV(n))}function dD(t,e){return lD(t.databaseId,e)}function Xl(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function TV(t){return $(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function SV(t,e,n){return{name:Yl(t,e),fields:n.value.mapValue.fields}}function xV(t,e){return{documents:[dD(t,e.path)]}}function fD(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=dD(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=dD(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(u){if(0!==u.length)return RV(xe.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(0!==u.length)return u.map(c=>{return{field:hu((l=c).field),direction:bse(l.dir)};var l})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.wt||Fl(c)?c:{value:c});var c,a,u;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(u=e.endAt).inclusive,values:u.position}),n}function MV(t){let e=function CV(t){const e=DV(t);return 4===e.length?we.emptyPath():TV(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){$(1===r);const l=n.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];n.where&&(s=function(l){const d=kV(l);return d instanceof xe&&L2(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(l=>{return new iu(fu((d=l).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(l){let d;return d="object"==typeof l?l.value:l,Fl(d)?null:d}(n.limit));let u=null;var l;n.startAt&&(u=new ls((l=n.startAt).values||[],!!l.before));let c=null;return n.endAt&&(c=function(l){return new ls(l.values||[],!l.before)}(n.endAt)),function Q2(t,e,n,r,i,s,o,a){return new Li(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",u,c)}function kV(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=fu(e.unaryFilter.field);return pe.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=fu(e.unaryFilter.field);return pe.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fu(e.unaryFilter.field);return pe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=fu(e.unaryFilter.field);return pe.create(s,"!=",{nullValue:"NULL_VALUE"});default:return L()}}(t):void 0!==t.fieldFilter?pe.create(fu((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return L()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return xe.create(e.compositeFilter.filters.map(n=>kV(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return L()}}(e.compositeFilter.op))}(t):L();var e}function bse(t){return fse[t]}function Ese(t){return pse[t]}function Dse(t){return gse[t]}function hu(t){return{fieldPath:t.canonicalString()}}function fu(t){return ot.fromServerFormat(t.fieldPath)}function RV(t){return t instanceof pe?function(e){if("=="===e.op){if(M2(e.value))return{unaryFilter:{field:hu(e.field),op:"IS_NAN"}};if(x2(e.value))return{unaryFilter:{field:hu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(M2(e.value))return{unaryFilter:{field:hu(e.field),op:"IS_NOT_NAN"}};if(x2(e.value))return{unaryFilter:{field:hu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hu(e.field),op:Ese(e.op),value:e.value}}}(t):t instanceof xe?function(e){const n=e.getFilters().map(r=>RV(r));return 1===n.length?n[0]:{compositeFilter:{op:Dse(e.op),filters:n}}}(t):L()}function Cse(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function NV(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class gD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&sse(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ql(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=yV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const u=uV(o,a);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(q.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),se())}isEqual(e){return this.batchId===e.batchId&&tu(this.mutations,e.mutations,(n,r)=>cV(n,r))&&tu(this.baseMutations,e.baseMutations,(n,r)=>cV(n,r))}}class mD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){$(e.mutations.length===r.length);let i=cse;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new mD(e,n,r,i)}}class yD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hs{constructor(e,n,r,i,s=q.min(),o=q.min(),a=Tt.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class BV{constructor(e){this.ie=e}}function _D(t){const e=MV({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?ug(e,e.limit,"L"):e}class xo{constructor(){}ue(e,n){this.ce(e,n),n.ae()}ce(e,n){if("nullValue"in e)this.he(n,5);else if("booleanValue"in e)this.he(n,10),n.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(n,15),n.le(tt(e.integerValue));else if("doubleValue"in e){const r=tt(e.doubleValue);isNaN(r)?this.he(n,13):(this.he(n,15),Ll(r)?n.le(0):n.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(n,20),"string"==typeof r?n.fe(r):(n.fe(`${r.seconds||""}`),n.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,n),this._e(n);else if("bytesValue"in e)this.he(n,30),n.we(vo(e.bytesValue)),this._e(n);else if("referenceValue"in e)this.me(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(n,45),n.le(r.latitude||0),n.le(r.longitude||0)}else"mapValue"in e?k2(e)?this.he(n,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,n),this._e(n)):"arrayValue"in e?(this.ye(e.arrayValue,n),this._e(n)):L()}de(e,n){this.he(n,25),this.pe(e,n)}pe(e,n){n.fe(e)}ge(e,n){const r=e.fields||{};this.he(n,55);for(const i of Object.keys(r))this.de(i,n),this.ce(r[i],n)}ye(e,n){const r=e.values||[];this.he(n,50);for(const i of r)this.ce(i,n)}me(e,n){this.he(n,37),R.fromName(e).path.forEach(r=>{this.he(n,60),this.pe(r,n)})}he(e,n){e.le(n)}_e(e){e.le(2)}}xo.Ie=new xo;class Zse{constructor(){this.Je=new DD}addToCollectionParentIndex(e,n){return this.Je.add(n),v.resolve()}getCollectionParents(e,n){return v.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return v.resolve()}deleteFieldIndex(e,n){return v.resolve()}getDocumentsMatchingTarget(e,n){return v.resolve(null)}getIndexType(e,n){return v.resolve(0)}getFieldIndexes(e,n){return v.resolve([])}getNextCollectionGroupToUpdate(e){return v.resolve(null)}getMinOffset(e,n){return v.resolve(Zn.min())}getMinOffsetFromCollectionGroup(e,n){return v.resolve(Zn.min())}updateCollectionGroup(e,n,r){return v.resolve()}updateIndexEntries(e,n){return v.resolve()}}class DD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ke(we.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ke(we.comparator)).toArray()}}new Uint8Array(0);class Fn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Fn(e,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(41943040,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);class ko{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ko(0)}static vn(){return new ko(-1)}}class soe{constructor(){this.changes=new ds(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$e.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?v.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uoe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class lU{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&ql(r.mutation,i,er.empty(),Qe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=se()){const i=Qr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=zl();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Qr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,se()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=On();const o=Wl(),a=Wl();return n.forEach((u,c)=>{const l=r.get(c.key);i.has(c.key)&&(void 0===l||l.mutation instanceof Vi)?s=s.insert(c.key,c):void 0!==l&&(o.set(c.key,l.mutation.getFieldMask()),ql(l.mutation,c,l.mutation.getFieldMask(),Qe.now()))}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((c,l)=>o.set(c,l)),n.forEach((c,l)=>{var d;return a.set(c,new uoe(l,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Wl();let i=new nt((o,a)=>o-a),s=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(null===c)return;let l=r.get(u)||er.empty();l=a.applyToLocalView(c,l),r.set(u,l);const d=(i.get(a.batchId)||se()).add(u);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,l=u.value,d=yV();l.forEach(h=>{if(!s.has(h)){const f=uV(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return v.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return R.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):sD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):v.resolve(Qr());let a=-1,u=s;return o.next(c=>v.forEach(c,(l,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(l)?v.resolve():this.remoteDocumentCache.getEntry(e,l).next(h=>{u=u.insert(l,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,u,c,se())).next(l=>({batchId:a,changes:mV(l)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new R(n)).next(r=>{let i=zl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=zl();return this.indexManager.getCollectionParents(e,i).next(o=>v.forEach(o,a=>{const u=(c=n,l=a.child(i),new Li(l,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,l;return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((l,d)=>{s=s.insert(l,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(s=>(i=s,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(s=>{s.forEach((a,u)=>{const c=u.getKey();null===i.get(c)&&(i=i.insert(c,$e.newInvalidDocument(c)))});let o=zl();return i.forEach((a,u)=>{const c=s.get(a);void 0!==c&&ql(c.mutation,u,er.empty(),Qe.now()),uD(n,u)&&(o=o.insert(a,u))}),o})}}class coe{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return v.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:at(r.createTime)}),v.resolve()}getNamedQuery(e,n){return v.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(r=n).name,query:_D(r.bundledQuery),readTime:at(r.readTime)}),v.resolve();var r}}class loe{constructor(){this.overlays=new nt(R.comparator),this.es=new Map}getOverlay(e,n){return v.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Qr();return v.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.oe(e,n,s)}),v.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(r)),v.resolve()}getOverlaysForCollection(e,n,r){const i=Qr(),s=n.length+1,o=new R(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return v.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new nt((c,l)=>c-l);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let l=s.get(c.largestBatchId);null===l&&(l=Qr(),s=s.insert(c.largestBatchId,l)),l.set(c.getKey(),c)}}const a=Qr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,l)=>a.set(c,l)),!(a.size()>=i)););return v.resolve(a)}oe(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new yD(n,r));let s=this.es.get(n);void 0===s&&(s=se(),this.es.set(n,s)),this.es.set(n,s.add(r.key))}}class CD{constructor(){this.ns=new ke(Pt.ss),this.rs=new ke(Pt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Pt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new R(new we([])),r=new Pt(n,e),i=new Pt(n,e+1),s=[];return this.rs.forEachInRange([r,i],o=>{this.cs(o),s.push(o.key)}),s}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new R(new we([])),r=new Pt(n,e),i=new Pt(n,e+1);let s=se();return this.rs.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Pt(e,0),r=this.ns.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return R.comparator(e.key,n.key)||te(e._s,n._s)}static os(e,n){return te(e._s,n._s)||R.comparator(e.key,n.key)}}class doe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new ke(Pt.ss)}checkEmpty(e){return v.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++;const o=new gD(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.gs=this.gs.add(new Pt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return v.resolve(o)}lookupMutationBatch(e,n){return v.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ps(n+1),s=i<0?0:i;return v.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return v.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return v.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),i=new Pt(n,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([r,i],o=>{const a=this.ys(o._s);s.push(a)}),v.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ke(te);return n.forEach(i=>{const s=new Pt(i,0),o=new Pt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,o],a=>{r=r.add(a._s)})}),v.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;R.isDocumentKey(s)||(s=s.child(""));const o=new Pt(new R(s),0);let a=new ke(te);return this.gs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u._s)),!0)},o),v.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){$(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return v.forEach(n.mutations,i=>{const s=new Pt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Pt(n,0),i=this.gs.firstAfterOrEqual(r);return v.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return v.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class hoe{constructor(e){this.Es=e,this.docs=new nt(R.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return v.resolve(r?r.document.mutableCopy():$e.newInvalidDocument(n))}getEntries(e,n){let r=On();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():$e.newInvalidDocument(i))}),v.resolve(r)}getAllFromCollection(e,n,r){let i=On();const s=new R(n.child("")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:a,value:{document:u}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||YE(I2(u),r)<=0||(i=i.insert(u.key,u.mutableCopy()))}return v.resolve(i)}getAllFromCollectionGroup(e,n,r,i){L()}As(e,n){return v.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new foe(this)}getSize(e){return v.resolve(this.size)}}class foe extends soe{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),v.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class poe{constructor(e){this.persistence=e,this.Rs=new ds(n=>bo(n),jl),this.lastRemoteSnapshotVersion=q.min(),this.highestTargetId=0,this.bs=0,this.Ps=new CD,this.targetCount=0,this.vs=ko.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),v.resolve()}getLastRemoteSnapshotVersion(e){return v.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return v.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),v.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),v.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,v.resolve()}updateTargetData(e,n){return this.Dn(n),v.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,v.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.Rs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),v.waitFor(s).next(()=>i)}getTargetCount(e){return v.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return v.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),v.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),v.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),v.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return v.resolve(r)}containsKey(e,n){return v.resolve(this.Ps.containsKey(n))}}class dU{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Jn(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new poe(this),this.indexManager=new Zse,this.remoteDocumentCache=new hoe(r=>this.referenceDelegate.xs(r)),this.yt=new BV(n),this.Ns=new coe(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new loe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new doe(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){A("MemoryPersistence","Starting transaction:",e);const i=new goe(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ms(e,n){return v.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class goe extends Lie{constructor(e){super(),this.currentSequenceNumber=e}}class Eg{constructor(e){this.persistence=e,this.Fs=new CD,this.$s=null}static Bs(e){return new Eg(e)}get Ls(){if(this.$s)return this.$s;throw L()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),v.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),v.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),v.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Ls.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return v.forEach(this.Ls,r=>{const i=R.fromPath(r);return this.qs(e,i).next(s=>{s||n.removeEntry(i,q.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return v.or([()=>v.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}class xD{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=se(),i=se();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new xD(e,n.fromCache,r,i)}}class fU{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(s=>s||this.Oi(e,n,i,r)).next(s=>s||this.Mi(e,n))}ki(e,n){if(Y2(n))return v.resolve(null);let r=In(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=ug(n,null,"F"),r=In(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=se(...s);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.Fi(n,a);return this.$i(n,c,o,u.readTime)?this.ki(e,ug(n,null,"F")):this.Bi(e,c,n,u)}))})))}Oi(e,n,r,i){return Y2(n)||i.isEqual(q.min())?this.Mi(e,n):this.Ni.getDocuments(e,r).next(s=>{const o=this.Fi(n,s);return this.$i(n,o,r,i)?this.Mi(e,n):(WE()<=ve.DEBUG&&A("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),aD(n)),this.Bi(e,o,n,function w2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=q.fromTimestamp(1e9===r?new Qe(n+1,0):new Qe(n,r));return new Zn(i,R.empty(),e)}(i,-1)))})}Fi(e,n){let r=new ke(J2(e));return n.forEach((i,s)=>{uD(e,s)&&(r=r.add(s))}),r}$i(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Mi(e,n){return WE()<=ve.DEBUG&&A("QueryEngine","Using full collection scan to execute query:",aD(n)),this.Ni.getDocumentsMatchingQuery(e,n,Zn.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class yoe{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.yt=i,this.qi=new nt(te),this.Ui=new ds(s=>bo(s),jl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lU(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function gU(t,e){return MD.apply(this,arguments)}function MD(){return MD=g(function*(t,e){const n=N(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let u=se();for(const c of i){o.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}for(const c of s){a.push(c.batchId);for(const l of c.mutations)u=u.add(l.key)}return n.localDocuments.getDocuments(r,u).next(c=>({ji:c,removedBatchIds:o,addedBatchIds:a}))})})}),MD.apply(this,arguments)}function _oe(t,e){const n=N(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const l=u.batch,d=l.keys();let h=v.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(p=>{const m=u.docVersions.get(f);$(null!==m),p.version.compareTo(m)<0&&(l.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=se();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mU(t){const e=N(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function voe(t,e){const n=N(t),r=e.snapshotVersion;let i=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.qi;const a=[];e.targetChanges.forEach((l,d)=>{const h=i.get(d);if(!h)return;a.push(n.Cs.removeMatchingKeys(s,l.removedDocuments,d).next(()=>n.Cs.addMatchingKeys(s,l.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var p,m,y;e.targetMismatches.has(d)?f=f.withResumeToken(Tt.EMPTY_BYTE_STRING,q.min()).withLastLimboFreeSnapshotVersion(q.min()):l.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(l.resumeToken,r)),i=i.insert(d,f),m=f,y=l,(0===(p=h).resumeToken.approximateByteSize()||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8||y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0)&&a.push(n.Cs.updateTargetData(s,f))});let u=On(),c=se();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(function yU(t,e,n){let r=se(),i=se();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=On();return n.forEach((a,u)=>{const c=s.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(q.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):A("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Wi:o,zi:i}})}(s,o,e.documentUpdates).next(l=>{u=l.Wi,c=l.zi})),!r.isEqual(q.min())){const l=n.Cs.getLastRemoteSnapshotVersion(s).next(d=>n.Cs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return v.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,c)).next(()=>u)}).then(s=>(n.qi=i,s))}function woe(t,e){const n=N(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function mu(t,e){const n=N(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(s=>s?(i=s,v.resolve(i)):n.Cs.allocateTargetId(r).next(o=>(i=new hs(e,o,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.qi=n.qi.insert(r.targetId,r),n.Ui.set(e,r.targetId)),r})}function yu(t,e,n){return kD.apply(this,arguments)}function kD(){return kD=g(function*(t,e,n){const r=N(t),i=r.qi.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!os(o))throw o;A("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),kD.apply(this,arguments)}function Cg(t,e,n){const r=N(t);let i=q.min(),s=se();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const l=N(a),d=l.Ui.get(c);return void 0!==d?v.resolve(l.qi.get(d)):l.Cs.getTargetData(u,c)}(r,o,In(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.Li.getDocumentsMatchingQuery(o,e,n?i:q.min(),n?s:se())).next(a=>(function wU(t,e,n){let r=t.Ki.get(e)||q.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ki.set(e,r)}(r,function Z2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Hi:s})))}class FD{constructor(){this.activeTargetIds=hg()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class EU{constructor(){this.Lr=new FD,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,r){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new FD,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Eoe{Ur(e){}shutdown(){}}class DU{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){A("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){A("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Doe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Coe{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class Toe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,r,i,s){const o=this.ho(e,n);A("RestConnection","Sending: ",o,r);const a={};return this.lo(a,i,s),this.fo(e,o,a,r).then(u=>(A("RestConnection","Received: ",u),u),u=>{throw eu("RestConnection",`${e} failed with error: `,u,"url: ",o,"request:",r),u})}_o(e,n,r,i,s,o){return this.ao(e,n,r,i,s)}lo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ja,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ho(e,n){return`${this.oo}/v1/${n}:${Doe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,r,i){return new Promise((s,o)=>{const a=new Tie;a.setWithCredentials(!0),a.listenOnce(Eie.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case zE.NO_ERROR:const c=a.getResponseJson();A("Connection","XHR received:",JSON.stringify(c)),s(c);break;case zE.TIMEOUT:A("Connection",'RPC "'+e+'" timed out'),o(new S(w.DEADLINE_EXCEEDED,"Request time out"));break;case zE.HTTP_ERROR:const l=a.getStatus();if(A("Connection",'RPC "'+e+'" failed with status:',l,"response text:",a.getResponseText()),l>0){let d=a.getResponseJson();Array.isArray(d)&&(d=d[0]);const h=d?.error;if(h&&h.status&&h.message){const f=function(p){const m=p.toLowerCase().replace(/_/g,"-");return Object.values(w).indexOf(m)>=0?m:w.UNKNOWN}(h.status);o(new S(f,h.message))}else o(new S(w.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new S(w.UNAVAILABLE,"Connection failed."));break;default:L()}}finally{A("Connection",'RPC "'+e+'" completed.')}});const u=JSON.stringify(i);a.send(n,"POST",u,r,15)})}wo(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Iie(),o=bie(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Cie({})),this.lo(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=i.join("");A("Connection","Creating WebChannel: "+u,a);const c=s.createWebChannel(u,a);let l=!1,d=!1;const h=new Coe({Hr:p=>{d?A("Connection","Not sending because WebChannel is closed:",p):(l||(A("Connection","Opening WebChannel transport."),c.open(),l=!0),A("Connection","WebChannel sending:",p),c.send(p))},Jr:()=>c.close()}),f=(p,m,y)=>{p.listen(m,I=>{try{y(I)}catch(E){setTimeout(()=>{throw E},0)}})};return f(c,Zp.EventType.OPEN,()=>{d||A("Connection","WebChannel transport opened.")}),f(c,Zp.EventType.CLOSE,()=>{d||(d=!0,A("Connection","WebChannel transport closed"),h.io())}),f(c,Zp.EventType.ERROR,p=>{d||(d=!0,eu("Connection","WebChannel transport errored:",p),h.io(new S(w.UNAVAILABLE,"The operation could not be completed")))}),f(c,Zp.EventType.MESSAGE,p=>{var m;if(!d){const y=p.data[0];$(!!y);const I=y,E=I.error||(null===(m=I[0])||void 0===m?void 0:m.error);if(E){A("Connection","WebChannel received error:",E);const _=E.status;let M=function(B){const He=gt[B];if(void 0!==He)return pV(He)}(_),V=E.message;void 0===M&&(M=w.INTERNAL,V="Unknown error status: "+_+" with message "+E.message),d=!0,h.io(new S(M,V)),c.close()}else A("Connection","WebChannel received:",y),h.ro(y)}}),f(o,Die.STAT_EVENT,p=>{p.stat===p2.PROXY?A("Connection","Detected buffering proxy"):p.stat===p2.NOPROXY&&A("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.so()},0),h}}function Ag(){return typeof document<"u"?document:null}function ad(t){return new mse(t,!0)}class VD{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Hs=e,this.timerId=n,this.mo=r,this.yo=i,this.po=s,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&A("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class TU{constructor(e,n,r,i,s,o,a,u){this.Hs=e,this.vo=r,this.Vo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new VD(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return g(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return g(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var r=this;return g(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():n&&n.code===w.RESOURCE_EXHAUSTED?(st(n.toString()),st("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):n&&n.code===w.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(n)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new S(w.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro(g(function*(){e.state=0,e.start()}))}Qo(e){return A("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(A("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Soe extends TU{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.yt=s}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=function vse(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:L(),i=e.targetChange.targetIds||[],s=function(u,c){return u.wt?($(void 0===c||"string"==typeof c),Tt.fromBase64String(c||"")):($(void 0===c||c instanceof Uint8Array),Tt.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=void 0===u.code?w.UNKNOWN:pV(u.code);return new S(c,u.message||"")}(o);n=new vV(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Yr(t,r.document.name),s=at(r.document.updateTime),o=r.document.createTime?at(r.document.createTime):q.min(),a=new Yt({mapValue:{fields:r.document.fields}}),u=$e.newFoundDocument(i,s,o,a);n=new fg(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=Yr(t,r.document),s=r.readTime?at(r.readTime):q.min(),o=$e.newNoDocument(i,s);n=new fg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Yr(t,r.document);n=new fg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return L();{const r=e.filter,s=new ase(r.count||0);n=new _V(r.targetId,s)}}var u;return n}(this.yt,e),r=function(i){if(!("targetChange"in i))return q.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?q.min():s.readTime?at(s.readTime):q.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=Xl(this.yt),n.addTarget=function(i,s){let o;const a=s.target;return o=sg(a)?{documents:xV(i,a)}:{query:fD(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=EV(i,s.resumeToken):s.snapshotVersion.compareTo(q.min())>0&&(o.readTime=du(i,s.snapshotVersion.toTimestamp())),o}(this.yt,e);const r=function Ise(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return L()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=Xl(this.yt),n.removeTarget=e,this.Bo(n)}}class Aoe extends TU{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.yt=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if($(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function wse(t,e){return t&&t.length>0?($(void 0!==e),t.map(n=>function(r,i){let s=at(r.updateTime?r.updateTime:i);return s.isEqual(q.min())&&(s=at(i)),new ise(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=at(e.commitTime);return this.listener.Zo(r,n)}return $(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=Xl(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Zl(t,e){let n;if(e instanceof cu)n={update:SV(t,e.key,e.value)};else if(e instanceof lu)n={delete:Yl(t,e.key)};else if(e instanceof Vi)n={update:SV(t,e.key,e.data),updateMask:Cse(e.fieldMask)};else{if(!(e instanceof cD))return L();n={verify:Yl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof au)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Do)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Co)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof uu)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw L()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:yse(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:L()),n;var i}(this.yt,r))};this.Bo(n)}}class xoe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new S(w.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.ao(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new S(w.UNKNOWN,i.toString())})}_o(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection._o(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===w.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new S(w.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class koe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(st(n),this.ou=!1):A("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Roe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.Ur(a=>{r.enqueueAndForget(g(function*(){var u;Ui(o)&&(A("RemoteStore","Restarting streams for network reachability change."),yield(u=g(function*(c){const l=N(c);l._u.add(4),yield _u(l),l.gu.set("Unknown"),l._u.delete(4),yield ud(l)}),function(c){return u.apply(this,arguments)})(o))}))}),this.gu=new koe(r,i)}}function ud(t){return BD.apply(this,arguments)}function BD(){return BD=g(function*(t){if(Ui(t))for(const e of t.wu)yield e(!0)}),BD.apply(this,arguments)}function _u(t){return $D.apply(this,arguments)}function $D(){return $D=g(function*(t){for(const e of t.wu)yield e(!1)}),$D.apply(this,arguments)}function xg(t,e){const n=N(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),GD(n)?HD(n):wu(n).ko()&&jD(n,e))}function cd(t,e){const n=N(t),r=wu(n);n.du.delete(e),r.ko()&&SU(n,e),0===n.du.size&&(r.ko()?r.Fo():Ui(n)&&n.gu.set("Unknown"))}function jD(t,e){t.yu.Ot(e.targetId),wu(t).zo(e)}function SU(t,e){t.yu.Ot(e),wu(t).Ho(e)}function HD(t){t.yu=new hse({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),wu(t).start(),t.gu.uu()}function GD(t){return Ui(t)&&!wu(t).No()&&t.du.size>0}function Ui(t){return 0===N(t)._u.size}function AU(t){t.yu=void 0}function Noe(t){return qD.apply(this,arguments)}function qD(){return qD=g(function*(t){t.du.forEach((e,n)=>{jD(t,e)})}),qD.apply(this,arguments)}function Poe(t,e){return zD.apply(this,arguments)}function zD(){return zD=g(function*(t,e){AU(t),GD(t)?(t.gu.hu(e),HD(t)):t.gu.set("Unknown")}),zD.apply(this,arguments)}function Ooe(t,e,n){return WD.apply(this,arguments)}function WD(){return WD=g(function*(t,e,n){if(t.gu.set("Online"),e instanceof vV&&2===e.state&&e.cause)try{yield(r=g(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.du.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.du.delete(a),i.yu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){A("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Mg(t,r)}else if(e instanceof fg?t.yu.Kt(e):e instanceof _V?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(q.min()))try{const r=yield mU(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.yu.Zt(s);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.du.get(u);c&&i.du.set(u,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const u=i.du.get(a);if(!u)return;i.du.set(a,u.withResumeToken(Tt.EMPTY_BYTE_STRING,u.snapshotVersion)),SU(i,a);const c=new hs(u.target,a,1,u.sequenceNumber);jD(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){A("RemoteStore","Failed to raise snapshot:",r),yield Mg(t,r)}var r}),WD.apply(this,arguments)}function Mg(t,e,n){return KD.apply(this,arguments)}function KD(){return KD=g(function*(t,e,n){if(!os(e))throw e;t._u.add(1),yield _u(t),t.gu.set("Offline"),n||(n=()=>mU(t.localStore)),t.asyncQueue.enqueueRetryable(g(function*(){A("RemoteStore","Retrying IndexedDB access"),yield n(),t._u.delete(1),yield ud(t)}))}),KD.apply(this,arguments)}function xU(t,e){return e().catch(n=>Mg(t,n,e))}function vu(t){return QD.apply(this,arguments)}function QD(){return QD=g(function*(t){const e=N(t),n=ms(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Foe(e);)try{const i=yield woe(e.localStore,r);if(null===i){0===e.fu.length&&n.Fo();break}r=i.batchId,Loe(e,i)}catch(i){yield Mg(e,i)}MU(e)&&kU(e)}),QD.apply(this,arguments)}function Foe(t){return Ui(t)&&t.fu.length<10}function Loe(t,e){t.fu.push(e);const n=ms(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function MU(t){return Ui(t)&&!ms(t).No()&&t.fu.length>0}function kU(t){ms(t).start()}function Voe(t){return YD.apply(this,arguments)}function YD(){return YD=g(function*(t){ms(t).eu()}),YD.apply(this,arguments)}function Uoe(t){return XD.apply(this,arguments)}function XD(){return XD=g(function*(t){const e=ms(t);for(const n of t.fu)e.Xo(n.mutations)}),XD.apply(this,arguments)}function Boe(t,e,n){return ZD.apply(this,arguments)}function ZD(){return ZD=g(function*(t,e,n){const r=t.fu.shift(),i=mD.from(r,e,n);yield xU(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield vu(t)}),ZD.apply(this,arguments)}function $oe(t,e){return JD.apply(this,arguments)}function JD(){return JD=g(function*(t,e){var n;e&&ms(t).Yo&&(yield(n=g(function*(r,i){if(fV(s=i.code)&&s!==w.ABORTED){const o=r.fu.shift();ms(r).Mo(),yield xU(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield vu(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),MU(t)&&kU(t)}),JD.apply(this,arguments)}function RU(t,e){return eC.apply(this,arguments)}function eC(){return eC=g(function*(t,e){const n=N(t);n.asyncQueue.verifyOperationInProgress(),A("RemoteStore","RemoteStore received new credentials");const r=Ui(n);n._u.add(3),yield _u(n),r&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield ud(n)}),eC.apply(this,arguments)}function nC(){return nC=g(function*(t,e){const n=N(t);e?(n._u.delete(2),yield ud(n)):e||(n._u.add(2),yield _u(n),n.gu.set("Unknown"))}),nC.apply(this,arguments)}function wu(t){return t.pu||(t.pu=function(e,n,r){const i=N(e);return i.su(),new Soe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:Noe.bind(null,t),Zr:Poe.bind(null,t),Wo:Ooe.bind(null,t)}),t.wu.push(function(){var e=g(function*(n){n?(t.pu.Mo(),GD(t)?HD(t):t.gu.set("Unknown")):(yield t.pu.stop(),AU(t))});return function(n){return e.apply(this,arguments)}}())),t.pu}function ms(t){return t.Iu||(t.Iu=function(e,n,r){const i=N(e);return i.su(),new Aoe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(t.datastore,t.asyncQueue,{Yr:Voe.bind(null,t),Zr:$oe.bind(null,t),tu:Uoe.bind(null,t),Zo:Boe.bind(null,t)}),t.wu.push(function(){var e=g(function*(n){n?(t.Iu.Mo(),yield vu(t)):(yield t.Iu.stop(),t.fu.length>0&&(A("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Iu}class rC{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new rC(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new S(w.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iu(t,e){if(st("AsyncQueue",`${e}: ${t}`),os(t))return new S(w.UNAVAILABLE,`${e}: ${t}`);throw t}class bu{constructor(e){this.comparator=e?(n,r)=>e(n,r)||R.comparator(n.key,r.key):(n,r)=>R.comparator(n.key,r.key),this.keyedMap=zl(),this.sortedSet=new nt(this.comparator)}static emptySet(e){return new bu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof bu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new bu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class NU{constructor(){this.Tu=new nt(R.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(n):1===e.type&&2===r.type?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):L():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Eu{constructor(e,n,r,i,s,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Eu(e,n,bu.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class joe{constructor(){this.Au=void 0,this.listeners=[]}}class Hoe{constructor(){this.queries=new ds(e=>X2(e),Hl),this.onlineState="Unknown",this.Ru=new Set}}function iC(t,e){return sC.apply(this,arguments)}function sC(){return sC=g(function*(t,e){const n=N(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new joe),i)try{s.Au=yield n.onListen(r)}catch(o){const a=Iu(o,`Initialization of query '${aD(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.bu(n.onlineState),s.Au&&e.Pu(s.Au)&&uC(n)}),sC.apply(this,arguments)}function oC(t,e){return aC.apply(this,arguments)}function aC(){return aC=g(function*(t,e){const n=N(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),aC.apply(this,arguments)}function Goe(t,e){const n=N(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.Pu(i)&&(r=!0);o.Au=i}}r&&uC(n)}function qoe(t,e,n){const r=N(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function uC(t){t.Ru.forEach(e=>{e.next()})}class cC{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Eu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||(!this.options.Nu||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Eu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class FU{constructor(e){this.key=e}}class LU{constructor(e){this.key=e}}class VU{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=se(),this.mutatedKeys=se(),this.Gu=J2(e),this.Qu=new bu(this.Gu)}get ju(){return this.qu}Wu(e,n){const r=n?n.zu:new NU,i=n?n.Qu:this.Qu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,d)=>{const h=i.get(l),f=uD(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let y=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),y=!0):this.Hu(h,f)||(r.track({type:2,doc:f}),y=!0,(u&&this.Gu(f,u)>0||c&&this.Gu(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),y=!0):h&&!f&&(r.track({type:1,doc:h}),y=!0,(u||c)&&(a=!0)),y&&(f?(o=o.add(f),s=m?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,$i:a,mutatedKeys:s}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const s=e.zu.Eu();s.sort((c,l)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return L()}};return f(d)-f(h)}(c.type,l.type)||this.Gu(c.doc,l.doc)),this.Ju(r);const o=n?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,u=a!==this.Uu;return this.Uu=a,0!==s.length||u?{snapshot:new Eu(this.query,e.Qu,i,s,e.mutatedKeys,0===a,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new NU,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=se(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const n=[];return e.forEach(r=>{this.Ku.has(r)||n.push(new LU(r))}),this.Ku.forEach(r=>{e.has(r)||n.push(new FU(r))}),n}tc(e){this.qu=e.Hi,this.Ku=se();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return Eu.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class Koe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Qoe{constructor(e){this.key=e,this.nc=!1}}class Yoe{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new ds(a=>X2(a),Hl),this.rc=new Map,this.oc=new Set,this.uc=new nt(R.comparator),this.cc=new Map,this.ac=new CD,this.hc={},this.lc=new Map,this.fc=ko.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Xoe(t,e){return lC.apply(this,arguments)}function lC(){return lC=g(function*(t,e){const n=NC(t);let r,i;const s=n.ic.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.ec();else{const o=yield mu(n.localStore,In(e));n.isPrimaryClient&&xg(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield dC(n,e,r,"current"===a,o.resumeToken)}return i}),lC.apply(this,arguments)}function dC(t,e,n,r,i){return hC.apply(this,arguments)}function hC(){return hC=g(function*(t,e,n,r,i){t._c=(d,h,f)=>{return(p=g(function*(m,y,I,E){let _=y.view.Wu(I);_.$i&&(_=yield Cg(m.localStore,y.query,!1).then(({documents:B})=>y.view.Wu(B,_)));const M=E&&E.targetChanges.get(y.targetId),V=y.view.applyChanges(_,m.isPrimaryClient,M);return bC(m,y.targetId,V.Xu),V.snapshot}),function(m,y,I,E){return p.apply(this,arguments)})(t,d,h,f);var p};const s=yield Cg(t.localStore,e,!0),o=new VU(e,s.Hi),a=o.Wu(s.documents),u=Ql.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,u);bC(t,n,c.Xu);const l=new Koe(e,n,o);return t.ic.set(e,l),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),c.snapshot}),hC.apply(this,arguments)}function Zoe(t,e){return fC.apply(this,arguments)}function fC(){return fC=g(function*(t,e){const n=N(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter(s=>!Hl(s,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield yu(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),cd(n.remoteStore,r.targetId),Du(n,r.targetId)}).catch(ss))):(Du(n,r.targetId),yield yu(n.localStore,r.targetId,!0))}),fC.apply(this,arguments)}function pC(){return pC=g(function*(t,e,n){const r=PC(t);try{const i=yield function(s,o){const a=N(s),u=Qe.now(),c=o.reduce((h,f)=>h.add(f.key),se());let l,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=On(),p=se();return a.Gi.getEntries(h,c).next(m=>{f=m,f.forEach((y,I)=>{I.isValidDocument()||(p=p.add(y))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(m=>{l=m;const y=[];for(const I of o){const E=ose(I,l.get(I.key).overlayedDocument);null!=E&&y.push(new Vi(I.key,E,z2(E.value.mapValue),ze.exists(!0)))}return a.mutationQueue.addMutationBatch(h,u,y,o)}).next(m=>{d=m;const y=m.applyToLocalDocumentSet(l,p);return a.documentOverlayCache.saveOverlays(h,m.batchId,y)})}).then(()=>({batchId:d.batchId,changes:mV(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let u=s.hc[s.currentUser.toKey()];u||(u=new nt(te)),u=u.insert(o,a),s.hc[s.currentUser.toKey()]=u}(r,i.batchId,n),yield Bi(r,i.changes),yield vu(r.remoteStore)}catch(i){const s=Iu(i,"Failed to persist write");n.reject(s)}}),pC.apply(this,arguments)}function UU(t,e){return gC.apply(this,arguments)}function gC(){return gC=g(function*(t,e){const n=N(t);try{const r=yield voe(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.cc.get(s);o&&($(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.nc=!0:i.modifiedDocuments.size>0?$(o.nc):i.removedDocuments.size>0&&($(o.nc),o.nc=!1))}),yield Bi(n,r,e)}catch(r){yield ss(r)}}),gC.apply(this,arguments)}function BU(t,e,n){const r=N(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.ic.forEach((s,o)=>{const a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=N(s);a.onlineState=o;let u=!1;a.queries.forEach((c,l)=>{for(const d of l.listeners)d.bu(o)&&(u=!0)}),u&&uC(a)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function eae(t,e,n){return mC.apply(this,arguments)}function mC(){return mC=g(function*(t,e,n){const r=N(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),s=i&&i.key;if(s){let o=new nt(R.comparator);o=o.insert(s,$e.newNoDocument(s,q.min()));const a=se().add(s),u=new Kl(q.min(),new Map,new ke(te),o,a);yield UU(r,u),r.uc=r.uc.remove(s),r.cc.delete(e),EC(r)}else yield yu(r.localStore,e,!1).then(()=>Du(r,e,n)).catch(ss)}),mC.apply(this,arguments)}function tae(t,e){return yC.apply(this,arguments)}function yC(){return yC=g(function*(t,e){const n=N(t),r=e.batch.batchId;try{const i=yield _oe(n.localStore,e);IC(n,r,null),wC(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Bi(n,i)}catch(i){yield ss(i)}}),yC.apply(this,arguments)}function nae(t,e,n){return _C.apply(this,arguments)}function _C(){return _C=g(function*(t,e,n){const r=N(t);try{const i=yield function(s,o){const a=N(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(l=>($(null!==l),c=l.keys(),a.mutationQueue.removeMutationBatch(u,l))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);IC(r,e,n),wC(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Bi(r,i)}catch(i){yield ss(i)}}),_C.apply(this,arguments)}function wC(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function IC(t,e,n){const r=N(t);let i=r.hc[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function Du(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(r=>{t.ac.containsKey(r)||$U(t,r)})}function $U(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);null!==n&&(cd(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),EC(t))}function bC(t,e,n){for(const r of n)r instanceof FU?(t.ac.addReference(r.key,e),iae(t,r)):r instanceof LU?(A("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||$U(t,r.key)):L()}function iae(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(A("SyncEngine","New document in limbo: "+n),t.oc.add(r),EC(t))}function EC(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new R(we.fromString(e)),r=t.fc.next();t.cc.set(r,new Qoe(n)),t.uc=t.uc.insert(n,r),xg(t.remoteStore,new hs(In(ou(n.path)),r,2,Jn.at))}}function Bi(t,e,n){return DC.apply(this,arguments)}function DC(){return DC=g(function*(t,e,n){const r=N(t),i=[],s=[],o=[];var a;r.ic.isEmpty()||(r.ic.forEach((a,u)=>{o.push(r._c(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c?.fromCache?"not-current":"current"),c){i.push(c);const l=xD.Ci(u.targetId,c);s.push(l)}}))}),yield Promise.all(o),r.sc.Wo(i),yield(a=g(function*(u,c){const l=N(u);try{yield l.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>v.forEach(c,h=>v.forEach(h.Si,f=>l.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>v.forEach(h.Di,f=>l.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!os(d))throw d;A("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=l.qi.get(h),m=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);l.qi=l.qi.insert(h,m)}}}),function(u,c){return a.apply(this,arguments)})(r.localStore,s))}),DC.apply(this,arguments)}function sae(t,e){return CC.apply(this,arguments)}function CC(){return CC=g(function*(t,e){const n=N(t);if(!n.currentUser.isEqual(e)){A("SyncEngine","User change. New user:",e.toKey());const r=yield gU(n.localStore,e);n.currentUser=e,(i=n).lc.forEach(o=>{o.forEach(a=>{a.reject(new S(w.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bi(n,r.ji)}var i}),CC.apply(this,arguments)}function oae(t,e){const n=N(t),r=n.cc.get(e);if(r&&r.nc)return se().add(r.key);{let i=se();const s=n.rc.get(e);if(!s)return i;for(const o of s){const a=n.ic.get(o);i=i.unionWith(a.view.ju)}return i}}function NC(t){const e=N(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UU.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oae.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eae.bind(null,e),e.sc.Wo=Goe.bind(null,e.eventManager),e.sc.wc=qoe.bind(null,e.eventManager),e}function PC(t){const e=N(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tae.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nae.bind(null,e),e}class gae{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return g(function*(){n.yt=ad(e.databaseInfo.databaseId),n.sharedClientState=n.gc(e),n.persistence=n.yc(e),yield n.persistence.start(),n.localStore=n.Ic(e),n.gcScheduler=n.Tc(e,n.localStore),n.indexBackfillerScheduler=n.Ec(e,n.localStore)})()}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return function pU(t,e,n,r){return new yoe(t,e,n,r)}(this.persistence,new fU,e.initialUser,this.yt)}yc(e){return new dU(Eg.Bs,this.yt)}gc(e){return new EU}terminate(){var e=this;return g(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class OC{initialize(e,n){var r=this;return g(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>BU(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=sae.bind(null,r.syncEngine),yield function tC(t,e){return nC.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Hoe}createDatastore(e){const n=ad(e.databaseInfo.databaseId),r=new Toe(e.databaseInfo);return new xoe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>BU(this.syncEngine,a,0),o=DU.C()?new DU:new Eoe,new Roe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,u,c){const l=new Yoe(r,i,s,o,a,u);return c&&(l.dc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=g(function*(n){const r=N(n);A("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield _u(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function FC(t,e,n){if(!n)throw new S(w.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GU(t){if(!R.isDocumentKey(t))throw new S(w.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function qU(t){if(R.isDocumentKey(t))throw new S(w.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":L()}function ge(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(w.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kg(t);throw new S(w.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const WU=new Map;class KU{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new S(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new S(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function _ae(t,e,n,r){if(!0===e&&!0===r)throw new S(w.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ld{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new S(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new S(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KU(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Sie;switch(n.type){case"gapi":return new kie(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new S(w.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=WU.get(e);n&&(A("ComponentProvider","Removing Datastore"),WU.delete(e),n.terminate())}(this),Promise.resolve()}}class ut{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ut(this.firestore,e,this._key)}}class Xt{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xt(this.firestore,e,this._query)}}class Zr extends Xt{constructor(e,n,r){super(e,n,ou(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ut(this.firestore,null,new R(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function wae(t,e,...n){if(t=pt(t),FC("collection","path",e),t instanceof ld){const r=we.fromString(e,...n);return qU(r),new Zr(t,null,r)}{if(!(t instanceof ut||t instanceof Zr))throw new S(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return qU(r),new Zr(t.firestore,null,r)}}function QU(t,e,...n){if(t=pt(t),1===arguments.length&&(e=_2.R()),FC("doc","path",e),t instanceof ld){const r=we.fromString(e,...n);return GU(r),new ut(t,null,new R(r))}{if(!(t instanceof ut||t instanceof Zr))throw new S(w.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return GU(r),new ut(t.firestore,t instanceof Zr?t.converter:null,new R(r))}}class Rg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):st("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Tae{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=_2.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=g(function*(a){A("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(A("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return g(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new S(w.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new Ct;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(g(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Iu(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function ZU(t,e){return LC.apply(this,arguments)}function LC(){return LC=g(function*(t,e){t.asyncQueue.verifyOperationInProgress(),A("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=g(function*(s){r.isEqual(s)||(yield gU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}),LC.apply(this,arguments)}function JU(t,e){return VC.apply(this,arguments)}function VC(){return VC=g(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield UC(t);A("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>RU(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>RU(e.remoteStore,s)),t.onlineComponents=e}),VC.apply(this,arguments)}function UC(t){return BC.apply(this,arguments)}function BC(){return BC=g(function*(t){return t.offlineComponents||(A("FirestoreClient","Using default OfflineComponentProvider"),yield ZU(t,new gae)),t.offlineComponents}),BC.apply(this,arguments)}function Ng(t){return $C.apply(this,arguments)}function $C(){return $C=g(function*(t){return t.onlineComponents||(A("FirestoreClient","Using default OnlineComponentProvider"),yield JU(t,new OC)),t.onlineComponents}),$C.apply(this,arguments)}function Cu(t){return GC.apply(this,arguments)}function GC(){return GC=g(function*(t){const e=yield Ng(t),n=e.eventManager;return n.onListen=Xoe.bind(null,e.syncEngine),n.onUnlisten=Zoe.bind(null,e.syncEngine),n}),GC.apply(this,arguments)}class Pae{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new VD(this,"async_queue_retry"),this.Wc=()=>{const n=Ag();n&&A("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=Ag();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=Ag();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Ct;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return g(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(n){if(!os(n))throw n;A("AsyncQueue","Operation failed with retryable error: "+n)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,st("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=n,n}enqueueAfterDelay(e,n,r){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const i=rC.createAndSchedule(this,e,n,r,s=>this.Yc(s));return this.Uc.push(i),i}zc(){this.Kc&&L()}verifyOperationInProgress(){}Xc(){var e=this;return g(function*(){let n;do{n=e.Bc,yield n}while(n!==e.Bc)})()}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class je extends ld{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Pae,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||iB(this),this._firestoreClient.terminate()}}function Fae(t,e){const r="string"==typeof t?t:e||"(default)",i=Zs("object"==typeof t?t:qf(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=lP("firestore");s&&function vae(t,e,n,r={}){var i;const s=(t=ge(t,ld))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&eu("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=Rt.MOCK_USER;else{o=hP(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new S(w.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Rt(u)}t._authCredentials=new Aie(new m2(o,a))}}(i,...s)}return i}function mt(t){return t._firestoreClient||iB(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function iB(t){var e;const n=t._freezeSettings(),r=(s=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new jie(t._databaseId,s,t._persistenceKey,(a=n).host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams));var s,a;t._firestoreClient=new Tae(t._authCredentials,t._appCheckCredentials,t._queue,r)}class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(Tt.fromBase64String(e))}catch(n){throw new S(w.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new No(Tt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Tu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new S(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zC{constructor(e){this._methodName=e}}class WC{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new S(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new S(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}const Lae=/^__.*__$/;class Vae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class aB{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uB(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw L()}}class Og{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.yt=r,this.ignoreUndefinedProperties=i,void 0===s&&this.na(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Og(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Lg(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(uB(this.sa)&&Lae.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Uae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=r||ad(e)}da(e,n,r,i=!1){return new Og({sa:e,methodName:n,fa:r,path:ot.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Su(t){const e=t._freezeSettings(),n=ad(t._databaseId);return new Uae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function KC(t,e,n,r,i,s={}){const o=t.da(s.merge||s.mergeFields?2:0,e,n,i);YC("Data must be an object, but it was:",o,r);const a=fB(r,o);let u,c;if(s.merge)u=new er(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const l=[];for(const d of s.mergeFields){const h=XC(e,d,n);if(!o.contains(h))throw new S(w.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);gB(l,h)||l.push(h)}u=new er(l),c=o.fieldTransforms.filter(d=>u.covers(d.field))}else u=null,c=o.fieldTransforms;return new Vae(new Yt(a),u,c)}class dd extends zC{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dd}}function Po(t,e){if(pB(t=pt(t)))return YC("Unsupported field value:",e,t),fB(t,e);if(t instanceof zC)return function(n,r){if(!uB(r.sa))throw r.ha(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Po(o,r.aa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=pt(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return nV(r.yt,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=Qe.fromDate(n);return{timestampValue:du(r.yt,i)}}if(n instanceof Qe){const i=new Qe(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:du(r.yt,i)}}if(n instanceof WC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof No)return{bytesValue:EV(r.yt,n._byteString)};if(n instanceof ut){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ha(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:lD(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ha(`Unsupported field value: ${kg(n)}`)}(t,e)}function fB(t,e){const n={};return C2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_o(t,(r,i)=>{const s=Po(i,e.ra(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function pB(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof WC||t instanceof No||t instanceof ut||t instanceof zC)}function YC(t,e,n){if(!pB(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=kg(n);throw e.ha("an object"===r?t+" a custom object":t+" "+r)}var r}function XC(t,e,n){if((e=pt(e))instanceof Tu)return e._internalPath;if("string"==typeof e)return Fg(t,e);throw Lg("Field path arguments must be of type string or ",t,!1,void 0,n)}const Hae=new RegExp("[~\\*/\\[\\]]");function Fg(t,e,n){if(e.search(Hae)>=0)throw Lg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Tu(...e.split("."))._internalPath}catch{throw Lg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lg(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new S(w.INVALID_ARGUMENT,a+t+u)}function gB(t,e){return t.some(n=>n.isEqual(e))}class ZC{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ut(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Vg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Gae extends ZC{data(){return super.data()}}function Vg(t,e){return"string"==typeof e?Fg(t,e):e instanceof Tu?e._internalPath:e._delegate._internalPath}class JC{}class yB extends JC{}function qae(t,e,...n){let r=[];e instanceof JC&&r.push(e),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof Au).length,o=i.filter(a=>a instanceof hd).length;if(s>1||s>0&&o>0)throw new S(w.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class hd extends yB{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new hd(e,n,r)}_apply(e){const n=this._parse(e);return IB(e._query,n),new Xt(e.firestore,e.converter,oD(e._query,n))}_parse(e){const n=Su(e.firestore);return function(i,s,o,a,u,c,l){let d;if(u.isKeyField()){if("array-contains"===c||"array-contains-any"===c)throw new S(w.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if("in"===c||"not-in"===c){wB(l,c);const h=[];for(const f of l)h.push(vB(a,i,f));d={arrayValue:{values:h}}}else d=vB(a,i,l)}else"in"!==c&&"not-in"!==c&&"array-contains-any"!==c||wB(l,c),d=function hB(t,e,n,r=!1){return Po(n,t.da(r?4:3,e))}(o,"where",l,"in"===c||"not-in"===c);return pe.create(u,c,d)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class Au extends JC{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Au(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:xe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)IB(s,a),s=oD(s,a)}(e._query,n),new Xt(e.firestore,e.converter,oD(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ug extends yB{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Ug(e,n,r)}_apply(e){return new Xt(e.firestore,e.converter,ug(e._query,this._limit,this._limitType))}}function zae(t){return function zU(t,e){if(e<=0)throw new S(w.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}("limit",t),Ug._create("limit",t,"F")}function vB(t,e,n){if("string"==typeof(n=pt(n))){if(""===n)throw new S(w.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sD(e)&&-1!==n.indexOf("/"))throw new S(w.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(we.fromString(n));if(!R.isDocumentKey(r))throw new S(w.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Io(t,new R(r))}if(n instanceof ut)return Io(t,n._key);throw new S(w.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kg(n)}.`)}function wB(t,e){if(!Array.isArray(t)||0===t.length)throw new S(w.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new S(w.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function IB(t,e){if(e.isInequality()){const r=ag(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new S(w.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=iD(t);null!==s&&function bB(t,e,n){if(!n.isEqual(e))throw new S(w.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new S(w.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Wae{convertValue(e,n="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw L()}}convertObject(e,n){const r={};return _o(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new WC(tt(e.latitude),tt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=S2(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vl(e));default:return null}}convertTimestamp(e){const n=as(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);$(NV(r));const i=new yo(r.get(1),r.get(3)),s=new R(r.popFirst(5));return i.isEqual(n)||st(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function tT(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Oo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xu extends ZC{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Vg("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class jg extends xu{data(e={}){return super.data(e)}}class Mu{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Oo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jg(this._firestore,this._userDataWriter,r.key,r,new Oo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new S(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new jg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new jg(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Oo(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return 0!==o.type&&(u=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:Kae(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Kae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return L()}}function Qae(t){t=ge(t,ut);const e=ge(t.firestore,je);return function nB(t,e,n={}){const r=new Ct;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new Rg({next:d=>{s.enqueueAndForget(()=>oC(i,l));const h=d.docs.has(o);!h&&d.fromCache?u.reject(new S(w.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&d.fromCache&&a&&"server"===a.source?u.reject(new S(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new cC(ou(o.path),c,{includeMetadataChanges:!0,Nu:!0});return iC(i,l)}(yield Cu(t),t.asyncQueue,e,n,r)})),r.promise}(mt(e),t._key).then(n=>function nT(t,e,n){const r=n.docs.get(e._key),i=new ys(t);return new xu(t,i,e._key,r,new Oo(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n))}class ys extends Wae{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ut(this.firestore,null,n)}}function Yae(t){t=ge(t,Xt);const e=ge(t.firestore,je),n=mt(e),r=new ys(e);return function mB(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new S(w.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function rB(t,e,n={}){const r=new Ct;return t.asyncQueue.enqueueAndForget(g(function*(){return function(i,s,o,a,u){const c=new Rg({next:d=>{s.enqueueAndForget(()=>oC(i,l)),d.fromCache&&"server"===a.source?u.reject(new S(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(d)},error:d=>u.reject(d)}),l=new cC(o,c,{includeMetadataChanges:!0,Nu:!0});return iC(i,l)}(yield Cu(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new Mu(e,r,t,i))}function Xae(t,e,n){t=ge(t,ut);const r=ge(t.firestore,je),i=tT(t.converter,e,n);return fd(r,[KC(Su(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,ze.none())])}function Zae(t,e,n,...r){t=ge(t,ut);const i=ge(t.firestore,je),s=Su(i);let o;return o="string"==typeof(e=pt(e))||e instanceof Tu?function dB(t,e,n,r,i,s){const o=t.da(1,e,n),a=[XC(e,r,n)],u=[i];if(s.length%2!=0)throw new S(w.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(XC(e,s[h])),u.push(s[h+1]);const c=[],l=Yt.empty();for(let h=a.length-1;h>=0;--h)if(!gB(c,a[h])){const f=a[h];let p=u[h];p=pt(p);const m=o.ca(f);if(p instanceof dd)c.push(f);else{const y=Po(p,m);null!=y&&(c.push(f),l.set(f,y))}}const d=new er(c);return new aB(l,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function lB(t,e,n,r){const i=t.da(1,e,n);YC("Data must be an object, but it was:",i,r);const s=[],o=Yt.empty();_o(r,(u,c)=>{const l=Fg(e,u,n);c=pt(c);const d=i.ca(l);if(c instanceof dd)s.push(l);else{const h=Po(c,d);null!=h&&(s.push(l),o.set(l,h))}});const a=new er(s);return new aB(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),fd(i,[o.toMutation(t._key,ze.exists(!0))])}function Jae(t){return fd(ge(t.firestore,je),[new lu(t._key,ze.none())])}function eue(t,e){const n=ge(t.firestore,je),r=QU(t),i=tT(t.converter,e);return fd(n,[KC(Su(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,ze.exists(!1))]).then(()=>r)}function fd(t,e){return function(n,r){const i=new Ct;return n.asyncQueue.enqueueAndForget(g(function*(){return function Joe(t,e,n){return pC.apply(this,arguments)}(yield function HC(t){return Ng(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(mt(t),e)}!function(t,e=!0){Ja="9.15.0",an(new jt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new je(new xie(n.getProvider("auth-internal")),new Rie(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new S(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yo(a.options.projectId,u)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Be(g2,"3.8.0",t),Be(g2,"3.8.0","esm2017")}();class pd{constructor(e){return e}}const CB="firestore",rT=new G("angularfire2.firestore-instances");function oue(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new pd(r)}}const aue={provide:class iue{constructor(){return Jf(CB)}},deps:[[new lt,rT]]},uue={provide:pd,useFactory:function sue(t,e){const n=Zf(CB,t,e);return n&&new pd(n)},deps:[[new lt,rT],oo]};let cue=(()=>{class t{constructor(){Be("angularfire",nl.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Tn({type:t}),t.\u0275inj=dn({providers:[uue,aue]}),t})();const due=qt(eue,!0),iT=qt(wae,!0),hue=qt(Jae,!0),Gg=qt(QU,!0),sT=qt(Qae,!0),TB=qt(Yae,!0),fue=qt(Fae,!0),pue=qt(zae,!0),gue=qt(qae,!0),mue=qt(Xae,!0),SB=qt(Zae,!0);class tr{constructor(e){this.firestore=e,this.collectionName="exercises",this.categoriesLeft=[]}getDocument(e){return Gg(this.firestore,this.collectionName,e)}getCollection(){return iT(this.firestore,this.collectionName)}getExercise(e){var n=this;return g(function*(){const r=yield sT(n.getDocument(e));if(!r.exists())return Promise.reject();let i=r.data();return i.firestoreID=r.id,Promise.resolve(i)})()}getAllExercises(e){var n=this;return g(function*(){const r=e&&e>0?yield TB(gue(n.getCollection(),pue(e))):yield TB(n.getCollection());let i=[];return r.forEach(s=>{let o=s.data();o.firestoreID=s.id,i.push(o)}),i})()}getCategories(){var e=this;return g(function*(){const n=yield e.getAllExercises();let r=[];return n.forEach(i=>r.push(i.category)),r=[...new Set(r)],r})()}getAllExercisesFromCategory(e){var n=this;return g(function*(){const r=yield n.getAllExercises();let i=[];return r.forEach(s=>{s.category==e&&i.push(s)}),i})()}populateComponent(){var e=this;return g(function*(){for(;tr.isPopulating;)yield new Promise(r=>setTimeout(r,1));tr.isPopulating=!0,0==e.categoriesLeft.length&&(e.categoriesLeft=yield e.getCategories());const n=e.categoriesLeft.pop();return tr.isPopulating=!1,{categoryName:n,exercises:yield e.getAllExercisesFromCategory(n)}})()}preparePopulateComponent(){var e=this;return g(function*(){e.categoriesLeft=yield e.getCategories()})()}}tr.isPopulating=!1,tr.\u0275fac=function(e){return new(e||tr)(H(pd))},tr.\u0275prov=z({token:tr,factory:tr.\u0275fac,providedIn:"root"});const yue=["listContainer"];function _ue(t,e){1&t&&(b(0,"div",2),_e(1,"div",3),C())}function vue(t,e){if(1&t){const n=cr();b(0,"div",10),_e(1,"img",11),b(2,"div",12)(3,"h2",13),U(4),C(),b(5,"p"),U(6),C(),b(7,"button",14),W("click",function(){const s=tn(n).$implicit;return nn(De(2).emitExerciseID(s.firestoreID))}),U(8," Add "),C()()()}if(2&t){const n=e.$implicit;F(1),Oh("src",n.imageURL,uc),F(3),Br(" ",n.name,""),F(2),Er(n.description)}}function wue(t,e){if(1&t){const n=cr();b(0,"div")(1,"h1",4),U(2),C(),b(3,"div",5)(4,"div",6),W("resize",function(){return tn(n),nn(De().onWindowResize())},0,vx),C(),b(5,"div",7,8),W("load",function(){return tn(n),nn(De().onWindowResize())}),Ee(7,vue,9,3,"div",9),C()()()}if(2&t){const n=De();F(2),Er(n.categoryAndExercises.categoryName),F(2),At("absolute inset-y-0 right-2 h-full w-1/6 bg-gradient-to-r from-transparent to-white pointer-events-none z-10 ",n.isHiddenClass,""),F(1),At("flex pb-3 gap-3 lg:gap-5 overflow-auto ",n.hasPaddingClass,""),F(2),ce("ngForOf",n.categoryAndExercises.exercises)}}class gd{constructor(e){this.exercisesService=e,this.isHiddenClass="",this.hasPaddingClass="",this.isLoading=!0,this.categoryAndExercises={categoryName:"",exercises:[]},this.exerciseIDEmitter=new Me}ngOnInit(){var e=this;return g(function*(){e.categoryAndExercises=yield e.exercisesService.populateComponent(),e.isLoading=!1,setTimeout(()=>e.onWindowResize(),50)})()}emitExerciseID(e){this.exerciseIDEmitter.emit(e)}onWindowResize(){this.div.nativeElement.scrollWidth>this.div.nativeElement.clientWidth?(this.isHiddenClass="",this.hasPaddingClass="pr-[16.666667%]"):(this.isHiddenClass="hidden",this.hasPaddingClass="")}}gd.\u0275fac=function(e){return new(e||gd)(D(tr))},gd.\u0275cmp=_t({type:gd,selectors:[["app-exercise-list"]],viewQuery:function(e,n){if(1&e&&function ek(t,e,n){const r=ye();r.firstCreatePass&&(rk(r,new ZM(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),nk(r,T(),e)}(yue,5),2&e){let r;I_(r=b_())&&(n.div=r.first)}},outputs:{exerciseIDEmitter:"exerciseIDEmitter"},decls:2,vars:2,consts:[["class","p-12",4,"ngIf"],[4,"ngIf"],[1,"p-12"],[1,"m-auto","bg-yellow-500","rounded-full","animate-ping","w-8","h-8"],[1,"text-4xl","font-bold"],[1,"relative","p-2","my-5"],[3,"resize"],["id","list",3,"load"],["listContainer",""],["class","flex relative text-white",4,"ngFor","ngForOf"],[1,"flex","relative","text-white"],["alt","puxador",1,"rounded-l-lg","max-w-[7rem]","h-40","object-cover",3,"src"],[1,"bg-gradient-to-r","from-rose-500","to-yellow-500","max-w-[12rem]","min-w-[12rem]","min-h-[7rem]","rounded-r-lg","p-2"],[1,"font-extrabold"],[1,"bg-black","p-2","rounded-lg","absolute","bottom-2","hover:bg-gray-800","transition-colors",3,"click"]],template:function(e,n){1&e&&(Ee(0,_ue,2,0,"div",0),Ee(1,wue,8,8,"div",1)),2&e&&(ce("ngIf",n.isLoading),F(1),ce("ngIf",!n.isLoading))},dependencies:[Mc,jr]});class Jr{constructor(e){this.auth=e,this.user=new hr(!1),bre(this.auth,n=>this.user.next(n))}getUserObservable(){return this.user.asObservable()}logout(){var e=this;return g(function*(){return yield Dre(e.auth)})()}login(){var e=this;return g(function*(){return yield Ere(e.auth,new wte)})()}isLoggedIn(){var e=this;return g(function*(){let n=0;for(;n<=200;){if("boolean"!=typeof e.user.value)return!!e.user.value;yield new Promise(r=>setTimeout(r,10)),n++}return!1})()}getCurrentUser(){return this.auth.currentUser}}Jr.\u0275fac=function(e){return new(e||Jr)(H(Cp))},Jr.\u0275prov=z({token:Jr,factory:Jr.\u0275fac,providedIn:"root"});class _s{constructor(e,n){this.firestore=e,this.authService=n,this.schedulesCollectionName="schedules",this.userInfoCollectionName="userInfo"}getUserInfoDoc(e){return Gg(this.firestore,this.userInfoCollectionName,e)}getUserInfoCol(){return iT(this.firestore,this.userInfoCollectionName)}getScheduleDoc(e){return Gg(this.firestore,this.schedulesCollectionName,e)}getScheduleCol(){return iT(this.firestore,this.schedulesCollectionName)}createUserInfoDoc(){var e=this;return g(function*(){const n=e.authService.getCurrentUser()?.uid;!n||(yield mue(Gg(e.getUserInfoCol(),n),{schedulesID:[]}))})()}updateUserInfo(e,n){var r=this;return g(function*(){if(e)return yield SB(r.getUserInfoDoc(n),{schedulesID:e.schedulesID})})()}getUserInfo(){var e=this;return g(function*(){const n=e.authService.getCurrentUser()?.uid;if(!n)return Promise.reject();let r=yield sT(e.getUserInfoDoc(n));return r.exists()||(yield e.createUserInfoDoc()),r.data()})()}getUserSchedules(){var e=this;return g(function*(){const n=yield e.getUserInfo();let r=[];for(let i=0;i<n.schedulesID.length;i++)r.push(yield e.getSchedule(n.schedulesID[i]));return r})()}createNewSchedule(e){var n=this;return g(function*(){const r=n.authService.getCurrentUser()?.uid;if(!e||!r)return;const i=yield due(n.getScheduleCol(),e);let s=yield n.getUserInfo();return s.schedulesID.push(i.id),yield n.updateUserInfo(s,r),i})()}deleteSchedule(e){var n=this;return g(function*(){const r=n.authService.getCurrentUser()?.uid;if(!e||!r)return;let i=yield n.getUserInfo();return i.schedulesID.forEach((s,o)=>{s==e&&i.schedulesID.splice(o,1)}),yield n.updateUserInfo(i,r),hue(n.getScheduleDoc(e))})()}updateSchedule(e,n){var r=this;return g(function*(){if(e)return yield SB(r.getScheduleDoc(n),{days:e.days,exercises:e.exercises,name:e.name})})()}getSchedule(e){var n=this;return g(function*(){const r=yield sT(n.getScheduleDoc(e));if(!r.exists())return Promise.reject();let i=r.data();return i.firestoreID=r.id,Promise.resolve(i)})()}}function Iue(t,e){1&t&&(b(0,"div",2),_e(1,"div",3),C())}function bue(t,e){1&t&&(b(0,"div")(1,"p"),U(2,"Now that you already have a schedule, you just need to add the exercises to it and them you can begin your trainings"),C()())}function Eue(t,e){1&t&&(b(0,"div")(1,"p"),U(2,"You don't have any schedule yet, create one and come back to this page so you can add exercises to your schedule and begin training."),C(),b(3,"button",7),U(4,"Create Schedules"),C()())}function Due(t,e){if(1&t&&(b(0,"div",4)(1,"h2",5),U(2,"Begin training now!"),C(),Ee(3,bue,3,0,"div",6),Ee(4,Eue,5,0,"div",6),C()),2&t){const n=De();F(3),ce("ngIf",n.userHasSchedules),F(1),ce("ngIf",!n.userHasSchedules)}}_s.\u0275fac=function(e){return new(e||_s)(H(pd),H(Jr))},_s.\u0275prov=z({token:_s,factory:_s.\u0275fac,providedIn:"root"});class md{constructor(e){this.schedulesService=e,this.userHasSchedules=!1,this.isLoading=!0}ngOnInit(){var e=this;return g(function*(){const n=yield e.schedulesService.getUserInfo();e.userHasSchedules=Boolean(n.schedulesID.length>0),e.isLoading=!1})()}}function Cue(t,e){1&t&&(b(0,"div",3),_e(1,"div",4),C())}function Tue(t,e){if(1&t){const n=cr();b(0,"div",7),_e(1,"img",8),b(2,"div",9)(3,"h2",10),U(4),C(),b(5,"p"),U(6),C(),b(7,"button",11),W("click",function(){const s=tn(n).$implicit;return nn(De(2).emitExerciseID(s.firestoreID))}),U(8," Add "),C()()()}if(2&t){const n=e.$implicit;F(1),Oh("src",n.imageURL,uc),F(3),Br(" ",n.name," "),F(2),Er(n.description)}}function Sue(t,e){if(1&t&&(b(0,"div",5),Ee(1,Tue,9,3,"div",6),C()),2&t){const n=De();F(1),ce("ngForOf",n.categoryAndExercises.exercises)}}md.\u0275fac=function(e){return new(e||md)(D(_s))},md.\u0275cmp=_t({type:md,selectors:[["app-info-card"]],decls:2,vars:2,consts:[["class","p-12",4,"ngIf"],["class","my-5 bg-gradient-to-r from-rose-500 via-yellow-500 to-yellow-500 text-white rounded-lg p-2 transition-all hover:drop-shadow-xl",4,"ngIf"],[1,"p-12"],[1,"m-auto","bg-yellow-500","rounded-full","animate-ping","w-8","h-8"],[1,"my-5","bg-gradient-to-r","from-rose-500","via-yellow-500","to-yellow-500","text-white","rounded-lg","p-2","transition-all","hover:drop-shadow-xl"],[1,"font-extrabold","text-lg"],[4,"ngIf"],["routerLink","/you",1,"bg-black","rounded-lg","mt-2","p-2","hover:bg-gray-800","transition-colors"]],template:function(e,n){1&e&&(Ee(0,Iue,2,0,"div",0),Ee(1,Due,5,2,"div",1)),2&e&&(ce("ngIf",n.isLoading),F(1),ce("ngIf",!n.isLoading))},dependencies:[jr,La]});class yd{constructor(e){this.exercisesService=e,this.categoryAndExercises={categoryName:"",exercises:[]},this.exerciseIDEmitter=new Me,this.isLoading=!0}ngOnInit(){var e=this;return g(function*(){e.categoryAndExercises=yield e.exercisesService.populateComponent(),e.isLoading=!1})()}emitExerciseID(e){this.exerciseIDEmitter.emit(e)}}yd.\u0275fac=function(e){return new(e||yd)(D(tr))},yd.\u0275cmp=_t({type:yd,selectors:[["app-exercise-card"]],outputs:{exerciseIDEmitter:"exerciseIDEmitter"},decls:4,vars:3,consts:[["class","p-12",4,"ngIf"],[1,"text-4xl","font-bold","my-6"],["class","flex flex-col gap-4 md:grid md:grid-cols-2",4,"ngIf"],[1,"p-12"],[1,"m-auto","bg-yellow-500","rounded-full","animate-ping","w-8","h-8"],[1,"flex","flex-col","gap-4","md:grid","md:grid-cols-2"],["class","relative transition-all md:hover:drop-shadow-xl text-white",4,"ngFor","ngForOf"],[1,"relative","transition-all","md:hover:drop-shadow-xl","text-white"],["alt","img",1,"h-32","rounded-t-lg","object-cover","md:h-48","w-full",3,"src"],[1,"bg-gradient-to-r","from-rose-500","to-yellow-500","rounded-b-lg","p-2"],[1,"font-extrabold"],[1,"bg-black","p-2","rounded-lg","mt-2","bottom-2","hover:bg-gray-800","transition-colors",3,"click"]],template:function(e,n){1&e&&(Ee(0,Cue,2,0,"div",0),b(1,"h1",1),U(2),C(),Ee(3,Sue,2,1,"div",2)),2&e&&(ce("ngIf",n.isLoading),F(2),Er(n.categoryAndExercises.categoryName),F(1),ce("ngIf",!n.isLoading))},dependencies:[Mc,jr]});let AB=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(D(fi),D(zn))},t.\u0275dir=J({type:t}),t})(),Fo=(()=>{class t extends AB{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(t)))(r||t)}}(),t.\u0275dir=J({type:t,features:[Ae]}),t})();const ei=new G("NgValueAccessor"),Mue={provide:ei,useExisting:Oe(()=>_d),multi:!0},Rue=new G("CompositionEventMode");let _d=(()=>{class t extends AB{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kue(){const t=$r()?$r().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(D(fi),D(zn),D(Rue,8))},t.\u0275dir=J({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&W("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Ge([Mue]),Ae]}),t})();const ln=new G("NgValidators"),ws=new G("NgAsyncValidators");function UB(t){return null!=t}function BB(t){return mc(t)?ct(t):t}function $B(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function jB(t,e){return e.map(n=>n(t))}function HB(t){return t.map(e=>function Oue(t){return!t.validate}(e)?e:n=>e.validate(n))}function oT(t){return null!=t?function GB(t){if(!t)return null;const e=t.filter(UB);return 0==e.length?null:function(n){return $B(jB(n,e))}}(HB(t)):null}function aT(t){return null!=t?function qB(t){if(!t)return null;const e=t.filter(UB);return 0==e.length?null:function(n){return function Aue(...t){const e=dS(t),{args:n,keys:r}=HR(t),i=new Xe(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let u=o,c=o;for(let l=0;l<o;l++){let d=!1;gr(n[l]).subscribe(yt(s,h=>{d||(d=!0,c--),a[l]=h},()=>u--,void 0,()=>{(!u||!d)&&(c||s.next(r?qR(r,a):a),s.complete())}))}});return e?i.pipe(GR(e)):i}(jB(n,e).map(BB)).pipe(fe($B))}}(HB(t)):null}function zB(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function uT(t){return t?Array.isArray(t)?t:[t]:[]}function zg(t,e){return Array.isArray(t)?t.includes(e):t===e}function QB(t,e){const n=uT(e);return uT(t).forEach(i=>{zg(n,i)||n.push(i)}),n}function YB(t,e){return uT(e).filter(n=>!zg(t,n))}class XB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class En extends XB{get formDirective(){return null}get path(){return null}}class Is extends XB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ZB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let cT=(()=>{class t extends ZB{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(D(Is,2))},t.\u0275dir=J({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Lh("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[Ae]}),t})();const vd="VALID",Kg="INVALID",ku="PENDING",wd="DISABLED";function Qg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class n${constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vd}get invalid(){return this.status===Kg}get pending(){return this.status==ku}get disabled(){return this.status===wd}get enabled(){return this.status!==wd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(QB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(QB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YB(e,this._rawAsyncValidators))}hasValidator(e){return zg(this._rawValidators,e)}hasAsyncValidator(e){return zg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ku,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=wd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=vd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vd||this.status===ku)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wd:vd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ku,this._hasOwnPendingAsyncValidator=!0;const n=BB(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?wd:this.errors?Kg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ku)?ku:this._anyControlsHaveStatus(Kg)?Kg:vd}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Qg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Hue(t){return Array.isArray(t)?oT(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Gue(t){return Array.isArray(t)?aT(t):t||null}(this._rawAsyncValidators)}}const Id=new G("CallSetDisabledState",{providedIn:"root",factory:()=>mT}),mT="always";function bd(t,e,n=mT){(function yT(t,e){const n=function WB(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(zB(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function KB(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(zB(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Zg(e._rawValidators,i),Zg(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Wue(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&r$(t,e)})}(t,e),function Que(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function Kue(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&r$(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function zue(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Zg(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function r$(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function o$(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function a$(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const u$=class extends n${constructor(e=null,n,r){super(function fT(t){return(Qg(t)?t.validators:t)||null}(n),function pT(t,e){return(Qg(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Qg(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=a$(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){o$(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){o$(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){a$(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},rce={provide:Is,useExisting:Oe(()=>em)},d$=(()=>Promise.resolve())();let em=(()=>{class t extends Is{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new u$,this._registered=!1,this.update=new Me,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function wT(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===_d?n=s:function Zue(t){return Object.getPrototypeOf(t.constructor)===Fo}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function vT(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){d$.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&Aa(r);d$.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?function Yg(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(D(En,9),D(ln,10),D(ws,10),D(ei,10),D(Jh,8),D(Id,8))},t.\u0275dir=J({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ge([rce]),Ae,sr]}),t})();const sce={provide:ei,useExisting:Oe(()=>bT),multi:!0};let bT=(()=>{class t extends Fo{writeValue(n){this.setProperty("value",n??"")}registerOnChange(n){this.onChange=r=>{n(""==r?null:parseFloat(r))}}}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Vt(t)))(r||t)}}(),t.\u0275dir=J({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,r){1&n&&W("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Ge([sce]),Ae]}),t})(),h$=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Tn({type:t}),t.\u0275inj=dn({}),t})(),Ace=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Tn({type:t}),t.\u0275inj=dn({imports:[h$]}),t})(),xce=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Id,useValue:n.callSetDisabledState??mT}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Tn({type:t}),t.\u0275inj=dn({imports:[Ace]}),t})();function kce(t,e){1&t&&(rn(),Gn(),b(0,"div",14),_e(1,"div",15),C())}function Rce(t,e){1&t&&(b(0,"p",17),U(1,"You don't have any schedules yet"),C())}function Nce(t,e){if(1&t){const n=cr();b(0,"li")(1,"button",23),W("click",function(){const s=tn(n).$implicit;return nn(De(3).changeSelectedSchedule(s.firestoreID))}),U(2),C()()}if(2&t){const n=e.$implicit,r=De(3);F(1),At("text-slate-300 hover:text-white transition-all p-2 w-full text-left hover:bg-neutral-700/50 ",r.selectedScheduleID.includes(n.firestoreID)?"bg-neutral-700/50":"",""),F(1),Er(n.name)}}function Pce(t,e){if(1&t){const n=cr();b(0,"div")(1,"ul",18),Ee(2,Nce,3,4,"li",19),C(),b(3,"div",20)(4,"input",21),W("ngModelChange",function(i){return tn(n),nn(De(2).series=i)})("keydown",function(i){return tn(n),nn(De(2).validNumber(i))}),C(),b(5,"input",22),W("ngModelChange",function(i){return tn(n),nn(De(2).repetitions=i)})("keydown",function(i){return tn(n),nn(De(2).validNumber(i))}),C()()()}if(2&t){const n=De(2);F(2),ce("ngForOf",n.userSchedules),F(2),ce("ngModel",n.series),F(1),ce("ngModel",n.repetitions)}}function Oce(t,e){if(1&t&&(rn(),Gn(),b(0,"div"),Ee(1,Rce,2,0,"p",16),Ee(2,Pce,6,3,"div",9),C()),2&t){const n=De();F(1),ce("ngIf",!(n.userSchedules.length>0)),F(1),ce("ngIf",n.userSchedules.length>0)}}function Fce(t,e){if(1&t&&(rn(),Gn(),b(0,"p",24),U(1),C()),2&t){const n=De();F(1),Er(n.errorMessage)}}class Dd{constructor(e){this.schedulesService=e,this.invalidChars=["-","+","e","E"],this.userSchedules=[],this.isLoading=!0,this.selectedScheduleID="",this.errorMessage="",this.emittedValue="",this.closePromptEmitter=new Me}ngOnInit(){var e=this;return g(function*(){e.userSchedules=yield e.schedulesService.getUserSchedules(),e.isLoading=!1})()}ngOnDestroy(){this.errorMessage=""}addExerciseToSchedule(){var e=this;return g(function*(){if(!e.selectedScheduleID||!e.emittedValue)return void(e.errorMessage="No schedule selected");if(!e.series||!e.repetitions)return void(e.errorMessage=e.series?"Insert a valid number of repetitions":"Insert a valid number of series");let n=yield e.schedulesService.getSchedule(e.selectedScheduleID);for(const i of n.exercises)if(i.exerciseID==e.emittedValue)return void(e.errorMessage="This exercise is already in this schedule");e.isLoading=!0,n.exercises.push({exerciseID:e.emittedValue,series:e.series,repetitions:e.repetitions}),yield e.schedulesService.updateSchedule(n,e.selectedScheduleID),e.errorMessage="",e.isLoading=!1,e.closePrompt()})()}changeSelectedSchedule(e){this.selectedScheduleID=e}closePrompt(){this.closePromptEmitter.emit("")}validNumber(e){this.invalidChars.includes(e.key)&&e.preventDefault()}}Dd.\u0275fac=function(e){return new(e||Dd)(D(_s))},Dd.\u0275cmp=_t({type:Dd,selectors:[["app-selection-prompt"]],inputs:{emittedValue:"emittedValue"},outputs:{closePromptEmitter:"closePromptEmitter"},decls:18,vars:3,consts:[[1,"flex","fixed","h-full","w-full","place-content-center","top-0","left-0","z-40","bg-opacity-25","bg-black","backdrop-blur-sm",3,"click"],[1,"fixed","w-[84%]","mx-[8%]","md:w-[70%]","md:mx-[15%]","lg:w-[50%]","lg:mx-[25%]","2xl:w-[33.3333333%]","2xl:mx-[33.3333333%]","rounded-lg","top-1/3","z-50","backdrop-blur-sm","bg-black/90","text-white","border","border-neutral-500",3,"click"],[1,"p-4"],[1,"flex"],[1,"font-extrabold","mr-auto"],["routerLink","/you",1,"flex","text-slate-300","hover:text-white","transition-all"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-lg","my-auto"],["fill-rule","evenodd","d","M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"],["class","p-12",4,"ngIf"],[4,"ngIf"],["class","text-center",4,"ngIf"],[1,"mt-6","grid","grid-cols-2","divide-x","divide-neutral-500","border-t","border-t-neutral-500"],[1,"text-slate-300","hover:text-white","transition-all","p-4","rounded-bl-lg","hover:bg-neutral-700/50",3,"click"],[1,"text-slate-300","hover:text-white","transition-all","p-4","rounded-br-lg","hover:bg-neutral-700/50",3,"click"],[1,"p-12"],[1,"m-auto","bg-yellow-500","rounded-full","animate-ping","w-8","h-8"],["class","text-center text-slate-300 mt-6",4,"ngIf"],[1,"text-center","text-slate-300","mt-6"],[1,"p-4","divide-y","divide-neutral-500"],[4,"ngFor","ngForOf"],[1,"flex","justify-center","flex-wrap","gap-1"],["type","number","placeholder","Series",1,"mt-2","p-2","rounded-lg","bg-transparent","placeholder:text-gray-500","transition-all","hover:bg-gray-800","text-slate-300","hover:text-white","transition-all","hover:bg-neutral-700/50","border","border-neutral-500",3,"ngModel","ngModelChange","keydown"],["type","number","placeholder","Repetitions",1,"mt-2","p-2","rounded-lg","bg-transparent","placeholder:text-gray-500","transition-all","hover:bg-gray-800","text-slate-300","hover:text-white","transition-all","hover:bg-neutral-700/50","border","border-neutral-500",3,"ngModel","ngModelChange","keydown"],[3,"click"],[1,"text-center"]],template:function(e,n){1&e&&(b(0,"div",0),W("click",function(){return n.closePrompt()}),b(1,"div",1),W("click",function(i){return i.stopPropagation()}),b(2,"div",2)(3,"div",3)(4,"p",4),U(5,"Select Schedule:"),C(),b(6,"button",5),rn(),b(7,"svg",6),_e(8,"path",7),C(),U(9," Add "),C()(),Ee(10,kce,2,0,"div",8),Ee(11,Oce,3,2,"div",9),C(),Ee(12,Fce,2,1,"p",10),Gn(),b(13,"div",11)(14,"button",12),W("click",function(){return n.closePrompt()}),U(15,"Cancel"),C(),b(16,"button",13),W("click",function(){return n.addExerciseToSchedule()}),U(17,"Confirm"),C()()()()),2&e&&(F(10),ce("ngIf",n.isLoading),F(1),ce("ngIf",!n.isLoading),F(1),ce("ngIf",n.errorMessage))},dependencies:[Mc,jr,La,_d,bT,cT,em]});class Vo{}function Lce(t,e){if(1&t){const n=cr();b(0,"app-selection-prompt",6),W("closePromptEmitter",function(i){return tn(n),nn(De().emittedValue=i)}),C()}2&t&&ce("emittedValue",De().emittedValue)}Vo.\u0275fac=function(e){return new(e||Vo)},Vo.\u0275cmp=_t({type:Vo,selectors:[["app-footer"]],decls:12,vars:0,consts:[[1,"flex","gap-12","mx-4","md:mx-24","lg:mx-48","2xl:max-w-[50%]","2xl:mx-[25%]","my-6"],[1,"mr-auto"],[1,"font-bold"],[1,"font-light","text-sm"],[1,"my-auto","flex","justify-center","text-center","font-light"],["href","https://github.com/Edhet/workout-app","target","_blank",1,"hover:underline","hover:text-gray-800","transition-colors","flex","gap-2"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-github","my-auto"],["d","M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"]],template:function(e,n){1&e&&(b(0,"footer",0)(1,"div",1)(2,"h3",2),U(3,"Workout App \xa9 2023 "),_e(4,"br"),b(5,"span",3),U(6,"No Rights Reserved"),C()()(),b(7,"div",4)(8,"a",5),rn(),b(9,"svg",6),_e(10,"path",7),C(),U(11," GitHub "),C()()())}});class Cd{constructor(){this.emittedValue=""}ngOnDestroy(){this.emittedValue=""}}Cd.\u0275fac=function(e){return new(e||Cd)},Cd.\u0275cmp=_t({type:Cd,selectors:[["app-home"]],decls:10,vars:1,consts:[[1,"flex","flex-col","min-h-screen","justify-between"],[1,"self-start","sticky","top-0","z-40","w-full"],[3,"emittedValue","closePromptEmitter",4,"ngIf"],[1,"mx-4","md:mx-24","lg:mx-48","2xl:max-w-[50%]","2xl:mx-[25%]","mt-2","mb-auto"],[3,"exerciseIDEmitter"],[1,"mt-auto"],[3,"emittedValue","closePromptEmitter"]],template:function(e,n){1&e&&(b(0,"div",0),_e(1,"app-navbar",1),Ee(2,Lce,1,1,"app-selection-prompt",2),b(3,"main",3),_e(4,"app-info-card"),b(5,"app-exercise-list",4),W("exerciseIDEmitter",function(i){return n.emittedValue=i}),C(),b(6,"app-exercise-list",4),W("exerciseIDEmitter",function(i){return n.emittedValue=i}),C(),b(7,"app-exercise-card",4),W("exerciseIDEmitter",function(i){return n.emittedValue=i}),C(),b(8,"app-exercise-card",4),W("exerciseIDEmitter",function(i){return n.emittedValue=i}),C()(),_e(9,"app-footer",5),C()),2&e&&(F(2),ce("ngIf",n.emittedValue))},dependencies:[jr,Ws,gd,md,yd,Dd,Vo]});class Td{constructor(e,n){this.auth=e,this.router=n}loginBtn(){var e=this;return g(function*(){(yield e.auth.isLoggedIn())?yield e.router.navigate(["home"]):yield e.auth.login().then(()=>{e.router.navigate(["home"])})})()}}Td.\u0275fac=function(e){return new(e||Td)(D(Jr),D($t))},Td.\u0275cmp=_t({type:Td,selectors:[["app-google-login"]],decls:4,vars:0,consts:[[1,"h-fit","flex","font-bold","bg-black","p-2","mt-2","rounded-lg","bottom-2","hover:bg-gray-800","transition-colors","text-white",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-google","my-auto","mr-2"],["d","M15.545 6.558a9.42 9.42 0 0 1 .139 1.626c0 2.434-.87 4.492-2.384 5.885h.002C11.978 15.292 10.158 16 8 16A8 8 0 1 1 8 0a7.689 7.689 0 0 1 5.352 2.082l-2.284 2.284A4.347 4.347 0 0 0 8 3.166c-2.087 0-3.86 1.408-4.492 3.304a4.792 4.792 0 0 0 0 3.063h.003c.635 1.893 2.405 3.301 4.492 3.301 1.078 0 2.004-.276 2.722-.764h-.003a3.702 3.702 0 0 0 1.599-2.431H8v-3.08h7.545z"]],template:function(e,n){1&e&&(b(0,"button",0),W("click",function(){return n.loginBtn()}),rn(),b(1,"svg",1),_e(2,"path",2),C(),U(3," Sign in with Google\n"),C())}});class Sd{constructor(e,n){this.authService=e,this.router=n}ngOnInit(){var e=this;return g(function*(){(yield e.authService.isLoggedIn())&&(yield e.router.navigate(["/home"]))})()}}Sd.\u0275fac=function(e){return new(e||Sd)(D(Jr),D($t))},Sd.\u0275cmp=_t({type:Sd,selectors:[["app-login"]],decls:13,vars:0,consts:[[1,"h-screen"],[1,"relative","h-screen","bg-gradient-to-t","lg:bg-gradient-to-l","from-rose-500","via-yellow-500","to-transparent","z-50"],[1,"font-bold","text-5xl","md:text-6xl","mx-auto","lg:ml-auto","lg:mr-32","pt-8","w-fit"],[1,"absolute","inset-x-0","lg:mr-48","bottom-1/2","w-fit","mx-auto"],[1,"absolute","bottom-8","inset-x-0","font-bold","text-center","lg:text-end","mx-auto","lg:mr-32","w-fit"],[1,"font-light","text-sm"],["src","./assets/CardImg.jpeg",1,"object-cover","absolute","top-0","h-2/3","w-screen","lg:h-screen","lg:w-2/3","z-0"]],template:function(e,n){1&e&&(b(0,"div",0)(1,"main",1)(2,"h1",2),U(3,"Workout App"),C(),b(4,"ul",3)(5,"li"),_e(6,"app-google-login"),C()(),b(7,"h2",4),U(8,"Workout App \xa9 2023 "),_e(9,"br"),b(10,"span",5),U(11,"No Rights Reserved"),C()()(),_e(12,"img",6),C())},dependencies:[Td]});class Ru{constructor(){this.message="",this.answer=new Me}closePrompt(){this.answer.emit(!1)}confirm(){this.answer.emit(!0)}}function Vce(t,e){if(1&t&&(b(0,"p",11),U(1),C()),2&t){const n=De();F(1),Er(n.errorMessage)}}Ru.\u0275fac=function(e){return new(e||Ru)},Ru.\u0275cmp=_t({type:Ru,selectors:[["app-confirmation-prompt"]],inputs:{message:"message"},outputs:{answer:"answer"},decls:10,vars:1,consts:[[1,"flex","fixed","h-full","w-full","place-content-center","top-0","left-0","z-40","bg-opacity-25","bg-black","backdrop-blur-sm",3,"click"],[1,"m-auto","h-fit","w-[84%]","md:w-[70%]","lg:w-[50%]","2xl:w-[33.3333333%]","rounded-lg","z-50","backdrop-blur-sm","bg-black/90","text-white","border","border-neutral-500",3,"click"],[1,"p-4"],[1,"font-extrabold"],[1,"mt-6","grid","grid-cols-2","divide-x","divide-neutral-500","border-t","border-t-neutral-500"],[1,"text-slate-300","hover:text-white","transition-all","p-4","rounded-bl-lg","hover:bg-neutral-700/50",3,"click"],[1,"text-slate-300","hover:text-white","transition-all","p-4","rounded-br-lg","hover:bg-neutral-700/50",3,"click"]],template:function(e,n){1&e&&(b(0,"div",0),W("click",function(){return n.closePrompt()}),b(1,"div",1),W("click",function(i){return i.stopPropagation()}),b(2,"div",2)(3,"p",3),U(4),C()(),b(5,"div",4)(6,"button",5),W("click",function(){return n.closePrompt()}),U(7,"No"),C(),b(8,"button",6),W("click",function(){return n.confirm()}),U(9,"Yes"),C()()()()),2&e&&(F(4),Er(n.message))}});class Ad{constructor(){this.scheduleNameCharLimit=24,this.errorMessage="",this.userSchedules=[],this.newSchedule={name:"",days:[],exercises:[]},this.answer=new Me}addDayBtn(e){this.newSchedule.days.includes(e)?this.newSchedule.days.forEach((n,r)=>{n==e&&this.newSchedule.days.splice(r,1)}):this.newSchedule.days.push(e)}closePrompt(){this.errorMessage="",this.newSchedule={name:"",days:[],exercises:[]},this.answer.emit(this.newSchedule)}createSchedule(){this.errorMessage="",this.userSchedules.forEach(e=>this.errorMessage=this.newSchedule.name==e.name?"There is already a schedule with this name":""),this.newSchedule.days.length<=0&&(this.errorMessage="New schedule has no assigned days"),(!this.newSchedule.name||this.newSchedule.name.length>this.scheduleNameCharLimit)&&(this.errorMessage=this.newSchedule.name?"The schedule name is too big":"New schedule has no name"),!this.errorMessage&&this.answer.emit(this.newSchedule)}}function Uce(t,e){1&t&&(b(0,"div",4),_e(1,"div",5),C())}function Bce(t,e){1&t&&(rn(),Gn(),b(0,"div",12)(1,"p",13),U(2,"You can add schedules clicking on the button with an plus sign"),C()())}function $ce(t,e){1&t&&(b(0,"div")(1,"p",29),U(2,"Go to the exercises pages to add exercises to this schedule"),C()())}function jce(t,e){if(1&t&&(b(0,"tr")(1,"td",32),U(2),C(),b(3,"td",33),U(4),C(),b(5,"td",33),U(6),C()()),2&t){const n=e.$implicit;F(2),Br(" ",n.exercisesInfo.name," "),F(2),Br(" ",n.series," "),F(2),Br(" ",n.repetitions," ")}}function Hce(t,e){if(1&t&&(b(0,"div")(1,"table",30)(2,"thead")(3,"tr",31)(4,"th",32),U(5,"Exercises"),C(),b(6,"th",33),U(7,"Series"),C(),b(8,"th",33),U(9,"Repetitions"),C()()(),b(10,"tbody"),Ee(11,jce,7,3,"tr",34),C()()()),2&t){const n=De().$implicit;F(11),ce("ngForOf",n.exercises)}}function Gce(t,e){if(1&t){const n=cr();b(0,"div",15)(1,"div",16)(2,"div",6)(3,"div",6),rn(),b(4,"svg",17),_e(5,"path",18),C(),Gn(),b(6,"h2",19),U(7),C()(),b(8,"div",20)(9,"button",21),rn(),b(10,"svg",22),_e(11,"path",23),C()(),Gn(),b(12,"button",24),W("click",function(){const s=tn(n).$implicit;return nn(De(3).deleteSchedulePrompt(s.firestoreID))}),rn(),b(13,"svg",25),_e(14,"path",26),C()()()(),Gn(),b(15,"div",27)(16,"div"),U(17,"SUN"),C(),b(18,"div"),U(19,"MON"),C(),b(20,"div"),U(21,"TUE"),C(),b(22,"div"),U(23,"WED"),C(),b(24,"div"),U(25,"THU"),C(),b(26,"div"),U(27,"FRI"),C(),b(28,"div"),U(29,"SAT"),C()()(),b(30,"div",28),Ee(31,$ce,3,0,"div",1),Ee(32,Hce,12,1,"div",1),C()()}if(2&t){const n=e.$implicit;F(7),Er(n.name),F(9),At("px-1.5 py-2 rounded-full font-mono bg-black text-white ",n.days.includes("sun")?"outline outline-2":"",""),F(2),At("px-1.5 py-2 rounded-full font-mono bg-black text-white ",n.days.includes("mon")?"outline outline-2":"",""),F(2),At("px-1.5 py-2 rounded-full font-mono bg-black text-white ",n.days.includes("tue")?"outline outline-2":"",""),F(2),At("px-1.5 py-2 rounded-full font-mono bg-black text-white ",n.days.includes("wed")?"outline outline-2":"",""),F(2),At("px-1.5 py-2 rounded-full font-mono bg-black text-white ",n.days.includes("thu")?"outline outline-2":"",""),F(2),At("px-1.5 py-2 rounded-full font-mono bg-black text-white ",n.days.includes("fri")?"outline outline-2":"",""),F(2),At("px-1.5 py-2 rounded-full font-mono bg-black text-white ",n.days.includes("sat")?"outline outline-2":"",""),F(3),ce("ngIf",!(n.exercises.length>0)),F(1),ce("ngIf",n.exercises.length>0)}}function qce(t,e){if(1&t&&(rn(),Gn(),b(0,"div"),Ee(1,Gce,33,24,"div",14),C()),2&t){const n=De(2);F(1),ce("ngForOf",n.userSchedules)}}function zce(t,e){if(1&t){const n=cr();b(0,"div")(1,"div",6)(2,"h1",7),U(3,"Schedules"),C(),b(4,"button",8),W("click",function(){return tn(n),nn(De().showCreationPrompt=!0)}),rn(),b(5,"svg",9),_e(6,"path",10),C()()(),Ee(7,Bce,3,0,"div",11),Ee(8,qce,2,1,"div",1),C()}if(2&t){const n=De();F(7),ce("ngIf",!(n.userSchedules.length>0)),F(1),ce("ngIf",n.userSchedules.length>0)}}function Wce(t,e){if(1&t){const n=cr();b(0,"app-schedule-creation-prompt",35),W("answer",function(i){return tn(n),nn(De().getCreationResponse(i))}),C()}2&t&&ce("userSchedules",De().userSchedules)}function Kce(t,e){if(1&t){const n=cr();b(0,"app-confirmation-prompt",36),W("answer",function(i){return tn(n),nn(De().getDeletionResponse(i))}),C()}2&t&&ce("message",De().deletionMessage)}Ad.\u0275fac=function(e){return new(e||Ad)},Ad.\u0275cmp=_t({type:Ad,selectors:[["app-schedule-creation-prompt"]],inputs:{userSchedules:"userSchedules"},outputs:{answer:"answer"},decls:27,vars:23,consts:[[1,"flex","fixed","h-full","w-full","place-content-center","top-0","left-0","z-40","bg-opacity-25","bg-black","backdrop-blur-sm",3,"click"],[1,"m-auto","h-fit","w-[84%]","md:w-[70%]","lg:w-[50%]","2xl:w-[33.3333333%]","rounded-lg","z-50","backdrop-blur-sm","bg-black/90","text-white","border","border-neutral-500",3,"click"],[1,"p-4"],[1,"font-extrabold"],["type","text","placeholder","Schedule name",1,"mt-4","p-2","rounded-lg","w-full","bg-transparent","placeholder:text-gray-500","transition-all","hover:bg-gray-800","text-slate-300","hover:text-white","transition-all","hover:bg-neutral-700/50","border","border-neutral-500",3,"ngModel","ngModelChange"],[1,"flex","gap-2","mt-4","mx-auto","w-fit","flex-wrap","justify-center"],[3,"click"],["class","text-center",4,"ngIf"],[1,"mt-6","grid","grid-cols-2","divide-x","divide-neutral-500","border-t","border-t-neutral-500"],[1,"text-slate-300","hover:text-white","transition-all","p-4","rounded-bl-lg","hover:bg-neutral-700/50",3,"click"],[1,"text-slate-300","hover:text-white","transition-all","p-4","rounded-br-lg","hover:bg-neutral-700/50",3,"click"],[1,"text-center"]],template:function(e,n){1&e&&(b(0,"div",0),W("click",function(){return n.closePrompt()}),b(1,"div",1),W("click",function(i){return i.stopPropagation()}),b(2,"div",2)(3,"p",3),U(4,"New Schedule:"),C(),b(5,"input",4),W("ngModelChange",function(i){return n.newSchedule.name=i}),C(),b(6,"div",5)(7,"button",6),W("click",function(){return n.addDayBtn("sun")}),U(8,"SUN"),C(),b(9,"button",6),W("click",function(){return n.addDayBtn("mon")}),U(10,"MON"),C(),b(11,"button",6),W("click",function(){return n.addDayBtn("tue")}),U(12,"TUE"),C(),b(13,"button",6),W("click",function(){return n.addDayBtn("wed")}),U(14,"WED"),C(),b(15,"button",6),W("click",function(){return n.addDayBtn("thu")}),U(16,"THU"),C(),b(17,"button",6),W("click",function(){return n.addDayBtn("fri")}),U(18,"FRI"),C(),b(19,"button",6),W("click",function(){return n.addDayBtn("sat")}),U(20,"SAT"),C()()(),Ee(21,Vce,2,1,"p",7),b(22,"div",8)(23,"button",9),W("click",function(){return n.closePrompt()}),U(24,"Cancel"),C(),b(25,"button",10),W("click",function(){return n.createSchedule()}),U(26,"Create"),C()()()()),2&e&&(F(5),ce("ngModel",n.newSchedule.name),F(2),At("px-1.5 py-2 rounded-full font-mono hover:bg-gray-800 text-slate-300 hover:text-white transition-all hover:bg-neutral-700/50 border border-neutral-500\n        ",n.newSchedule.days.includes("sun")?"outline outline-1 outline-yellow-500":"",""),F(2),At("px-1.5 py-2 rounded-full font-mono hover:bg-gray-800 text-slate-300 hover:text-white transition-all hover:bg-neutral-700/50 border border-neutral-500\n        ",n.newSchedule.days.includes("mon")?"outline outline-1 outline-yellow-500":"",""),F(2),At("px-1.5 py-2 rounded-full font-mono hover:bg-gray-800 text-slate-300 hover:text-white transition-all hover:bg-neutral-700/50 border border-neutral-500\n        ",n.newSchedule.days.includes("tue")?"outline outline-1 outline-yellow-500":"",""),F(2),At("px-1.5 py-2 rounded-full font-mono hover:bg-gray-800 text-slate-300 hover:text-white transition-all hover:bg-neutral-700/50 border border-neutral-500\n        ",n.newSchedule.days.includes("wed")?"outline outline-1 outline-yellow-500":"",""),F(2),At("px-1.5 py-2 rounded-full font-mono hover:bg-gray-800 text-slate-300 hover:text-white transition-all hover:bg-neutral-700/50 border border-neutral-500\n        ",n.newSchedule.days.includes("thu")?"outline outline-1 outline-yellow-500":"",""),F(2),At("px-1.5 py-2 rounded-full font-mono hover:bg-gray-800 text-slate-300 hover:text-white transition-all hover:bg-neutral-700/50 border border-neutral-500\n        ",n.newSchedule.days.includes("fri")?"outline outline-1 outline-yellow-500":"",""),F(2),At("px-1.5 py-2 rounded-full font-mono hover:bg-gray-800 text-slate-300 hover:text-white transition-all hover:bg-neutral-700/50 border border-neutral-500\n        ",n.newSchedule.days.includes("sat")?"outline outline-1 outline-yellow-500":"",""),F(2),ce("ngIf",n.errorMessage))},dependencies:[jr,_d,cT,em]});class xd{constructor(e,n){this.schedulesService=e,this.exercisesService=n,this.deletionMessage="Do you really want to delete this schedule?",this.scheduleIDtoDelete="",this.userSchedules=[],this.showCreationPrompt=!1,this.showDeletionPrompt=!1,this.loadingSchedules=!0,this.loadEmitter=new Me}ngOnInit(){var e=this;return g(function*(){yield e.updateSchedulesAndExercises(),e.propagateLoad(!1)})()}ngOnDestroy(){this.showCreationPrompt=!1,this.showDeletionPrompt=!1}getCreationResponse(e){var n=this;return g(function*(){n.showCreationPrompt=!1,e.name&&(n.propagateLoad(!0),yield n.schedulesService.createNewSchedule(e),yield n.updateSchedulesAndExercises(),n.propagateLoad(!1))})()}deleteSchedulePrompt(e){var n=this;return g(function*(){n.showDeletionPrompt=!0,n.scheduleIDtoDelete=e})()}getDeletionResponse(e){var n=this;return g(function*(){e?yield n.deleteSchedule():(n.showDeletionPrompt=!1,n.scheduleIDtoDelete="")})()}deleteSchedule(){var e=this;return g(function*(){e.showDeletionPrompt=!1,e.propagateLoad(!0),yield e.schedulesService.deleteSchedule(e.scheduleIDtoDelete),yield e.updateSchedulesAndExercises(),e.propagateLoad(!1)})()}getExercisesInfo(){var e=this;return g(function*(){for(let n in e.userSchedules)if(e.userSchedules[n].exercises)for(const r of e.userSchedules[n].exercises)r.exercisesInfo=yield e.exercisesService.getExercise(r.exerciseID)})()}updateSchedulesAndExercises(){var e=this;return g(function*(){e.userSchedules=yield e.schedulesService.getUserSchedules(),yield e.getExercisesInfo()})()}propagateLoad(e){this.loadingSchedules=e,this.loadEmitter.emit(this.loadingSchedules)}}function Qce(t,e){1&t&&_e(0,"app-footer")}xd.\u0275fac=function(e){return new(e||xd)(D(_s),D(tr))},xd.\u0275cmp=_t({type:xd,selectors:[["app-schedules"]],outputs:{loadEmitter:"loadEmitter"},decls:4,vars:4,consts:[["class","flex fixed h-full w-full place-content-center bg-opacity-0 top-0 left-0",4,"ngIf"],[4,"ngIf"],[3,"userSchedules","answer",4,"ngIf"],[3,"message","answer",4,"ngIf"],[1,"flex","fixed","h-full","w-full","place-content-center","bg-opacity-0","top-0","left-0"],[1,"m-auto","bg-yellow-500","rounded-full","animate-ping","w-16","h-16"],[1,"flex"],[1,"text-4xl","font-bold","mr-auto"],[1,"bg-black","p-2","rounded-lg","bottom-2","hover:bg-gray-800","transition-colors",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-plus-lg","fill-white"],["fill-rule","evenodd","d","M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"],["class","fixed top-1/2 inset-x-0 px-2 -translate-y-6",4,"ngIf"],[1,"fixed","top-1/2","inset-x-0","px-2","-translate-y-6"],[1,"text-center","font-light","my-6"],["class","text-white my-5 relative",4,"ngFor","ngForOf"],[1,"text-white","my-5","relative"],[1,"p-2","bg-gradient-to-r","from-rose-500","to-yellow-500","rounded-t-lg"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-fill","my-auto","min-w-[18px]","min-h-[18px]"],["d","M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"],[1,"text-2xl","font-bold","ml-2","break-all"],[1,"ml-auto","flex"],[1,"md:text-slate-200","hover:text-white","transition-colors","p-2"],["xmlns","http://www.w3.org/2000/svg","width","18","height","18","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-pencil-fill"],["d","M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z"],[1,"md:text-slate-200","hover:text-white","transition-colors","p-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-x-lg"],["d","M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"],[1,"font-bold","flex","gap-3","mt-3","w-fit","flex-wrap","justify-center","md:justify-start"],[1,"p-2","rounded-b-lg","border-x-2","border-b-2","text-black"],[1,"text-center","font-light"],[1,"table-fixed","w-full"],[1,"font-bold"],[1,"text-start"],[1,"text-end"],[4,"ngFor","ngForOf"],[3,"userSchedules","answer"],[3,"message","answer"]],template:function(e,n){1&e&&(Ee(0,Uce,2,0,"div",0),Ee(1,zce,9,2,"div",1),Ee(2,Wce,1,1,"app-schedule-creation-prompt",2),Ee(3,Kce,1,1,"app-confirmation-prompt",3)),2&e&&(ce("ngIf",n.loadingSchedules),F(1),ce("ngIf",!n.loadingSchedules),F(1),ce("ngIf",n.showCreationPrompt),F(1),ce("ngIf",n.showDeletionPrompt))},dependencies:[Mc,jr,Ru,Ad]});class Md{constructor(){this.loadingSchedules=!0}}function Yce(t,e){if(1&t){const n=cr();b(0,"app-confirmation-prompt",7),W("answer",function(i){return tn(n),nn(De().logoutBtn(i))}),C()}2&t&&ce("message",De().confirmationMessage)}Md.\u0275fac=function(e){return new(e||Md)},Md.\u0275cmp=_t({type:Md,selectors:[["app-you"]],decls:5,vars:1,consts:[[1,"flex","flex-col","min-h-screen","justify-between"],[1,"self-start","sticky","top-0","z-40","w-full"],[1,"mx-4","md:mx-24","lg:mx-48","2xl:max-w-[50%]","2xl:mx-[25%]","mt-2","mb-auto"],[3,"loadEmitter"],[4,"ngIf"]],template:function(e,n){1&e&&(b(0,"div",0),_e(1,"app-navbar",1),b(2,"main",2)(3,"app-schedules",3),W("loadEmitter",function(i){return n.loadingSchedules=i}),C()(),Ee(4,Qce,1,0,"app-footer",4),C()),2&e&&(F(4),ce("ngIf",!n.loadingSchedules))},dependencies:[jr,Ws,Vo,xd]});class kd{constructor(e,n){this.auth=e,this.router=n,this.confirmationMessage="Do you really want to sign out?",this.userInfo={uid:null,email:null,displayName:null,photoURL:null},this.showLogOutConfirmation=!1}ngOnInit(){let e=this.auth.getCurrentUser();this.userInfo.uid=e.uid,this.userInfo.email=e.email,this.userInfo.displayName=e?.displayName,setTimeout(()=>this.userInfo.photoURL=e?.photoURL,20)}logoutBtn(e){var n=this;return g(function*(){e&&n.auth.logout().then(g(function*(){return yield n.router.navigate(["login"])})),n.showLogOutConfirmation=!1})()}}kd.\u0275fac=function(e){return new(e||kd)(D(Jr),D($t))},kd.\u0275cmp=_t({type:kd,selectors:[["app-account-info"]],decls:10,vars:4,consts:[[1,"flex"],[1,"mr-auto"],[1,"font-bold","text-lg"],[1,"font-light","text-sm"],[1,"bg-black","p-2","rounded-lg","mt-2","bottom-2","hover:bg-gray-800","transition-colors","text-white",3,"click"],[1,"rounded-full",3,"src"],[3,"message","answer",4,"ngIf"],[3,"message","answer"]],template:function(e,n){1&e&&(b(0,"div",0)(1,"div",1)(2,"p",2),U(3),C(),b(4,"p",3),U(5),C(),b(6,"button",4),W("click",function(){return n.showLogOutConfirmation=!0}),U(7,"Log Out"),C()(),_e(8,"img",5),C(),Ee(9,Yce,1,1,"app-confirmation-prompt",6)),2&e&&(F(3),Br(" ",n.userInfo.displayName," "),F(2),Br(" ",n.userInfo.email," "),F(3),ce("src",n.userInfo.photoURL,uc),F(1),ce("ngIf",n.showLogOutConfirmation))},dependencies:[jr,Ru]});class Rd{}Rd.\u0275fac=function(e){return new(e||Rd)},Rd.\u0275cmp=_t({type:Rd,selectors:[["app-settings"]],decls:5,vars:0,consts:[[1,"flex","flex-col","min-h-screen","justify-between"],[1,"self-start","sticky","top-0","z-40","w-full"],[1,"mx-4","md:mx-24","lg:mx-48","2xl:max-w-[50%]","2xl:mx-[25%]","mt-2","mb-auto"]],template:function(e,n){1&e&&(b(0,"div",0),_e(1,"app-navbar",1),b(2,"main",2),_e(3,"app-account-info"),C(),_e(4,"app-footer"),C())},dependencies:[Ws,Vo,kd]});class bs{constructor(e,n){this.auth=e,this.router=n}canActivate(e,n){var r=this;return g(function*(){return!!(yield r.auth.isLoggedIn())||(yield r.router.navigate(["login"]),!1)})()}}bs.\u0275fac=function(e){return new(e||bs)(H(Jr),H($t))},bs.\u0275prov=z({token:bs,factory:bs.\u0275fac,providedIn:"root"});const Xce=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Cd,canActivate:[bs]},{path:"you",component:Md,canActivate:[bs]},{path:"settings",component:Rd,canActivate:[bs]},{path:"login",component:Sd}];class Nu{}Nu.\u0275fac=function(e){return new(e||Nu)},Nu.\u0275mod=Tn({type:Nu}),Nu.\u0275inj=dn({imports:[iP.forRoot(Xce),iP]});class Nd{constructor(){this.title="workout-app"}}Nd.\u0275fac=function(e){return new(e||Nd)},Nd.\u0275cmp=_t({type:Nd,selectors:[["app-root"]],decls:1,vars:0,template:function(e,n){1&e&&_e(0,"router-outlet")},dependencies:[Mv]});const M$="firebasestorage.googleapis.com";class Ye extends Kn{constructor(e,n,r=0){super(xT(e),`Firebase Storage: ${n} (${xT(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ye.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return xT(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function xT(t){return"storage/"+t}function kT(t){return new Ye("invalid-argument",t)}function O$(){return new Ye("app-deleted","The Firebase app was deleted.")}class Dn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Dn.makeFromUrl(e,n)}catch{return new Dn(e,"")}if(""===r.path)return r;throw function ale(t){return new Ye("invalid-default-bucket","Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(M){M.path_=decodeURIComponent(M.path)}const d=n.replace(/[.]/g,"\\."),_=[{regex:a,indices:{bucket:1,path:3},postModify:function s(M){"/"===M.path.charAt(M.path.length-1)&&(M.path_=M.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===M$?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let M=0;M<_.length;M++){const V=_[M],B=V.regex.exec(e);if(B){let nr=B[V.indices.path];nr||(nr=""),r=new Dn(B[V.indices.bucket],nr),V.postModify(r);break}}if(null==r)throw function ole(t){return new Ye("invalid-url","Invalid URL '"+t+"'.")}(e);return r}}class fle{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function NT(t,e,n,r){if(r<e)throw kT(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw kT(`Invalid value for '${t}'. Expected ${n} or less.`)}var Es=(()=>(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Es||(Es={})),Es))();class vle{constructor(e,n,r,i,s,o,a,u,c,l,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());!function mle(t){return void 0!==t}(u)?s():s(u)}catch(u){o(u)}else if(null!==a){const u=function MT(){return new Ye("unknown","An unknown error occurred, please check the error payload for server response.")}();u.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,u):u)}else o(i.canceled?this.appDelete_?O$():function N$(){return new Ye("canceled","User canceled the upload/download.")}():function R$(){return new Ye("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new nm(!1,null,!0)):this.backoffId_=function ple(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return 2===a}let c=!1;function l(...y){c||(c=!0,e.apply(null,y))}function d(y){i=setTimeout(()=>{i=null,t(f,u())},y)}function h(){s&&clearTimeout(s)}function f(y,...I){if(c)return void h();if(y)return h(),void l.call(null,y,...I);if(u()||o)return h(),void l.call(null,y,...I);let _;r<64&&(r*=2),1===a?(a=2,_=0):_=1e3*(r+Math.random()),d(_)}let p=!1;function m(y){p||(p=!0,h(),!c&&(null!==i?(y||(a=2),clearTimeout(i),d(0)):y||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,m(!0)},n),m}((r,i)=>{if(i)return void r(!1,new nm(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Es.NO_ERROR,u=s.getStatus();if((!a||function V$(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(u,this.additionalRetryCodes_))&&this.retry){const l=s.getErrorCode()===Es.ABORT;return void r(!1,new nm(!1,null,l))}const c=-1!==this.successCodes_.indexOf(u);r(!0,new nm(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function gle(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class nm{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class Uo{constructor(e,n){this._service=e,this._location=n instanceof Dn?n:Dn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Uo(e,n)}get root(){const e=new Dn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function H$(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function Nle(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Dn(this._location.bucket,e);return new Uo(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function hle(t){return new Ye("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function ij(t,e){const n=e?.storageBucket;return null==n?null:Dn.makeFromBucketSpec(n,t)}class BT{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=M$,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?Dn.makeFromBucketSpec(i,this._host):ij(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Dn.makeFromBucketSpec(this._url,e):ij(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){NT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){NT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return g(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return g(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Uo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new fle(O$());{const o=function Dle(t,e,n,r,i,s,o=!0){const a=function L$(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return function ble(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function wle(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function Ile(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,s),function Ele(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new vle(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return g(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const sj="@firebase/storage",aj="storage";function _de(t=qf(),e){const r=Zs(t=pt(t),aj).getImmediate({identifier:e}),i=lP("storage");return i&&function vde(t,e,n,r={}){!function yde(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:hP(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function wde(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new BT(n,r,i,e,Js)}!function Ide(){an(new jt(aj,wde,"PUBLIC").setMultipleInstances(!0)),Be(sj,"0.10.0",""),Be(sj,"0.10.0","esm2017")}();class $T{constructor(e){return e}}const uj="storage",jT=new G("angularfire2.storage-instances");function Dde(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new $T(r)}}const Cde={provide:class bde{constructor(){return Jf(uj)}},deps:[[new lt,jT]]},Tde={provide:$T,useFactory:function Ede(t,e){const n=Zf(uj,t,e);return n&&new $T(n)},deps:[[new lt,jT],oo]};let Sde=(()=>{class t{constructor(){Be("angularfire",nl.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Tn({type:t}),t.\u0275inj=dn({providers:[Tde,Cde]}),t})();const xde=qt(_de,!0),Mde={apiKey:"AIzaSyCOwNyLOf0djhiSgQA-b6PJbgHisQfYG_s",authDomain:"workout-app-edhet.firebaseapp.com",projectId:"workout-app-edhet",storageBucket:"workout-app-edhet.appspot.com",messagingSenderId:"1076716434809",appId:"1:1076716434809:web:7ceb1ba405a610e45f2ba8",measurementId:"G-Q2G1LQH2HH"};class Fu{}Fu.\u0275fac=function(e){return new(e||Fu)},Fu.\u0275mod=Tn({type:Fu,bootstrap:[Nd]}),Fu.\u0275inj=dn({imports:[x7,Nu,function BJ(t,...e){return{ngModule:UJ,providers:[{provide:GI,useFactory:VJ(t),multi:!0,deps:[Ue,mn,ep,...e]}]}}(()=>$J(Mde)),function lue(t,...e){return{ngModule:cue,providers:[{provide:rT,useFactory:oue(t),multi:!0,deps:[Ue,mn,ep,tp,[new lt,sE],[new lt,up],...e]}]}}(()=>fue()),function Ade(t,...e){return{ngModule:Sde,providers:[{provide:jT,useFactory:Dde(t),multi:!0,deps:[Ue,mn,ep,tp,[new lt,sE],[new lt,up],...e]}]}}(()=>xde()),function wre(t,...e){return{ngModule:vre,providers:[{provide:oE,useFactory:mre(t),multi:!0,deps:[Ue,mn,ep,tp,[new lt,up],...e]}]}}(()=>Ire()),xce]}),A7().bootstrapModule(Fu).catch(t=>console.error(t))}},Pe=>{Pe(Pe.s=116)}]);